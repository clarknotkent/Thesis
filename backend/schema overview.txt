SELECT table_name, column_name, data_type
FROM information_schema.columns
WHERE table_schema = 'public'
ORDER BY table_name, ordinal_position;

| table_name                    | column_name                 | data_type                   |
| ----------------------------- | --------------------------- | --------------------------- |
| activity_action_types         | action_type                 | text                        |
| activity_action_types         | domain                      | text                        |
| activity_action_types         | description                 | text                        |
| activitylogs                  | log_id                      | bigint                      |
| activitylogs                  | user_id                     | bigint                      |
| activitylogs                  | action_type                 | character varying           |
| activitylogs                  | entity_type                 | character varying           |
| activitylogs                  | entity_id                   | bigint                      |
| activitylogs                  | old_value                   | jsonb                       |
| activitylogs                  | new_value                   | jsonb                       |
| activitylogs                  | timestamp                   | timestamp without time zone |
| activitylogs_view             | log_id                      | bigint                      |
| activitylogs_view             | user_id                     | bigint                      |
| activitylogs_view             | action_type                 | character varying           |
| activitylogs_view             | entity_type                 | character varying           |
| activitylogs_view             | entity_id                   | bigint                      |
| activitylogs_view             | old_value                   | jsonb                       |
| activitylogs_view             | new_value                   | jsonb                       |
| activitylogs_view             | timestamp                   | timestamp without time zone |
| activitylogs_view             | user_name                   | text                        |
| birthhistory                  | birthhistory_id             | bigint                      |
| birthhistory                  | patient_id                  | bigint                      |
| birthhistory                  | birth_weight                | numeric                     |
| birthhistory                  | birth_length                | numeric                     |
| birthhistory                  | place_of_birth              | character varying           |
| birthhistory                  | address_at_birth            | text                        |
| birthhistory                  | time_of_birth               | time without time zone      |
| birthhistory                  | attendant_at_birth          | character varying           |
| birthhistory                  | type_of_delivery            | character varying           |
| birthhistory                  | ballards_score              | integer                     |
| birthhistory                  | hearing_test_date           | date                        |
| birthhistory                  | newborn_screening_date      | date                        |
| birthhistory                  | newborn_screening_result    | character varying           |
| birthhistory                  | is_deleted                  | boolean                     |
| birthhistory                  | deleted_at                  | timestamp without time zone |
| birthhistory                  | deleted_by                  | bigint                      |
| birthhistory                  | created_at                  | timestamp with time zone    |
| birthhistory                  | created_by                  | bigint                      |
| birthhistory                  | updated_at                  | timestamp with time zone    |
| birthhistory                  | updated_by                  | bigint                      |
| conversationparticipants      | conversation_participant_id | bigint                      |
| conversationparticipants      | conversation_id             | bigint                      |
| conversationparticipants      | user_id                     | bigint                      |
| conversationparticipants      | joined_at                   | timestamp without time zone |
| conversationparticipants      | left_at                     | timestamp without time zone |
| conversationparticipants      | is_deleted                  | boolean                     |
| conversationparticipants      | deleted_at                  | timestamp without time zone |
| conversationparticipants      | deleted_by                  | bigint                      |
| conversationparticipants      | created_at                  | timestamp with time zone    |
| conversationparticipants      | created_by                  | bigint                      |
| conversationparticipants      | updated_at                  | timestamp with time zone    |
| conversationparticipants      | updated_by                  | bigint                      |
| conversations                 | conversation_id             | bigint                      |
| conversations                 | subject                     | character varying           |
| conversations                 | created_by                  | bigint                      |
| conversations                 | created_at                  | timestamp without time zone |
| conversations                 | is_deleted                  | boolean                     |
| conversations                 | deleted_at                  | timestamp without time zone |
| conversations                 | deleted_by                  | bigint                      |
| conversations                 | updated_at                  | timestamp with time zone    |
| conversations                 | updated_by                  | bigint                      |
| conversations_view            | conversation_id             | bigint                      |
| conversations_view            | subject                     | character varying           |
| conversations_view            | created_by                  | bigint                      |
| conversations_view            | created_at                  | timestamp without time zone |
| conversations_view            | participants                | json                        |
| conversations_view            | latest_message              | text                        |
| conversations_view            | latest_message_time         | timestamp without time zone |
| dashboard_view                | total_patients              | bigint                      |
| dashboard_view                | total_healthworkers         | bigint                      |
| dashboard_view                | total_nurses                | bigint                      |
| dashboard_view                | total_nutritionists         | bigint                      |
| dashboard_view                | total_guardians             | bigint                      |
| dashboard_view                | total_vaccine_stock         | bigint                      |
| dashboard_view                | total_defaulters            | bigint                      |
| dashboard_view                | total_due_soon              | bigint                      |
| defaulters_view               | patient_id                  | bigint                      |
| defaulters_view               | patient_name                | text                        |
| defaulters_view               | guardian_name               | text                        |
| defaulters_view               | contact_number              | character varying           |
| defaulters_view               | barangay                    | character varying           |
| defaulters_view               | vaccine_id                  | bigint                      |
| defaulters_view               | next_due_antigen            | character varying           |
| defaulters_view               | dose_number                 | integer                     |
| defaulters_view               | scheduled_date              | date                        |
| defaulters_view               | status                      | character varying           |
| defaulters_view               | days_overdue                | integer                     |
| deworming                     | deworming_id                | bigint                      |
| deworming                     | visit_id                    | bigint                      |
| deworming                     | administered_by             | bigint                      |
| deworming                     | remarks                     | text                        |
| deworming                     | is_deleted                  | boolean                     |
| deworming                     | deleted_at                  | timestamp without time zone |
| deworming                     | deleted_by                  | bigint                      |
| deworming                     | created_at                  | timestamp with time zone    |
| deworming                     | created_by                  | bigint                      |
| deworming                     | updated_at                  | timestamp with time zone    |
| deworming                     | updated_by                  | bigint                      |
| deworming_history             | history_id                  | bigint                      |
| deworming_history             | deworming_id                | bigint                      |
| deworming_history             | version_no                  | integer                     |
| deworming_history             | changed_at                  | timestamp with time zone    |
| deworming_history             | changed_by                  | bigint                      |
| deworming_history             | changed_fields              | jsonb                       |
| deworming_history             | snapshot                    | jsonb                       |
| duesoon_view                  | patient_id                  | bigint                      |
| duesoon_view                  | patient_name                | text                        |
| duesoon_view                  | guardian_contact            | character varying           |
| duesoon_view                  | antigen_name                | character varying           |
| duesoon_view                  | dose_number                 | integer                     |
| duesoon_view                  | scheduled_date              | date                        |
| duesoon_view                  | days_until_due              | integer                     |
| guardians                     | guardian_id                 | bigint                      |
| guardians                     | surname                     | character varying           |
| guardians                     | firstname                   | character varying           |
| guardians                     | middlename                  | character varying           |
| guardians                     | birthdate                   | date                        |
| guardians                     | address                     | text                        |
| guardians                     | occupation                  | character varying           |
| guardians                     | contact_number              | character varying           |
| guardians                     | alternative_contact_number  | character varying           |
| guardians                     | email                       | character varying           |
| guardians                     | relationship_to_patient     | character varying           |
| guardians                     | family_number               | character varying           |
| guardians                     | date_registered             | timestamp without time zone |
| guardians                     | user_id                     | bigint                      |
| guardians                     | is_deleted                  | boolean                     |
| guardians                     | deleted_at                  | timestamp without time zone |
| guardians                     | deleted_by                  | bigint                      |
| guardians                     | created_at                  | timestamp with time zone    |
| guardians                     | created_by                  | bigint                      |
| guardians                     | updated_at                  | timestamp with time zone    |
| guardians                     | updated_by                  | bigint                      |
| immunizationhistory_view      | patient_id                  | bigint                      |
| immunizationhistory_view      | patient_name                | text                        |
| immunizationhistory_view      | vaccine_id                  | bigint                      |
| immunizationhistory_view      | antigen_name                | character varying           |
| immunizationhistory_view      | dose_number                 | integer                     |
| immunizationhistory_view      | immunization_date           | date                        |
| immunizationhistory_view      | administered_by             | text                        |
| immunizationhistory_view      | remarks                     | text                        |
| immunizationhistory_view      | inventory_id                | bigint                      |
| immunizations                 | immunization_id             | bigint                      |
| immunizations                 | visit_id                    | bigint                      |
| immunizations                 | vaccine_id                  | bigint                      |
| immunizations                 | inventory_id                | bigint                      |
| immunizations                 | dose_number                 | integer                     |
| immunizations                 | administered_by             | bigint                      |
| immunizations                 | remarks                     | text                        |
| immunizations                 | is_deleted                  | boolean                     |
| immunizations                 | deleted_at                  | timestamp without time zone |
| immunizations                 | deleted_by                  | bigint                      |
| immunizations                 | created_at                  | timestamp with time zone    |
| immunizations                 | created_by                  | bigint                      |
| immunizations                 | updated_at                  | timestamp with time zone    |
| immunizations                 | updated_by                  | bigint                      |
| immunizations_history         | history_id                  | bigint                      |
| immunizations_history         | immunization_id             | bigint                      |
| immunizations_history         | version_no                  | integer                     |
| immunizations_history         | changed_at                  | timestamp with time zone    |
| immunizations_history         | changed_by                  | bigint                      |
| immunizations_history         | changed_fields              | jsonb                       |
| immunizations_history         | snapshot                    | jsonb                       |
| inventory                     | inventory_id                | bigint                      |
| inventory                     | vaccine_id                  | bigint                      |
| inventory                     | lot_number                  | character varying           |
| inventory                     | expiration_date             | date                        |
| inventory                     | current_stock_level         | integer                     |
| inventory                     | is_deleted                  | boolean                     |
| inventory                     | deleted_at                  | timestamp without time zone |
| inventory                     | deleted_by                  | bigint                      |
| inventory                     | received_date               | timestamp with time zone    |
| inventory                     | initial_quantity            | integer                     |
| inventory                     | storage_location            | text                        |
| inventory                     | created_at                  | timestamp with time zone    |
| inventory                     | created_by                  | bigint                      |
| inventory                     | updated_at                  | timestamp with time zone    |
| inventory                     | updated_by                  | bigint                      |
| inventory_history             | history_id                  | bigint                      |
| inventory_history             | inventory_id                | bigint                      |
| inventory_history             | version_no                  | integer                     |
| inventory_history             | changed_at                  | timestamp with time zone    |
| inventory_history             | changed_by                  | bigint                      |
| inventory_history             | changed_fields              | jsonb                       |
| inventory_history             | snapshot                    | jsonb                       |
| inventory_requests            | request_id                  | bigint                      |
| inventory_requests            | inventory_id                | bigint                      |
| inventory_requests            | request_type                | character varying           |
| inventory_requests            | quantity                    | integer                     |
| inventory_requests            | requested_by                | bigint                      |
| inventory_requests            | approved_by                 | bigint                      |
| inventory_requests            | status                      | character varying           |
| inventory_requests            | remarks                     | text                        |
| inventory_requests            | requested_at                | timestamp without time zone |
| inventory_requests            | approved_at                 | timestamp without time zone |
| inventory_requests            | created_at                  | timestamp with time zone    |
| inventory_requests            | created_by                  | bigint                      |
| inventory_requests            | updated_at                  | timestamp with time zone    |
| inventory_requests            | updated_by                  | bigint                      |
| inventory_requests            | is_deleted                  | boolean                     |
| inventory_requests            | deleted_at                  | timestamp with time zone    |
| inventory_requests            | deleted_by                  | bigint                      |
| inventory_requests            | decision_at                 | timestamp with time zone    |
| inventory_requests            | decision_by                 | bigint                      |
| inventory_requests            | decision_remarks            | text                        |
| inventory_requests_history    | history_id                  | bigint                      |
| inventory_requests_history    | request_id                  | bigint                      |
| inventory_requests_history    | version_no                  | integer                     |
| inventory_requests_history    | changed_at                  | timestamp with time zone    |
| inventory_requests_history    | changed_by                  | bigint                      |
| inventory_requests_history    | changed_fields              | jsonb                       |
| inventory_requests_history    | snapshot                    | jsonb                       |
| inventorylowstock_view        | vaccine_id                  | bigint                      |
| inventorylowstock_view        | antigen_name                | character varying           |
| inventorylowstock_view        | brand_name                  | character varying           |
| inventorylowstock_view        | current_stock_level         | integer                     |
| inventorylowstock_view        | minimum_threshold           | integer                     |
| inventorylowstock_view        | expiration_soon_count       | bigint                      |
| inventorytransactions         | transaction_id              | bigint                      |
| inventorytransactions         | inventory_id                | bigint                      |
| inventorytransactions         | transaction_type            | USER-DEFINED                |
| inventorytransactions         | quantity                    | integer                     |
| inventorytransactions         | date                        | timestamp without time zone |
| inventorytransactions         | remarks                     | text                        |
| inventorytransactions         | performed_by                | bigint                      |
| inventorytransactions         | is_deleted                  | boolean                     |
| inventorytransactions         | deleted_at                  | timestamp without time zone |
| inventorytransactions         | deleted_by                  | bigint                      |
| inventorytransactions         | balance_after               | integer                     |
| inventorytransactions         | created_at                  | timestamp with time zone    |
| inventorytransactions         | created_by                  | bigint                      |
| inventorytransactions         | updated_at                  | timestamp with time zone    |
| inventorytransactions         | updated_by                  | bigint                      |
| inventorytransactions_history | history_id                  | bigint                      |
| inventorytransactions_history | transaction_id              | bigint                      |
| inventorytransactions_history | version_no                  | integer                     |
| inventorytransactions_history | changed_at                  | timestamp with time zone    |
| inventorytransactions_history | changed_by                  | bigint                      |
| inventorytransactions_history | changed_fields              | jsonb                       |
| inventorytransactions_history | snapshot                    | jsonb                       |
| messages                      | message_id                  | bigint                      |
| messages                      | conversation_id             | bigint                      |
| messages                      | sender_id                   | bigint                      |
| messages                      | message_type                | USER-DEFINED                |
| messages                      | message_content             | text                        |
| messages                      | attachment_url              | text                        |
| messages                      | created_at                  | timestamp without time zone |
| messages                      | delivered_at                | timestamp without time zone |
| messages                      | read_at                     | timestamp without time zone |
| messages                      | is_deleted                  | boolean                     |
| messages                      | deleted_at                  | timestamp without time zone |
| messages                      | deleted_by                  | bigint                      |
| messages                      | created_by                  | bigint                      |
| messages                      | updated_at                  | timestamp with time zone    |
| messages                      | updated_by                  | bigint                      |
| monthlyreports_view           | report_month                | text                        |
| monthlyreports_view           | total_patients_seen         | bigint                      |
| monthlyreports_view           | male_vaccinated             | bigint                      |
| monthlyreports_view           | female_vaccinated           | bigint                      |
| monthlyreports_view           | total_vaccinated            | bigint                      |
| monthlyreports_view           | vitamina_given              | bigint                      |
| monthlyreports_view           | deworming_given             | bigint                      |
| monthlyreports_view           | vaccines_used_by_antigen    | json                        |
| monthlyreports_view           | vaccines_used_by_brand      | json                        |
| notifications                 | notification_id             | bigint                      |
| notifications                 | channel                     | character varying           |
| notifications                 | recipient_user_id           | bigint                      |
| notifications                 | recipient_phone             | character varying           |
| notifications                 | recipient_email             | character varying           |
| notifications                 | template_code               | character varying           |
| notifications                 | message_body                | text                        |
| notifications                 | related_entity_type         | character varying           |
| notifications                 | related_entity_id           | bigint                      |
| notifications                 | scheduled_at                | timestamp without time zone |
| notifications                 | sent_at                     | timestamp without time zone |
| notifications                 | status                      | character varying           |
| notifications                 | error_message               | text                        |
| notifications                 | created_by                  | bigint                      |
| notifications                 | created_at                  | timestamp without time zone |
| notifications                 | is_deleted                  | boolean                     |
| notifications                 | deleted_at                  | timestamp without time zone |
| notifications                 | deleted_by                  | bigint                      |
| notifications                 | updated_at                  | timestamp with time zone    |
| notifications                 | updated_by                  | bigint                      |
| notifications                 | read_at                     | timestamp with time zone    |
| notifications_view            | notification_id             | bigint                      |
| notifications_view            | channel                     | character varying           |
| notifications_view            | recipient_user_id           | bigint                      |
| notifications_view            | recipient_phone             | character varying           |
| notifications_view            | recipient_email             | character varying           |
| notifications_view            | template_code               | character varying           |
| notifications_view            | message_body                | text                        |
| notifications_view            | related_entity_type         | character varying           |
| notifications_view            | related_entity_id           | bigint                      |
| notifications_view            | scheduled_at                | timestamp without time zone |
| notifications_view            | sent_at                     | timestamp without time zone |
| notifications_view            | status                      | character varying           |
| notifications_view            | error_message               | text                        |
| notifications_view            | created_by                  | bigint                      |
| notifications_view            | created_at                  | timestamp without time zone |
| notifications_view            | is_deleted                  | boolean                     |
| notifications_view            | deleted_at                  | timestamp without time zone |
| notifications_view            | deleted_by                  | bigint                      |
| notifications_view            | recipient_name              | text                        |
| patients                      | patient_id                  | bigint                      |
| patients                      | surname                     | character varying           |
| patients                      | firstname                   | character varying           |
| patients                      | middlename                  | character varying           |
| patients                      | sex                         | character varying           |
| patients                      | date_of_birth               | date                        |
| patients                      | address                     | text                        |
| patients                      | barangay                    | character varying           |
| patients                      | health_center               | character varying           |
| patients                      | date_registered             | timestamp without time zone |
| patients                      | mother_name                 | character varying           |
| patients                      | mother_occupation           | character varying           |
| patients                      | mother_contact_number       | character varying           |
| patients                      | father_name                 | character varying           |
| patients                      | father_occupation           | character varying           |
| patients                      | father_contact_number       | character varying           |
| patients                      | guardian_id                 | bigint                      |
| patients                      | family_number               | character varying           |
| patients                      | tags                        | character varying           |
| patients                      | is_deleted                  | boolean                     |
| patients                      | deleted_at                  | timestamp without time zone |
| patients                      | deleted_by                  | bigint                      |
| patients                      | created_at                  | timestamp with time zone    |
| patients                      | created_by                  | bigint                      |
| patients                      | updated_at                  | timestamp with time zone    |
| patients                      | updated_by                  | bigint                      |
| patients                      | full_name                   | text                        |
| patients_history              | history_id                  | bigint                      |
| patients_history              | patient_id                  | bigint                      |
| patients_history              | version_no                  | integer                     |
| patients_history              | changed_at                  | timestamp with time zone    |
| patients_history              | changed_by                  | bigint                      |
| patients_history              | changed_fields              | jsonb                       |
| patients_history              | snapshot                    | jsonb                       |
| patients_view                 | patient_id                  | bigint                      |
| patients_view                 | firstname                   | character varying           |
| patients_view                 | middlename                  | character varying           |
| patients_view                 | surname                     | character varying           |
| patients_view                 | patient_name                | text                        |
| patients_view                 | date_of_birth               | date                        |
| patients_view                 | sex                         | character varying           |
| patients_view                 | age_months                  | integer                     |
| patients_view                 | age_days                    | integer                     |
| patients_view                 | created_at                  | timestamp with time zone    |
| patients_view                 | updated_at                  | timestamp with time zone    |
| patients_view                 | created_by                  | bigint                      |
| patients_view                 | updated_by                  | bigint                      |
| patients_view                 | is_deleted                  | boolean                     |
| patients_view                 | deleted_at                  | timestamp without time zone |
| patients_view                 | deleted_by                  | bigint                      |
| patientschedule               | patient_schedule_id         | bigint                      |
| patientschedule               | patient_id                  | bigint                      |
| patientschedule               | vaccine_id                  | bigint                      |
| patientschedule               | dose_number                 | integer                     |
| patientschedule               | scheduled_date              | date                        |
| patientschedule               | eligible_date               | date                        |
| patientschedule               | actual_date                 | date                        |
| patientschedule               | status                      | character varying           |
| patientschedule               | updated_by                  | bigint                      |
| patientschedule               | updated_at                  | timestamp without time zone |
| patientschedule               | is_deleted                  | boolean                     |
| patientschedule               | deleted_at                  | timestamp without time zone |
| patientschedule               | deleted_by                  | bigint                      |
| patientschedule               | created_at                  | timestamp with time zone    |
| patientschedule               | created_by                  | bigint                      |
| patientschedule_history       | history_id                  | bigint                      |
| patientschedule_history       | patient_schedule_id         | bigint                      |
| patientschedule_history       | version_no                  | integer                     |
| patientschedule_history       | changed_at                  | timestamp with time zone    |
| patientschedule_history       | changed_by                  | bigint                      |
| patientschedule_history       | changed_fields              | jsonb                       |
| patientschedule_history       | snapshot                    | jsonb                       |
| patientschedule_view          | patientschedule_id          | bigint                      |
| patientschedule_view          | patient_id                  | bigint                      |
| patientschedule_view          | patient_name                | text                        |
| patientschedule_view          | vaccine_id                  | bigint                      |
| patientschedule_view          | antigen_name                | character varying           |
| patientschedule_view          | dose_number                 | integer                     |
| patientschedule_view          | scheduled_date              | date                        |
| patientschedule_view          | eligible_date               | date                        |
| patientschedule_view          | actual_date                 | date                        |
| patientschedule_view          | status                      | character varying           |
| patientschedule_view          | days_overdue                | integer                     |
| patientschedule_view          | created_at                  | timestamp with time zone    |
| patientschedule_view          | updated_at                  | timestamp without time zone |
| patientschedule_view          | created_by                  | bigint                      |
| patientschedule_view          | updated_by                  | bigint                      |
| schedule_doses                | id                          | bigint                      |
| schedule_doses                | schedule_id                 | bigint                      |
| schedule_doses                | dose_number                 | integer                     |
| schedule_doses                | due_after_days              | integer                     |
| schedule_doses                | min_interval_days           | integer                     |
| schedule_doses                | max_interval_days           | integer                     |
| schedule_doses                | min_interval_other_vax      | integer                     |
| schedule_doses                | notes                       | text                        |
| schedule_doses                | created_at                  | timestamp with time zone    |
| schedule_doses                | updated_at                  | timestamp with time zone    |
| schedule_doses                | created_by                  | bigint                      |
| schedule_doses                | updated_by                  | bigint                      |
| schedule_doses                | is_deleted                  | boolean                     |
| schedule_doses                | deleted_at                  | timestamp with time zone    |
| schedule_doses                | deleted_by                  | bigint                      |
| schedule_doses                | requires_previous           | boolean                     |
| schedule_doses                | skippable                   | boolean                     |
| schedule_doses                | grace_period_days           | integer                     |
| schedule_doses                | absolute_latest_days        | integer                     |
| schedule_master               | id                          | bigint                      |
| schedule_master               | vaccine_id                  | bigint                      |
| schedule_master               | total_doses                 | integer                     |
| schedule_master               | concurrent_allowed          | boolean                     |
| schedule_master               | created_at                  | timestamp with time zone    |
| schedule_master               | updated_at                  | timestamp with time zone    |
| schedule_master               | created_by                  | bigint                      |
| schedule_master               | updated_by                  | bigint                      |
| schedule_master               | is_deleted                  | boolean                     |
| schedule_master               | deleted_at                  | timestamp with time zone    |
| schedule_master               | deleted_by                  | bigint                      |
| schedule_master               | code                        | text                        |
| schedule_master               | name                        | text                        |
| schedule_master               | min_age_days                | integer                     |
| schedule_master               | max_age_days                | integer                     |
| schedule_master               | catchup_strategy            | text                        |
| schedule_master               | notes                       | text                        |
| tcl_view                      | patient_id                  | bigint                      |
| tcl_view                      | patient_name                | text                        |
| tcl_view                      | sex                         | character varying           |
| tcl_view                      | date_of_birth               | date                        |
| tcl_view                      | age_months                  | integer                     |
| tcl_view                      | age_days                    | integer                     |
| tcl_view                      | barangay                    | character varying           |
| tcl_view                      | health_center               | character varying           |
| tcl_view                      | guardian_name               | text                        |
| tcl_view                      | guardian_contact            | character varying           |
| tcl_view                      | latest_visit_date           | date                        |
| tcl_view                      | immunization_status         | json                        |
| tcl_view                      | vitamina_status             | text                        |
| tcl_view                      | deworming_status            | text                        |
| tcl_view                      | tags                        | character varying           |
| timestamp_normalization_audit | table_name                  | text                        |
| timestamp_normalization_audit | normalized_at               | timestamp with time zone    |
| timestamp_normalization_audit | notes                       | text                        |
| user_mapping                  | uuid                        | uuid                        |
| user_mapping                  | user_id                     | bigint                      |
| users                         | user_id                     | bigint                      |
| users                         | role                        | character varying           |
| users                         | surname                     | character varying           |
| users                         | firstname                   | character varying           |
| users                         | middlename                  | character varying           |
| users                         | sex                         | character varying           |
| users                         | birthdate                   | date                        |
| users                         | address                     | text                        |
| users                         | contact_number              | character varying           |
| users                         | email                       | character varying           |
| users                         | username                    | character varying           |
| users                         | employee_id                 | character varying           |
| users                         | professional_license_no     | character varying           |
| users                         | date_registered             | timestamp without time zone |
| users                         | last_login                  | timestamp without time zone |
| users                         | is_deleted                  | boolean                     |
| users                         | deleted_at                  | timestamp without time zone |
| users                         | deleted_by                  | bigint                      |
| users                         | user_status                 | USER-DEFINED                |
| users                         | created_at                  | timestamp with time zone    |
| users                         | created_by                  | bigint                      |
| users                         | updated_at                  | timestamp with time zone    |
| users                         | updated_by                  | bigint                      |
| users                         | full_name                   | text                        |
| users_history                 | history_id                  | bigint                      |
| users_history                 | user_id                     | bigint                      |
| users_history                 | version_no                  | integer                     |
| users_history                 | changed_at                  | timestamp with time zone    |
| users_history                 | changed_by                  | bigint                      |
| users_history                 | changed_fields              | jsonb                       |
| users_history                 | snapshot                    | jsonb                       |
| users_with_uuid               | user_id                     | bigint                      |
| users_with_uuid               | role                        | character varying           |
| users_with_uuid               | surname                     | character varying           |
| users_with_uuid               | firstname                   | character varying           |
| users_with_uuid               | middlename                  | character varying           |
| users_with_uuid               | sex                         | character varying           |
| users_with_uuid               | birthdate                   | date                        |
| users_with_uuid               | address                     | text                        |
| users_with_uuid               | contact_number              | character varying           |
| users_with_uuid               | email                       | character varying           |
| users_with_uuid               | username                    | character varying           |
| users_with_uuid               | employee_id                 | character varying           |
| users_with_uuid               | professional_license_no     | character varying           |
| users_with_uuid               | date_registered             | timestamp without time zone |
| users_with_uuid               | last_login                  | timestamp without time zone |
| users_with_uuid               | is_deleted                  | boolean                     |
| users_with_uuid               | deleted_at                  | timestamp without time zone |
| users_with_uuid               | deleted_by                  | bigint                      |
| users_with_uuid               | supabase_uuid               | uuid                        |
| vaccine_report_view           | antigen_name                | character varying           |
| vaccine_report_view           | dose_number                 | integer                     |
| vaccine_report_view           | within_24h_total            | bigint                      |
| vaccine_report_view           | within_24h_male             | bigint                      |
| vaccine_report_view           | within_24h_female           | bigint                      |
| vaccine_report_view           | after_24h_total             | bigint                      |
| vaccine_report_view           | after_24h_male              | bigint                      |
| vaccine_report_view           | after_24h_female            | bigint                      |
| vaccinemaster                 | vaccine_id                  | bigint                      |
| vaccinemaster                 | antigen_name                | character varying           |
| vaccinemaster                 | brand_name                  | character varying           |
| vaccinemaster                 | manufacturer                | character varying           |
| vaccinemaster                 | vaccine_type                | character varying           |
| vaccinemaster                 | is_deleted                  | boolean                     |
| vaccinemaster                 | deleted_at                  | timestamp without time zone |
| vaccinemaster                 | deleted_by                  | bigint                      |
| vaccinemaster                 | created_at                  | timestamp with time zone    |
| vaccinemaster                 | created_by                  | bigint                      |
| vaccinemaster                 | updated_at                  | timestamp with time zone    |
| vaccinemaster                 | updated_by                  | bigint                      |
| visits                        | visit_id                    | bigint                      |
| visits                        | patient_id                  | bigint                      |
| visits                        | visit_date                  | date                        |
| visits                        | findings                    | text                        |
| visits                        | service_rendered            | text                        |
| visits                        | recorded_by                 | bigint                      |
| visits                        | is_deleted                  | boolean                     |
| visits                        | deleted_at                  | timestamp without time zone |
| visits                        | deleted_by                  | bigint                      |
| visits                        | created_at                  | timestamp with time zone    |
| visits                        | created_by                  | bigint                      |
| visits                        | updated_at                  | timestamp with time zone    |
| visits                        | updated_by                  | bigint                      |
| visits_history                | history_id                  | bigint                      |
| visits_history                | visit_id                    | bigint                      |
| visits_history                | version_no                  | integer                     |
| visits_history                | changed_at                  | timestamp with time zone    |
| visits_history                | changed_by                  | bigint                      |
| visits_history                | changed_fields              | jsonb                       |
| visits_history                | snapshot                    | jsonb                       |
| visits_view                   | visit_id                    | bigint                      |
| visits_view                   | patient_id                  | bigint                      |
| visits_view                   | patient_name                | text                        |
| visits_view                   | visit_date                  | date                        |
| visits_view                   | findings                    | text                        |
| visits_view                   | service_rendered            | text                        |
| visits_view                   | recorded_by                 | text                        |
| visits_view                   | immunizations_given         | json                        |
| visits_view                   | vitamina_given              | boolean                     |
| visits_view                   | deworming_given             | boolean                     |
| visits_view                   | vital_signs                 | json                        |
| vitalsigns                    | vital_id                    | bigint                      |
| vitalsigns                    | visit_id                    | bigint                      |
| vitalsigns                    | temperature                 | numeric                     |
| vitalsigns                    | respiration_rate            | integer                     |
| vitalsigns                    | weight                      | numeric                     |
| vitalsigns                    | height_length               | numeric                     |
| vitalsigns                    | muac                        | numeric                     |
| vitalsigns                    | is_deleted                  | boolean                     |
| vitalsigns                    | deleted_at                  | timestamp without time zone |
| vitalsigns                    | deleted_by                  | bigint                      |
| vitalsigns                    | created_at                  | timestamp with time zone    |
| vitalsigns                    | created_by                  | bigint                      |
| vitalsigns                    | updated_at                  | timestamp with time zone    |
| vitalsigns                    | updated_by                  | bigint                      |
| vitamina                      | vitamina_id                 | bigint                      |
| vitamina                      | visit_id                    | bigint                      |
| vitamina                      | administered_by             | bigint                      |
| vitamina                      | remarks                     | text                        |
| vitamina                      | is_deleted                  | boolean                     |
| vitamina                      | deleted_at                  | timestamp without time zone |
| vitamina                      | deleted_by                  | bigint                      |
| vitamina                      | created_at                  | timestamp with time zone    |
| vitamina                      | created_by                  | bigint                      |
| vitamina                      | updated_at                  | timestamp with time zone    |
| vitamina                      | updated_by                  | bigint                      |
| vitamina_history              | history_id                  | bigint                      |
| vitamina_history              | vitamina_id                 | bigint                      |
| vitamina_history              | version_no                  | integer                     |
| vitamina_history              | changed_at                  | timestamp with time zone    |
| vitamina_history              | changed_by                  | bigint                      |
| vitamina_history              | changed_fields              | jsonb                       |
| vitamina_history              | snapshot                    | jsonb                       |
| worker_progress_view          | user_id                     | bigint                      |
| worker_progress_view          | role                        | character varying           |
| worker_progress_view          | firstname                   | character varying           |
| worker_progress_view          | surname                     | character varying           |
| worker_progress_view          | vaccines_administered       | bigint                      |
| worker_progress_view          | vitamina_administered       | bigint                      |
| worker_progress_view          | deworming_administered      | bigint                      |

SELECT
    tc.table_name,
    tc.constraint_name,
    tc.constraint_type,
    kcu.column_name,
    ccu.table_name AS foreign_table_name,
    ccu.column_name AS foreign_column_name
FROM information_schema.table_constraints AS tc
LEFT JOIN information_schema.key_column_usage AS kcu
    ON tc.constraint_name = kcu.constraint_name
    AND tc.table_schema = kcu.table_schema
LEFT JOIN information_schema.constraint_column_usage AS ccu
    ON tc.constraint_name = ccu.constraint_name
    AND tc.table_schema = ccu.table_schema
WHERE tc.table_schema = 'public'
ORDER BY tc.table_name, tc.constraint_type;

| table_name                    | constraint_name                               | constraint_type | column_name                 | foreign_table_name            | foreign_column_name         |
| ----------------------------- | --------------------------------------------- | --------------- | --------------------------- | ----------------------------- | --------------------------- |
| activity_action_types         | 2200_36684_1_not_null                         | CHECK           | null                        | null                          | null                        |
| activity_action_types         | activity_action_types_pkey                    | PRIMARY KEY     | action_type                 | activity_action_types         | action_type                 |
| activitylogs                  | 2200_22267_4_not_null                         | CHECK           | null                        | null                          | null                        |
| activitylogs                  | 2200_22267_5_not_null                         | CHECK           | null                        | null                          | null                        |
| activitylogs                  | 2200_22267_8_not_null                         | CHECK           | null                        | null                          | null                        |
| activitylogs                  | 2200_22267_1_not_null                         | CHECK           | null                        | null                          | null                        |
| activitylogs                  | 2200_22267_3_not_null                         | CHECK           | null                        | null                          | null                        |
| activitylogs                  | activitylogs_action_type_check                | CHECK           | null                        | activitylogs                  | action_type                 |
| activitylogs                  | activitylogs_user_id_fkey                     | FOREIGN KEY     | user_id                     | users                         | user_id                     |
| activitylogs                  | activitylogs_pkey                             | PRIMARY KEY     | log_id                      | activitylogs                  | log_id                      |
| birthhistory                  | 2200_21909_14_not_null                        | CHECK           | null                        | null                          | null                        |
| birthhistory                  | 2200_21909_19_not_null                        | CHECK           | null                        | null                          | null                        |
| birthhistory                  | 2200_21909_1_not_null                         | CHECK           | null                        | null                          | null                        |
| birthhistory                  | 2200_21909_17_not_null                        | CHECK           | null                        | null                          | null                        |
| birthhistory                  | birthhistory_created_by_fkey                  | FOREIGN KEY     | created_by                  | users                         | user_id                     |
| birthhistory                  | birthhistory_deleted_by_fkey                  | FOREIGN KEY     | deleted_by                  | users                         | user_id                     |
| birthhistory                  | birthhistory_patient_id_fkey                  | FOREIGN KEY     | patient_id                  | patients                      | patient_id                  |
| birthhistory                  | birthhistory_updated_by_fkey                  | FOREIGN KEY     | updated_by                  | users                         | user_id                     |
| birthhistory                  | birthhistory_pkey                             | PRIMARY KEY     | birthhistory_id             | birthhistory                  | birthhistory_id             |
| conversationparticipants      | 2200_22188_6_not_null                         | CHECK           | null                        | null                          | null                        |
| conversationparticipants      | 2200_22188_9_not_null                         | CHECK           | null                        | null                          | null                        |
| conversationparticipants      | 2200_22188_4_not_null                         | CHECK           | null                        | null                          | null                        |
| conversationparticipants      | 2200_22188_1_not_null                         | CHECK           | null                        | null                          | null                        |
| conversationparticipants      | 2200_22188_11_not_null                        | CHECK           | null                        | null                          | null                        |
| conversationparticipants      | conversationparticipants_user_id_fkey         | FOREIGN KEY     | user_id                     | users                         | user_id                     |
| conversationparticipants      | conversationparticipants_created_by_fkey      | FOREIGN KEY     | created_by                  | users                         | user_id                     |
| conversationparticipants      | conversationparticipants_conversation_id_fkey | FOREIGN KEY     | conversation_id             | conversations                 | conversation_id             |
| conversationparticipants      | conversationparticipants_deleted_by_fkey      | FOREIGN KEY     | deleted_by                  | users                         | user_id                     |
| conversationparticipants      | conversationparticipants_updated_by_fkey      | FOREIGN KEY     | updated_by                  | users                         | user_id                     |
| conversationparticipants      | conversationparticipants_pkey                 | PRIMARY KEY     | conversation_participant_id | conversationparticipants      | conversation_participant_id |
| conversations                 | 2200_22169_1_not_null                         | CHECK           | null                        | null                          | null                        |
| conversations                 | 2200_22169_5_not_null                         | CHECK           | null                        | null                          | null                        |
| conversations                 | 2200_22169_8_not_null                         | CHECK           | null                        | null                          | null                        |
| conversations                 | 2200_22169_4_not_null                         | CHECK           | null                        | null                          | null                        |
| conversations                 | conversations_updated_by_fkey                 | FOREIGN KEY     | updated_by                  | users                         | user_id                     |
| conversations                 | conversations_deleted_by_fkey                 | FOREIGN KEY     | deleted_by                  | users                         | user_id                     |
| conversations                 | conversations_created_by_fkey                 | FOREIGN KEY     | created_by                  | users                         | user_id                     |
| conversations                 | conversations_pkey                            | PRIMARY KEY     | conversation_id             | conversations                 | conversation_id             |
| deworming                     | 2200_22095_8_not_null                         | CHECK           | null                        | null                          | null                        |
| deworming                     | 2200_22095_10_not_null                        | CHECK           | null                        | null                          | null                        |
| deworming                     | 2200_22095_1_not_null                         | CHECK           | null                        | null                          | null                        |
| deworming                     | 2200_22095_5_not_null                         | CHECK           | null                        | null                          | null                        |
| deworming                     | deworming_updated_by_fkey                     | FOREIGN KEY     | updated_by                  | users                         | user_id                     |
| deworming                     | deworming_deleted_by_fkey                     | FOREIGN KEY     | deleted_by                  | users                         | user_id                     |
| deworming                     | deworming_created_by_fkey                     | FOREIGN KEY     | created_by                  | users                         | user_id                     |
| deworming                     | deworming_administered_by_fkey                | FOREIGN KEY     | administered_by             | users                         | user_id                     |
| deworming                     | deworming_visit_id_fkey                       | FOREIGN KEY     | visit_id                    | visits                        | visit_id                    |
| deworming                     | deworming_pkey                                | PRIMARY KEY     | deworming_id                | deworming                     | deworming_id                |
| deworming_history             | 2200_35691_3_not_null                         | CHECK           | null                        | null                          | null                        |
| deworming_history             | 2200_35691_4_not_null                         | CHECK           | null                        | null                          | null                        |
| deworming_history             | 2200_35691_1_not_null                         | CHECK           | null                        | null                          | null                        |
| deworming_history             | 2200_35691_2_not_null                         | CHECK           | null                        | null                          | null                        |
| deworming_history             | deworming_history_pkey                        | PRIMARY KEY     | history_id                  | deworming_history             | history_id                  |
| guardians                     | 2200_21862_1_not_null                         | CHECK           | null                        | null                          | null                        |
| guardians                     | 2200_21862_18_not_null                        | CHECK           | null                        | null                          | null                        |
| guardians                     | 2200_21862_20_not_null                        | CHECK           | null                        | null                          | null                        |
| guardians                     | 2200_21862_12_not_null                        | CHECK           | null                        | null                          | null                        |
| guardians                     | 2200_21862_8_not_null                         | CHECK           | null                        | null                          | null                        |
| guardians                     | 2200_21862_6_not_null                         | CHECK           | null                        | null                          | null                        |
| guardians                     | 2200_21862_5_not_null                         | CHECK           | null                        | null                          | null                        |
| guardians                     | 2200_21862_3_not_null                         | CHECK           | null                        | null                          | null                        |
| guardians                     | 2200_21862_2_not_null                         | CHECK           | null                        | null                          | null                        |
| guardians                     | 2200_21862_15_not_null                        | CHECK           | null                        | null                          | null                        |
| guardians                     | 2200_21862_13_not_null                        | CHECK           | null                        | null                          | null                        |
| guardians                     | 2200_21862_11_not_null                        | CHECK           | null                        | null                          | null                        |
| guardians                     | guardians_created_by_fkey                     | FOREIGN KEY     | created_by                  | users                         | user_id                     |
| guardians                     | guardians_user_id_fkey                        | FOREIGN KEY     | user_id                     | users                         | user_id                     |
| guardians                     | guardians_updated_by_fkey                     | FOREIGN KEY     | updated_by                  | users                         | user_id                     |
| guardians                     | guardians_deleted_by_fkey                     | FOREIGN KEY     | deleted_by                  | users                         | user_id                     |
| guardians                     | guardians_pkey                                | PRIMARY KEY     | guardian_id                 | guardians                     | guardian_id                 |
| guardians                     | guardians_contact_number_key                  | UNIQUE          | contact_number              | guardians                     | contact_number              |
| immunizations                 | 2200_22035_11_not_null                        | CHECK           | null                        | null                          | null                        |
| immunizations                 | 2200_22035_5_not_null                         | CHECK           | null                        | null                          | null                        |
| immunizations                 | 2200_22035_1_not_null                         | CHECK           | null                        | null                          | null                        |
| immunizations                 | 2200_22035_13_not_null                        | CHECK           | null                        | null                          | null                        |
| immunizations                 | 2200_22035_8_not_null                         | CHECK           | null                        | null                          | null                        |
| immunizations                 | immunizations_visit_id_fkey                   | FOREIGN KEY     | visit_id                    | visits                        | visit_id                    |
| immunizations                 | immunizations_administered_by_fkey            | FOREIGN KEY     | administered_by             | users                         | user_id                     |
| immunizations                 | immunizations_created_by_fkey                 | FOREIGN KEY     | created_by                  | users                         | user_id                     |
| immunizations                 | immunizations_deleted_by_fkey                 | FOREIGN KEY     | deleted_by                  | users                         | user_id                     |
| immunizations                 | immunizations_inventory_id_fkey               | FOREIGN KEY     | inventory_id                | inventory                     | inventory_id                |
| immunizations                 | immunizations_updated_by_fkey                 | FOREIGN KEY     | updated_by                  | users                         | user_id                     |
| immunizations                 | immunizations_vaccine_id_fkey                 | FOREIGN KEY     | vaccine_id                  | vaccinemaster                 | vaccine_id                  |
| immunizations                 | immunizations_pkey                            | PRIMARY KEY     | immunization_id             | immunizations                 | immunization_id             |
| immunizations_history         | 2200_34383_2_not_null                         | CHECK           | null                        | null                          | null                        |
| immunizations_history         | 2200_34383_7_not_null                         | CHECK           | null                        | null                          | null                        |
| immunizations_history         | 2200_34383_6_not_null                         | CHECK           | null                        | null                          | null                        |
| immunizations_history         | 2200_34383_4_not_null                         | CHECK           | null                        | null                          | null                        |
| immunizations_history         | 2200_34383_3_not_null                         | CHECK           | null                        | null                          | null                        |
| immunizations_history         | 2200_34383_1_not_null                         | CHECK           | null                        | null                          | null                        |
| immunizations_history         | immunizations_history_pkey                    | PRIMARY KEY     | history_id                  | immunizations_history         | history_id                  |
| inventory                     | 2200_21987_1_not_null                         | CHECK           | null                        | null                          | null                        |
| inventory                     | inventory_current_stock_nonnegative           | CHECK           | null                        | inventory                     | current_stock_level         |
| inventory                     | 2200_21987_4_not_null                         | CHECK           | null                        | null                          | null                        |
| inventory                     | 2200_21987_5_not_null                         | CHECK           | null                        | null                          | null                        |
| inventory                     | chk_inventory_initial_qty_nonneg              | CHECK           | null                        | inventory                     | initial_quantity            |
| inventory                     | chk_inventory_stock_nonneg                    | CHECK           | null                        | inventory                     | current_stock_level         |
| inventory                     | 2200_21987_3_not_null                         | CHECK           | null                        | null                          | null                        |
| inventory                     | 2200_21987_14_not_null                        | CHECK           | null                        | null                          | null                        |
| inventory                     | 2200_21987_12_not_null                        | CHECK           | null                        | null                          | null                        |
| inventory                     | 2200_21987_9_not_null                         | CHECK           | null                        | null                          | null                        |
| inventory                     | 2200_21987_6_not_null                         | CHECK           | null                        | null                          | null                        |
| inventory                     | inventory_vaccine_id_fkey                     | FOREIGN KEY     | vaccine_id                  | vaccinemaster                 | vaccine_id                  |
| inventory                     | inventory_deleted_by_fkey                     | FOREIGN KEY     | deleted_by                  | users                         | user_id                     |
| inventory                     | inventory_updated_by_fkey                     | FOREIGN KEY     | updated_by                  | users                         | user_id                     |
| inventory                     | inventory_created_by_fkey                     | FOREIGN KEY     | created_by                  | users                         | user_id                     |
| inventory                     | inventory_pkey                                | PRIMARY KEY     | inventory_id                | inventory                     | inventory_id                |
| inventory                     | inventory_vaccine_id_lot_number_key           | UNIQUE          | lot_number                  | inventory                     | lot_number                  |
| inventory                     | inventory_vaccine_id_lot_number_key           | UNIQUE          | vaccine_id                  | inventory                     | vaccine_id                  |
| inventory                     | inventory_vaccine_id_lot_number_key           | UNIQUE          | lot_number                  | inventory                     | vaccine_id                  |
| inventory                     | inventory_vaccine_id_lot_number_key           | UNIQUE          | vaccine_id                  | inventory                     | lot_number                  |
| inventory_history             | 2200_34361_2_not_null                         | CHECK           | null                        | null                          | null                        |
| inventory_history             | 2200_34361_7_not_null                         | CHECK           | null                        | null                          | null                        |
| inventory_history             | 2200_34361_6_not_null                         | CHECK           | null                        | null                          | null                        |
| inventory_history             | 2200_34361_1_not_null                         | CHECK           | null                        | null                          | null                        |
| inventory_history             | 2200_34361_4_not_null                         | CHECK           | null                        | null                          | null                        |
| inventory_history             | 2200_34361_3_not_null                         | CHECK           | null                        | null                          | null                        |
| inventory_history             | inventory_history_pkey                        | PRIMARY KEY     | history_id                  | inventory_history             | history_id                  |
| inventory_requests            | chk_inventory_requests_approval               | CHECK           | null                        | inventory_requests            | approved_at                 |
| inventory_requests            | inventory_requests_status_check               | CHECK           | null                        | inventory_requests            | status                      |
| inventory_requests            | inventory_requests_request_type_check         | CHECK           | null                        | inventory_requests            | request_type                |
| inventory_requests            | 2200_27419_1_not_null                         | CHECK           | null                        | null                          | null                        |
| inventory_requests            | 2200_27419_4_not_null                         | CHECK           | null                        | null                          | null                        |
| inventory_requests            | 2200_27419_11_not_null                        | CHECK           | null                        | null                          | null                        |
| inventory_requests            | 2200_27419_13_not_null                        | CHECK           | null                        | null                          | null                        |
| inventory_requests            | 2200_27419_15_not_null                        | CHECK           | null                        | null                          | null                        |
| inventory_requests            | chk_inventory_requests_rejected               | CHECK           | null                        | inventory_requests            | status                      |
| inventory_requests            | chk_inventory_requests_rejected               | CHECK           | null                        | inventory_requests            | remarks                     |
| inventory_requests            | chk_inventory_requests_approval               | CHECK           | null                        | inventory_requests            | status                      |
| inventory_requests            | chk_inventory_requests_approval               | CHECK           | null                        | inventory_requests            | approved_by                 |
| inventory_requests            | inventory_requests_deleted_by_fkey            | FOREIGN KEY     | deleted_by                  | users                         | user_id                     |
| inventory_requests            | inventory_requests_approved_by_fkey           | FOREIGN KEY     | approved_by                 | users                         | user_id                     |
| inventory_requests            | inventory_requests_updated_by_fkey            | FOREIGN KEY     | updated_by                  | users                         | user_id                     |
| inventory_requests            | inventory_requests_created_by_fkey            | FOREIGN KEY     | created_by                  | users                         | user_id                     |
| inventory_requests            | inventory_requests_requested_by_fkey          | FOREIGN KEY     | requested_by                | users                         | user_id                     |
| inventory_requests            | inventory_requests_inventory_id_fkey          | FOREIGN KEY     | inventory_id                | inventory                     | inventory_id                |
| inventory_requests            | inventory_requests_pkey                       | PRIMARY KEY     | request_id                  | inventory_requests            | request_id                  |
| inventory_requests_history    | 2200_35702_2_not_null                         | CHECK           | null                        | null                          | null                        |
| inventory_requests_history    | 2200_35702_1_not_null                         | CHECK           | null                        | null                          | null                        |
| inventory_requests_history    | 2200_35702_3_not_null                         | CHECK           | null                        | null                          | null                        |
| inventory_requests_history    | 2200_35702_4_not_null                         | CHECK           | null                        | null                          | null                        |
| inventory_requests_history    | inventory_requests_history_pkey               | PRIMARY KEY     | history_id                  | inventory_requests_history    | history_id                  |
| inventorytransactions         | 2200_22008_8_not_null                         | CHECK           | null                        | null                          | null                        |
| inventorytransactions         | 2200_22008_12_not_null                        | CHECK           | null                        | null                          | null                        |
| inventorytransactions         | 2200_22008_3_not_null                         | CHECK           | null                        | null                          | null                        |
| inventorytransactions         | 2200_22008_1_not_null                         | CHECK           | null                        | null                          | null                        |
| inventorytransactions         | 2200_22008_14_not_null                        | CHECK           | null                        | null                          | null                        |
| inventorytransactions         | inventorytransactions_transaction_type_check  | CHECK           | null                        | inventorytransactions         | transaction_type            |
| inventorytransactions         | 2200_22008_4_not_null                         | CHECK           | null                        | null                          | null                        |
| inventorytransactions         | 2200_22008_5_not_null                         | CHECK           | null                        | null                          | null                        |
| inventorytransactions         | inventorytransactions_updated_by_fkey         | FOREIGN KEY     | updated_by                  | users                         | user_id                     |
| inventorytransactions         | inventorytransactions_deleted_by_fkey         | FOREIGN KEY     | deleted_by                  | users                         | user_id                     |
| inventorytransactions         | inventorytransactions_inventory_id_fkey       | FOREIGN KEY     | inventory_id                | inventory                     | inventory_id                |
| inventorytransactions         | inventorytransactions_performed_by_fkey       | FOREIGN KEY     | performed_by                | users                         | user_id                     |
| inventorytransactions         | inventorytransactions_created_by_fkey         | FOREIGN KEY     | created_by                  | users                         | user_id                     |
| inventorytransactions         | inventorytransactions_pkey                    | PRIMARY KEY     | transaction_id              | inventorytransactions         | transaction_id              |
| inventorytransactions_history | 2200_35713_2_not_null                         | CHECK           | null                        | null                          | null                        |
| inventorytransactions_history | 2200_35713_1_not_null                         | CHECK           | null                        | null                          | null                        |
| inventorytransactions_history | 2200_35713_4_not_null                         | CHECK           | null                        | null                          | null                        |
| inventorytransactions_history | 2200_35713_3_not_null                         | CHECK           | null                        | null                          | null                        |
| inventorytransactions_history | inventorytransactions_history_pkey            | PRIMARY KEY     | history_id                  | inventorytransactions_history | history_id                  |
| messages                      | 2200_22212_5_not_null                         | CHECK           | null                        | null                          | null                        |
| messages                      | 2200_22212_14_not_null                        | CHECK           | null                        | null                          | null                        |
| messages                      | 2200_22212_10_not_null                        | CHECK           | null                        | null                          | null                        |
| messages                      | 2200_22212_7_not_null                         | CHECK           | null                        | null                          | null                        |
| messages                      | 2200_22212_4_not_null                         | CHECK           | null                        | null                          | null                        |
| messages                      | 2200_22212_1_not_null                         | CHECK           | null                        | null                          | null                        |
| messages                      | messages_message_type_check                   | CHECK           | null                        | messages                      | message_type                |
| messages                      | messages_sender_id_fkey                       | FOREIGN KEY     | sender_id                   | users                         | user_id                     |
| messages                      | messages_updated_by_fkey                      | FOREIGN KEY     | updated_by                  | users                         | user_id                     |
| messages                      | messages_created_by_fkey                      | FOREIGN KEY     | created_by                  | users                         | user_id                     |
| messages                      | messages_conversation_id_fkey                 | FOREIGN KEY     | conversation_id             | conversations                 | conversation_id             |
| messages                      | messages_deleted_by_fkey                      | FOREIGN KEY     | deleted_by                  | users                         | user_id                     |
| messages                      | messages_pkey                                 | PRIMARY KEY     | message_id                  | messages                      | message_id                  |
| notifications                 | 2200_22239_12_not_null                        | CHECK           | null                        | null                          | null                        |
| notifications                 | 2200_22239_19_not_null                        | CHECK           | null                        | null                          | null                        |
| notifications                 | 2200_22239_16_not_null                        | CHECK           | null                        | null                          | null                        |
| notifications                 | 2200_22239_15_not_null                        | CHECK           | null                        | null                          | null                        |
| notifications                 | 2200_22239_7_not_null                         | CHECK           | null                        | null                          | null                        |
| notifications                 | 2200_22239_2_not_null                         | CHECK           | null                        | null                          | null                        |
| notifications                 | 2200_22239_1_not_null                         | CHECK           | null                        | null                          | null                        |
| notifications                 | notifications_channel_check                   | CHECK           | null                        | notifications                 | channel                     |
| notifications                 | notifications_status_check                    | CHECK           | null                        | notifications                 | status                      |
| notifications                 | notifications_updated_by_fkey                 | FOREIGN KEY     | updated_by                  | users                         | user_id                     |
| notifications                 | notifications_recipient_user_id_fkey          | FOREIGN KEY     | recipient_user_id           | users                         | user_id                     |
| notifications                 | notifications_created_by_fkey                 | FOREIGN KEY     | created_by                  | users                         | user_id                     |
| notifications                 | notifications_deleted_by_fkey                 | FOREIGN KEY     | deleted_by                  | users                         | user_id                     |
| notifications                 | notifications_pkey                            | PRIMARY KEY     | notification_id             | notifications                 | notification_id             |
| patients                      | 2200_21885_27_not_null                        | CHECK           | null                        | null                          | null                        |
| patients                      | 2200_21885_3_not_null                         | CHECK           | null                        | null                          | null                        |
| patients                      | 2200_21885_6_not_null                         | CHECK           | null                        | null                          | null                        |
| patients                      | 2200_21885_9_not_null                         | CHECK           | null                        | null                          | null                        |
| patients                      | 2200_21885_10_not_null                        | CHECK           | null                        | null                          | null                        |
| patients                      | 2200_21885_11_not_null                        | CHECK           | null                        | null                          | null                        |
| patients                      | 2200_21885_12_not_null                        | CHECK           | null                        | null                          | null                        |
| patients                      | 2200_21885_20_not_null                        | CHECK           | null                        | null                          | null                        |
| patients                      | 2200_21885_1_not_null                         | CHECK           | null                        | null                          | null                        |
| patients                      | 2200_21885_2_not_null                         | CHECK           | null                        | null                          | null                        |
| patients                      | 2200_21885_5_not_null                         | CHECK           | null                        | null                          | null                        |
| patients                      | patients_sex_check                            | CHECK           | null                        | patients                      | sex                         |
| patients                      | patients_tags_check                           | CHECK           | null                        | patients                      | tags                        |
| patients                      | 2200_21885_25_not_null                        | CHECK           | null                        | null                          | null                        |
| patients                      | 2200_21885_22_not_null                        | CHECK           | null                        | null                          | null                        |
| patients                      | patients_guardian_id_fkey                     | FOREIGN KEY     | guardian_id                 | guardians                     | guardian_id                 |
| patients                      | patients_updated_by_fkey                      | FOREIGN KEY     | updated_by                  | users                         | user_id                     |
| patients                      | patients_created_by_fkey                      | FOREIGN KEY     | created_by                  | users                         | user_id                     |
| patients                      | patients_deleted_by_fkey                      | FOREIGN KEY     | deleted_by                  | users                         | user_id                     |
| patients                      | patients_pkey                                 | PRIMARY KEY     | patient_id                  | patients                      | patient_id                  |
| patients_history              | 2200_34350_6_not_null                         | CHECK           | null                        | null                          | null                        |
| patients_history              | 2200_34350_1_not_null                         | CHECK           | null                        | null                          | null                        |
| patients_history              | 2200_34350_2_not_null                         | CHECK           | null                        | null                          | null                        |
| patients_history              | 2200_34350_3_not_null                         | CHECK           | null                        | null                          | null                        |
| patients_history              | 2200_34350_4_not_null                         | CHECK           | null                        | null                          | null                        |
| patients_history              | 2200_34350_7_not_null                         | CHECK           | null                        | null                          | null                        |
| patients_history              | patients_history_pkey                         | PRIMARY KEY     | history_id                  | patients_history              | history_id                  |
| patientschedule               | 2200_22139_5_not_null                         | CHECK           | null                        | null                          | null                        |
| patientschedule               | 2200_22139_1_not_null                         | CHECK           | null                        | null                          | null                        |
| patientschedule               | patientschedule_status_check                  | CHECK           | null                        | patientschedule               | status                      |
| patientschedule               | 2200_22139_14_not_null                        | CHECK           | null                        | null                          | null                        |
| patientschedule               | 2200_22139_11_not_null                        | CHECK           | null                        | null                          | null                        |
| patientschedule               | 2200_22139_10_not_null                        | CHECK           | null                        | null                          | null                        |
| patientschedule               | 2200_22139_8_not_null                         | CHECK           | null                        | null                          | null                        |
| patientschedule               | 2200_22139_6_not_null                         | CHECK           | null                        | null                          | null                        |
| patientschedule               | 2200_22139_4_not_null                         | CHECK           | null                        | null                          | null                        |
| patientschedule               | patientschedule_patient_id_fkey               | FOREIGN KEY     | patient_id                  | patients                      | patient_id                  |
| patientschedule               | patientschedule_deleted_by_fkey               | FOREIGN KEY     | deleted_by                  | users                         | user_id                     |
| patientschedule               | patientschedule_created_by_fkey               | FOREIGN KEY     | created_by                  | users                         | user_id                     |
| patientschedule               | patientschedule_vaccine_id_fkey               | FOREIGN KEY     | vaccine_id                  | vaccinemaster                 | vaccine_id                  |
| patientschedule               | patientschedule_updated_by_fkey               | FOREIGN KEY     | updated_by                  | users                         | user_id                     |
| patientschedule               | patientschedule_pkey                          | PRIMARY KEY     | patient_schedule_id         | patientschedule               | patient_schedule_id         |
| patientschedule               | uq_patientschedule_unique                     | UNIQUE          | dose_number                 | patientschedule               | dose_number                 |
| patientschedule               | uq_patientschedule_unique                     | UNIQUE          | patient_id                  | patientschedule               | vaccine_id                  |
| patientschedule               | uq_patientschedule_unique                     | UNIQUE          | vaccine_id                  | patientschedule               | vaccine_id                  |
| patientschedule               | uq_patientschedule_unique                     | UNIQUE          | patient_id                  | patientschedule               | patient_id                  |
| patientschedule               | uq_patientschedule_unique                     | UNIQUE          | patient_id                  | patientschedule               | dose_number                 |
| patientschedule               | uq_patientschedule_unique                     | UNIQUE          | vaccine_id                  | patientschedule               | patient_id                  |
| patientschedule               | uq_patientschedule_patient_vax_dose           | UNIQUE          | dose_number                 | patientschedule               | vaccine_id                  |
| patientschedule               | uq_patientschedule_patient_vax_dose           | UNIQUE          | dose_number                 | patientschedule               | patient_id                  |
| patientschedule               | uq_patientschedule_patient_vax_dose           | UNIQUE          | dose_number                 | patientschedule               | dose_number                 |
| patientschedule               | uq_patientschedule_patient_vax_dose           | UNIQUE          | vaccine_id                  | patientschedule               | vaccine_id                  |
| patientschedule               | uq_patientschedule_patient_vax_dose           | UNIQUE          | vaccine_id                  | patientschedule               | patient_id                  |
| patientschedule               | uq_patientschedule_patient_vax_dose           | UNIQUE          | patient_id                  | patientschedule               | vaccine_id                  |
| patientschedule               | uq_patientschedule_patient_vax_dose           | UNIQUE          | vaccine_id                  | patientschedule               | dose_number                 |
| patientschedule               | uq_patientschedule_patient_vax_dose           | UNIQUE          | patient_id                  | patientschedule               | patient_id                  |
| patientschedule               | uq_patientschedule_unique                     | UNIQUE          | vaccine_id                  | patientschedule               | dose_number                 |
| patientschedule               | uq_patientschedule_patient_vax_dose           | UNIQUE          | patient_id                  | patientschedule               | dose_number                 |
| patientschedule               | uq_patientschedule_unique                     | UNIQUE          | dose_number                 | patientschedule               | vaccine_id                  |
| patientschedule               | uq_patientschedule_unique                     | UNIQUE          | dose_number                 | patientschedule               | patient_id                  |
| patientschedule_history       | 2200_34372_4_not_null                         | CHECK           | null                        | null                          | null                        |
| patientschedule_history       | 2200_34372_1_not_null                         | CHECK           | null                        | null                          | null                        |
| patientschedule_history       | 2200_34372_2_not_null                         | CHECK           | null                        | null                          | null                        |
| patientschedule_history       | 2200_34372_3_not_null                         | CHECK           | null                        | null                          | null                        |
| patientschedule_history       | 2200_34372_6_not_null                         | CHECK           | null                        | null                          | null                        |
| patientschedule_history       | 2200_34372_7_not_null                         | CHECK           | null                        | null                          | null                        |
| patientschedule_history       | patientschedule_history_pkey                  | PRIMARY KEY     | history_id                  | patientschedule_history       | history_id                  |
| schedule_doses                | schedule_doses_max_interval_days_check        | CHECK           | null                        | schedule_doses                | max_interval_days           |
| schedule_doses                | schedule_doses_min_interval_days_check        | CHECK           | null                        | schedule_doses                | min_interval_days           |
| schedule_doses                | 2200_34143_1_not_null                         | CHECK           | null                        | null                          | null                        |
| schedule_doses                | 2200_34143_2_not_null                         | CHECK           | null                        | null                          | null                        |
| schedule_doses                | chk_schedule_doses_positive_intervals         | CHECK           | null                        | schedule_doses                | min_interval_other_vax      |
| schedule_doses                | schedule_doses_min_interval_other_vax_check   | CHECK           | null                        | schedule_doses                | min_interval_other_vax      |
| schedule_doses                | chk_schedule_doses_positive_intervals         | CHECK           | null                        | schedule_doses                | min_interval_days           |
| schedule_doses                | chk_schedule_doses_positive_intervals         | CHECK           | null                        | schedule_doses                | due_after_days              |
| schedule_doses                | 2200_34143_13_not_null                        | CHECK           | null                        | null                          | null                        |
| schedule_doses                | 2200_34143_10_not_null                        | CHECK           | null                        | null                          | null                        |
| schedule_doses                | 2200_34143_9_not_null                         | CHECK           | null                        | null                          | null                        |
| schedule_doses                | 2200_34143_3_not_null                         | CHECK           | null                        | null                          | null                        |
| schedule_doses                | chk_schedule_doses_positive_intervals         | CHECK           | null                        | schedule_doses                | max_interval_days           |
| schedule_doses                | schedule_doses_due_after_days_check           | CHECK           | null                        | schedule_doses                | due_after_days              |
| schedule_doses                | schedule_doses_dose_number_check              | CHECK           | null                        | schedule_doses                | dose_number                 |
| schedule_doses                | schedule_doses_updated_by_fkey                | FOREIGN KEY     | updated_by                  | users                         | user_id                     |
| schedule_doses                | schedule_doses_schedule_id_fkey               | FOREIGN KEY     | schedule_id                 | schedule_master               | id                          |
| schedule_doses                | schedule_doses_deleted_by_fkey                | FOREIGN KEY     | deleted_by                  | users                         | user_id                     |
| schedule_doses                | schedule_doses_created_by_fkey                | FOREIGN KEY     | created_by                  | users                         | user_id                     |
| schedule_doses                | schedule_doses_pkey                           | PRIMARY KEY     | id                          | schedule_doses                | id                          |
| schedule_doses                | uq_schedule_doses_schedule_dose               | UNIQUE          | schedule_id                 | schedule_doses                | dose_number                 |
| schedule_doses                | uq_schedule_doses_schedule_dose               | UNIQUE          | dose_number                 | schedule_doses                | schedule_id                 |
| schedule_doses                | schedule_doses_schedule_id_dose_number_key    | UNIQUE          | schedule_id                 | schedule_doses                | dose_number                 |
| schedule_doses                | schedule_doses_schedule_id_dose_number_key    | UNIQUE          | schedule_id                 | schedule_doses                | schedule_id                 |
| schedule_doses                | schedule_doses_schedule_id_dose_number_key    | UNIQUE          | dose_number                 | schedule_doses                | dose_number                 |
| schedule_doses                | schedule_doses_schedule_id_dose_number_key    | UNIQUE          | dose_number                 | schedule_doses                | schedule_id                 |
| schedule_doses                | uq_schedule_doses_schedule_dose               | UNIQUE          | schedule_id                 | schedule_doses                | schedule_id                 |
| schedule_doses                | uq_schedule_doses_schedule_dose               | UNIQUE          | dose_number                 | schedule_doses                | dose_number                 |
| schedule_master               | 2200_34117_2_not_null                         | CHECK           | null                        | null                          | null                        |
| schedule_master               | 2200_34117_1_not_null                         | CHECK           | null                        | null                          | null                        |
| schedule_master               | 2200_34117_9_not_null                         | CHECK           | null                        | null                          | null                        |
| schedule_master               | 2200_34117_6_not_null                         | CHECK           | null                        | null                          | null                        |
| schedule_master               | 2200_34117_4_not_null                         | CHECK           | null                        | null                          | null                        |
| schedule_master               | 2200_34117_3_not_null                         | CHECK           | null                        | null                          | null                        |
| schedule_master               | schedule_master_total_doses_check             | CHECK           | null                        | schedule_master               | total_doses                 |
| schedule_master               | 2200_34117_5_not_null                         | CHECK           | null                        | null                          | null                        |
| schedule_master               | schedule_master_created_by_fkey               | FOREIGN KEY     | created_by                  | users                         | user_id                     |
| schedule_master               | schedule_master_updated_by_fkey               | FOREIGN KEY     | updated_by                  | users                         | user_id                     |
| schedule_master               | schedule_master_vaccine_id_fkey               | FOREIGN KEY     | vaccine_id                  | vaccinemaster                 | vaccine_id                  |
| schedule_master               | schedule_master_deleted_by_fkey               | FOREIGN KEY     | deleted_by                  | users                         | user_id                     |
| schedule_master               | schedule_master_pkey                          | PRIMARY KEY     | id                          | schedule_master               | id                          |
| schedule_master               | uq_schedule_master_vaccine                    | UNIQUE          | vaccine_id                  | schedule_master               | vaccine_id                  |
| timestamp_normalization_audit | 2200_36676_1_not_null                         | CHECK           | null                        | null                          | null                        |
| timestamp_normalization_audit | timestamp_normalization_audit_pkey            | PRIMARY KEY     | table_name                  | timestamp_normalization_audit | table_name                  |
| user_mapping                  | 2200_22846_1_not_null                         | CHECK           | null                        | null                          | null                        |
| user_mapping                  | fk_user_id                                    | FOREIGN KEY     | user_id                     | users                         | user_id                     |
| user_mapping                  | user_mapping_pkey                             | PRIMARY KEY     | uuid                        | user_mapping                  | uuid                        |
| user_mapping                  | user_mapping_user_id_key                      | UNIQUE          | user_id                     | user_mapping                  | user_id                     |
| users                         | 2200_21838_3_not_null                         | CHECK           | null                        | null                          | null                        |
| users                         | users_role_check                              | CHECK           | null                        | users                         | role                        |
| users                         | users_sex_check                               | CHECK           | null                        | users                         | sex                         |
| users                         | 2200_21838_1_not_null                         | CHECK           | null                        | null                          | null                        |
| users                         | 2200_21838_2_not_null                         | CHECK           | null                        | null                          | null                        |
| users                         | 2200_21838_4_not_null                         | CHECK           | null                        | null                          | null                        |
| users                         | 2200_21838_6_not_null                         | CHECK           | null                        | null                          | null                        |
| users                         | 2200_21838_7_not_null                         | CHECK           | null                        | null                          | null                        |
| users                         | 2200_21838_8_not_null                         | CHECK           | null                        | null                          | null                        |
| users                         | 2200_21838_11_not_null                        | CHECK           | null                        | null                          | null                        |
| users                         | 2200_21838_15_not_null                        | CHECK           | null                        | null                          | null                        |
| users                         | 2200_21838_17_not_null                        | CHECK           | null                        | null                          | null                        |
| users                         | 2200_21838_20_not_null                        | CHECK           | null                        | null                          | null                        |
| users                         | 2200_21838_21_not_null                        | CHECK           | null                        | null                          | null                        |
| users                         | 2200_21838_23_not_null                        | CHECK           | null                        | null                          | null                        |
| users                         | users_created_by_fkey                         | FOREIGN KEY     | created_by                  | users                         | user_id                     |
| users                         | users_updated_by_fkey                         | FOREIGN KEY     | updated_by                  | users                         | user_id                     |
| users                         | users_deleted_by_fkey                         | FOREIGN KEY     | deleted_by                  | users                         | user_id                     |
| users                         | users_pkey                                    | PRIMARY KEY     | user_id                     | users                         | user_id                     |
| users                         | users_email_key                               | UNIQUE          | email                       | users                         | email                       |
| users                         | users_contact_number_key                      | UNIQUE          | contact_number              | users                         | contact_number              |
| users                         | users_username_key                            | UNIQUE          | username                    | users                         | username                    |
| users_history                 | 2200_34339_4_not_null                         | CHECK           | null                        | null                          | null                        |
| users_history                 | 2200_34339_6_not_null                         | CHECK           | null                        | null                          | null                        |
| users_history                 | 2200_34339_1_not_null                         | CHECK           | null                        | null                          | null                        |
| users_history                 | 2200_34339_7_not_null                         | CHECK           | null                        | null                          | null                        |
| users_history                 | 2200_34339_2_not_null                         | CHECK           | null                        | null                          | null                        |
| users_history                 | 2200_34339_3_not_null                         | CHECK           | null                        | null                          | null                        |
| users_history                 | users_history_pkey                            | PRIMARY KEY     | history_id                  | users_history                 | history_id                  |
| vaccinemaster                 | 2200_21972_7_not_null                         | CHECK           | null                        | null                          | null                        |
| vaccinemaster                 | vaccinemaster_vaccine_type_check              | CHECK           | null                        | vaccinemaster                 | vaccine_type                |
| vaccinemaster                 | 2200_21972_12_not_null                        | CHECK           | null                        | null                          | null                        |
| vaccinemaster                 | 2200_21972_1_not_null                         | CHECK           | null                        | null                          | null                        |
| vaccinemaster                 | 2200_21972_2_not_null                         | CHECK           | null                        | null                          | null                        |
| vaccinemaster                 | 2200_21972_5_not_null                         | CHECK           | null                        | null                          | null                        |
| vaccinemaster                 | 2200_21972_10_not_null                        | CHECK           | null                        | null                          | null                        |
| vaccinemaster                 | vaccinemaster_created_by_fkey                 | FOREIGN KEY     | created_by                  | users                         | user_id                     |
| vaccinemaster                 | vaccinemaster_updated_by_fkey                 | FOREIGN KEY     | updated_by                  | users                         | user_id                     |
| vaccinemaster                 | vaccinemaster_deleted_by_fkey                 | FOREIGN KEY     | deleted_by                  | users                         | user_id                     |
| vaccinemaster                 | vaccinemaster_pkey                            | PRIMARY KEY     | vaccine_id                  | vaccinemaster                 | vaccine_id                  |
| visits                        | 2200_21929_12_not_null                        | CHECK           | null                        | null                          | null                        |
| visits                        | 2200_21929_7_not_null                         | CHECK           | null                        | null                          | null                        |
| visits                        | 2200_21929_10_not_null                        | CHECK           | null                        | null                          | null                        |
| visits                        | 2200_21929_1_not_null                         | CHECK           | null                        | null                          | null                        |
| visits                        | 2200_21929_3_not_null                         | CHECK           | null                        | null                          | null                        |
| visits                        | visits_created_by_fkey                        | FOREIGN KEY     | created_by                  | users                         | user_id                     |
| visits                        | visits_deleted_by_fkey                        | FOREIGN KEY     | deleted_by                  | users                         | user_id                     |
| visits                        | visits_patient_id_fkey                        | FOREIGN KEY     | patient_id                  | patients                      | patient_id                  |
| visits                        | visits_recorded_by_fkey                       | FOREIGN KEY     | recorded_by                 | users                         | user_id                     |
| visits                        | visits_updated_by_fkey                        | FOREIGN KEY     | updated_by                  | users                         | user_id                     |
| visits                        | visits_pkey                                   | PRIMARY KEY     | visit_id                    | visits                        | visit_id                    |
| visits_history                | 2200_35669_3_not_null                         | CHECK           | null                        | null                          | null                        |
| visits_history                | 2200_35669_2_not_null                         | CHECK           | null                        | null                          | null                        |
| visits_history                | 2200_35669_4_not_null                         | CHECK           | null                        | null                          | null                        |
| visits_history                | 2200_35669_1_not_null                         | CHECK           | null                        | null                          | null                        |
| visits_history                | visits_history_pkey                           | PRIMARY KEY     | history_id                  | visits_history                | history_id                  |
| vitalsigns                    | 2200_21954_1_not_null                         | CHECK           | null                        | null                          | null                        |
| vitalsigns                    | 2200_21954_13_not_null                        | CHECK           | null                        | null                          | null                        |
| vitalsigns                    | 2200_21954_11_not_null                        | CHECK           | null                        | null                          | null                        |
| vitalsigns                    | 2200_21954_8_not_null                         | CHECK           | null                        | null                          | null                        |
| vitalsigns                    | vitalsigns_updated_by_fkey                    | FOREIGN KEY     | updated_by                  | users                         | user_id                     |
| vitalsigns                    | vitalsigns_created_by_fkey                    | FOREIGN KEY     | created_by                  | users                         | user_id                     |
| vitalsigns                    | vitalsigns_deleted_by_fkey                    | FOREIGN KEY     | deleted_by                  | users                         | user_id                     |
| vitalsigns                    | vitalsigns_visit_id_fkey                      | FOREIGN KEY     | visit_id                    | visits                        | visit_id                    |
| vitalsigns                    | vitalsigns_pkey                               | PRIMARY KEY     | vital_id                    | vitalsigns                    | vital_id                    |
| vitamina                      | 2200_22070_8_not_null                         | CHECK           | null                        | null                          | null                        |
| vitamina                      | 2200_22070_10_not_null                        | CHECK           | null                        | null                          | null                        |
| vitamina                      | 2200_22070_1_not_null                         | CHECK           | null                        | null                          | null                        |
| vitamina                      | 2200_22070_5_not_null                         | CHECK           | null                        | null                          | null                        |
| vitamina                      | vitamina_created_by_fkey                      | FOREIGN KEY     | created_by                  | users                         | user_id                     |
| vitamina                      | vitamina_administered_by_fkey                 | FOREIGN KEY     | administered_by             | users                         | user_id                     |
| vitamina                      | vitamina_visit_id_fkey                        | FOREIGN KEY     | visit_id                    | visits                        | visit_id                    |
| vitamina                      | vitamina_updated_by_fkey                      | FOREIGN KEY     | updated_by                  | users                         | user_id                     |
| vitamina                      | vitamina_deleted_by_fkey                      | FOREIGN KEY     | deleted_by                  | users                         | user_id                     |
| vitamina                      | vitamina_pkey                                 | PRIMARY KEY     | vitamina_id                 | vitamina                      | vitamina_id                 |
| vitamina_history              | 2200_35680_1_not_null                         | CHECK           | null                        | null                          | null                        |
| vitamina_history              | 2200_35680_3_not_null                         | CHECK           | null                        | null                          | null                        |
| vitamina_history              | 2200_35680_4_not_null                         | CHECK           | null                        | null                          | null                        |
| vitamina_history              | 2200_35680_2_not_null                         | CHECK           | null                        | null                          | null                        |
| vitamina_history              | vitamina_history_pkey                         | PRIMARY KEY     | history_id                  | vitamina_history              | history_id                  |

SELECT event_object_table AS table_name, trigger_name, action_timing, event_manipulation, action_statement
FROM information_schema.triggers
WHERE trigger_schema = 'public';

| table_name               | trigger_name                                     | action_timing | event_manipulation | action_statement                                                |
| ------------------------ | ------------------------------------------------ | ------------- | ------------------ | --------------------------------------------------------------- |
| patients                 | trg_create_patientschedule_on_patient_insert     | AFTER         | INSERT             | EXECUTE FUNCTION create_patientschedule_on_patient_insert()     |
| patientschedule          | trg_update_patient_tag_on_patientschedule_update | AFTER         | INSERT             | EXECUTE FUNCTION update_patient_tag_on_patientschedule_update() |
| patientschedule          | trg_update_patient_tag_on_patientschedule_update | AFTER         | UPDATE             | EXECUTE FUNCTION update_patient_tag_on_patientschedule_update() |
| patients                 | trg_log_patient_activity                         | AFTER         | INSERT             | EXECUTE FUNCTION log_patient_activity()                         |
| patients                 | trg_log_patient_activity                         | AFTER         | DELETE             | EXECUTE FUNCTION log_patient_activity()                         |
| patients                 | trg_log_patient_activity                         | AFTER         | UPDATE             | EXECUTE FUNCTION log_patient_activity()                         |
| inventorytransactions    | trg_update_inventory_stock_on_transaction        | AFTER         | INSERT             | EXECUTE FUNCTION update_inventory_stock_on_transaction()        |
| patients                 | trg_update_patient_age_fields                    | BEFORE        | INSERT             | EXECUTE FUNCTION update_patient_age_fields()                    |
| patients                 | trg_update_patient_age_fields                    | BEFORE        | UPDATE             | EXECUTE FUNCTION update_patient_age_fields()                    |
| patients                 | trg_soft_delete_cascade_patients                 | AFTER         | UPDATE             | EXECUTE FUNCTION soft_delete_cascade_patients()                 |
| guardians                | trg_soft_delete_cascade_guardians                | AFTER         | UPDATE             | EXECUTE FUNCTION soft_delete_cascade_guardians()                |
| patientschedule          | trg_update_patient_fic_cic_tag                   | AFTER         | INSERT             | EXECUTE FUNCTION update_patient_fic_cic_tag()                   |
| patientschedule          | trg_update_patient_fic_cic_tag                   | AFTER         | UPDATE             | EXECUTE FUNCTION update_patient_fic_cic_tag()                   |
| guardians                | trg_create_user_on_guardian_insert               | AFTER         | INSERT             | EXECUTE FUNCTION create_user_on_guardian_insert()               |
| users                    | trg_create_user_mapping_on_user_insert           | AFTER         | INSERT             | EXECUTE FUNCTION create_user_mapping_on_user_insert()           |
| patientschedule          | trg_enforce_vaccine_interval                     | BEFORE        | INSERT             | EXECUTE FUNCTION enforce_vaccine_interval()                     |
| patientschedule          | trg_enforce_vaccine_interval                     | BEFORE        | UPDATE             | EXECUTE FUNCTION enforce_vaccine_interval()                     |
| users                    | set_users_timestamp                              | BEFORE        | UPDATE             | EXECUTE FUNCTION trg_set_timestamp()                            |
| activitylogs             | activitylogs_partition_router                    | BEFORE        | INSERT             | EXECUTE FUNCTION trg_activitylogs_partition()                   |
| inventorytransactions    | apply_inventory_transaction                      | BEFORE        | INSERT             | EXECUTE FUNCTION trg_inventory_transaction_apply()              |
| users                    | users_history_trigger                            | AFTER         | UPDATE             | EXECUTE FUNCTION trg_users_history()                            |
| immunizations            | immunization_issue_inventory                     | AFTER         | INSERT             | EXECUTE FUNCTION trg_immunization_issue_inventory()             |
| guardians                | set_guardians_ts                                 | BEFORE        | UPDATE             | EXECUTE FUNCTION trg_set_timestamp_generic()                    |
| patients                 | set_patients_ts                                  | BEFORE        | UPDATE             | EXECUTE FUNCTION trg_set_timestamp_generic()                    |
| birthhistory             | set_birthhistory_ts                              | BEFORE        | UPDATE             | EXECUTE FUNCTION trg_set_timestamp_generic()                    |
| visits                   | set_visits_ts                                    | BEFORE        | UPDATE             | EXECUTE FUNCTION trg_set_timestamp_generic()                    |
| vitalsigns               | set_vitalsigns_ts                                | BEFORE        | UPDATE             | EXECUTE FUNCTION trg_set_timestamp_generic()                    |
| immunizations            | set_immunizations_ts                             | BEFORE        | UPDATE             | EXECUTE FUNCTION trg_set_timestamp_generic()                    |
| vitamina                 | set_vitamina_ts                                  | BEFORE        | UPDATE             | EXECUTE FUNCTION trg_set_timestamp_generic()                    |
| deworming                | set_deworming_ts                                 | BEFORE        | UPDATE             | EXECUTE FUNCTION trg_set_timestamp_generic()                    |
| patientschedule          | set_patientschedule_ts                           | BEFORE        | UPDATE             | EXECUTE FUNCTION trg_set_timestamp_generic()                    |
| inventory_requests       | set_inventory_requests_ts                        | BEFORE        | UPDATE             | EXECUTE FUNCTION trg_set_timestamp_generic()                    |
| conversationparticipants | set_conversationparticipants_ts                  | BEFORE        | UPDATE             | EXECUTE FUNCTION trg_set_timestamp_generic()                    |
| conversations            | set_conversations_ts                             | BEFORE        | UPDATE             | EXECUTE FUNCTION trg_set_timestamp_generic()                    |
| messages                 | set_messages_ts                                  | BEFORE        | UPDATE             | EXECUTE FUNCTION trg_set_timestamp_generic()                    |
| notifications            | set_notifications_ts                             | BEFORE        | UPDATE             | EXECUTE FUNCTION trg_set_timestamp_generic()                    |
| inventory                | set_inventory_ts                                 | BEFORE        | UPDATE             | EXECUTE FUNCTION trg_set_timestamp_generic()                    |
| inventorytransactions    | set_inventorytransactions_ts                     | BEFORE        | UPDATE             | EXECUTE FUNCTION trg_set_timestamp_generic()                    |
| vaccinemaster            | set_vaccinemaster_ts                             | BEFORE        | UPDATE             | EXECUTE FUNCTION trg_set_timestamp_generic()                    |
| schedule_master          | set_schedule_master_ts                           | BEFORE        | UPDATE             | EXECUTE FUNCTION trg_set_timestamp_generic()                    |
| schedule_doses           | set_schedule_doses_ts                            | BEFORE        | UPDATE             | EXECUTE FUNCTION trg_set_timestamp_generic()                    |
| patients                 | trg_patients_history                             | AFTER         | INSERT             | EXECUTE FUNCTION trg_patients_history_fn()                      |
| patients                 | trg_patients_history                             | AFTER         | DELETE             | EXECUTE FUNCTION trg_patients_history_fn()                      |
| patients                 | trg_patients_history                             | AFTER         | UPDATE             | EXECUTE FUNCTION trg_patients_history_fn()                      |
| inventory                | trg_inventory_history                            | AFTER         | INSERT             | EXECUTE FUNCTION trg_inventory_history_fn()                     |
| inventory                | trg_inventory_history                            | AFTER         | DELETE             | EXECUTE FUNCTION trg_inventory_history_fn()                     |
| inventory                | trg_inventory_history                            | AFTER         | UPDATE             | EXECUTE FUNCTION trg_inventory_history_fn()                     |
| patientschedule          | trg_patientschedule_history                      | AFTER         | INSERT             | EXECUTE FUNCTION trg_patientschedule_history_fn()               |
| patientschedule          | trg_patientschedule_history                      | AFTER         | DELETE             | EXECUTE FUNCTION trg_patientschedule_history_fn()               |
| patientschedule          | trg_patientschedule_history                      | AFTER         | UPDATE             | EXECUTE FUNCTION trg_patientschedule_history_fn()               |
| immunizations            | trg_immunizations_history                        | AFTER         | INSERT             | EXECUTE FUNCTION trg_immunizations_history_fn()                 |
| immunizations            | trg_immunizations_history                        | AFTER         | DELETE             | EXECUTE FUNCTION trg_immunizations_history_fn()                 |
| immunizations            | trg_immunizations_history                        | AFTER         | UPDATE             | EXECUTE FUNCTION trg_immunizations_history_fn()                 |
| users                    | trg_users_activity                               | AFTER         | INSERT             | EXECUTE FUNCTION trg_users_activity_fn()                        |
| users                    | trg_users_activity                               | AFTER         | DELETE             | EXECUTE FUNCTION trg_users_activity_fn()                        |
| users                    | trg_users_activity                               | AFTER         | UPDATE             | EXECUTE FUNCTION trg_users_activity_fn()                        |
| patients                 | trg_patients_activity                            | AFTER         | INSERT             | EXECUTE FUNCTION trg_patients_activity_fn()                     |
| patients                 | trg_patients_activity                            | AFTER         | DELETE             | EXECUTE FUNCTION trg_patients_activity_fn()                     |
| patients                 | trg_patients_activity                            | AFTER         | UPDATE             | EXECUTE FUNCTION trg_patients_activity_fn()                     |
| inventory                | trg_inventory_activity                           | AFTER         | INSERT             | EXECUTE FUNCTION trg_inventory_activity_fn()                    |
| inventory                | trg_inventory_activity                           | AFTER         | DELETE             | EXECUTE FUNCTION trg_inventory_activity_fn()                    |
| inventory                | trg_inventory_activity                           | AFTER         | UPDATE             | EXECUTE FUNCTION trg_inventory_activity_fn()                    |
| patientschedule          | trg_patientschedule_activity                     | AFTER         | INSERT             | EXECUTE FUNCTION trg_patientschedule_activity_fn()              |
| patientschedule          | trg_patientschedule_activity                     | AFTER         | DELETE             | EXECUTE FUNCTION trg_patientschedule_activity_fn()              |
| patientschedule          | trg_patientschedule_activity                     | AFTER         | UPDATE             | EXECUTE FUNCTION trg_patientschedule_activity_fn()              |
| immunizations            | trg_immunizations_activity                       | AFTER         | INSERT             | EXECUTE FUNCTION trg_immunizations_activity_fn()                |
| immunizations            | trg_immunizations_activity                       | AFTER         | DELETE             | EXECUTE FUNCTION trg_immunizations_activity_fn()                |
| immunizations            | trg_immunizations_activity                       | AFTER         | UPDATE             | EXECUTE FUNCTION trg_immunizations_activity_fn()                |
| visits                   | trg_visits_history                               | AFTER         | INSERT             | EXECUTE FUNCTION trg_visits_history_fn()                        |
| visits                   | trg_visits_history                               | AFTER         | DELETE             | EXECUTE FUNCTION trg_visits_history_fn()                        |
| visits                   | trg_visits_history                               | AFTER         | UPDATE             | EXECUTE FUNCTION trg_visits_history_fn()                        |
| vitamina                 | trg_vitamina_history                             | AFTER         | INSERT             | EXECUTE FUNCTION trg_vitamina_history_fn()                      |
| vitamina                 | trg_vitamina_history                             | AFTER         | DELETE             | EXECUTE FUNCTION trg_vitamina_history_fn()                      |
| vitamina                 | trg_vitamina_history                             | AFTER         | UPDATE             | EXECUTE FUNCTION trg_vitamina_history_fn()                      |
| deworming                | trg_deworming_history                            | AFTER         | INSERT             | EXECUTE FUNCTION trg_deworming_history_fn()                     |
| deworming                | trg_deworming_history                            | AFTER         | DELETE             | EXECUTE FUNCTION trg_deworming_history_fn()                     |
| deworming                | trg_deworming_history                            | AFTER         | UPDATE             | EXECUTE FUNCTION trg_deworming_history_fn()                     |
| inventory_requests       | trg_inventory_requests_history                   | AFTER         | INSERT             | EXECUTE FUNCTION trg_inventory_requests_history_fn()            |
| inventory_requests       | trg_inventory_requests_history                   | AFTER         | DELETE             | EXECUTE FUNCTION trg_inventory_requests_history_fn()            |
| inventory_requests       | trg_inventory_requests_history                   | AFTER         | UPDATE             | EXECUTE FUNCTION trg_inventory_requests_history_fn()            |
| inventorytransactions    | trg_inventorytransactions_history                | AFTER         | INSERT             | EXECUTE FUNCTION trg_inventorytransactions_history_fn()         |
| inventorytransactions    | trg_inventorytransactions_history                | AFTER         | DELETE             | EXECUTE FUNCTION trg_inventorytransactions_history_fn()         |
| inventorytransactions    | trg_inventorytransactions_history                | AFTER         | UPDATE             | EXECUTE FUNCTION trg_inventorytransactions_history_fn()         |
| inventory_requests       | trg_inventory_requests_audit                     | BEFORE        | INSERT             | EXECUTE FUNCTION trg_inventory_requests_audit()                 |
| inventory_requests       | trg_inventory_requests_audit                     | BEFORE        | UPDATE             | EXECUTE FUNCTION trg_inventory_requests_audit()                 |
| notifications            | trg_notifications_reconcile_audit                | BEFORE        | UPDATE             | EXECUTE FUNCTION trg_notifications_reconcile_audit()            |
| notifications            | trg_notifications_activity_legacy                | AFTER         | INSERT             | EXECUTE FUNCTION trg_notifications_activity_legacy()            |
| notifications            | trg_notifications_activity_legacy                | AFTER         | UPDATE             | EXECUTE FUNCTION trg_notifications_activity_legacy()            |
| messages                 | trg_messages_activity_legacy                     | AFTER         | INSERT             | EXECUTE FUNCTION trg_messages_activity_legacy()                 |
| messages                 | trg_messages_activity_legacy                     | AFTER         | UPDATE             | EXECUTE FUNCTION trg_messages_activity_legacy()                 |
| activitylogs             | trg_activitylogs_action_type_check               | BEFORE        | INSERT             | EXECUTE FUNCTION ensure_activity_action_type()                  |
| activitylogs             | trg_activitylogs_action_type_check               | BEFORE        | UPDATE             | EXECUTE FUNCTION ensure_activity_action_type()                  |
| inventory                | trg_inventory_nonnegative                        | BEFORE        | INSERT             | EXECUTE FUNCTION enforce_inventory_nonnegative()                |
| inventory                | trg_inventory_nonnegative                        | BEFORE        | UPDATE             | EXECUTE FUNCTION enforce_inventory_nonnegative()                |

SELECT
    polname AS policy_name,
    polrelid::regclass AS table_name,
    polcmd AS command,
    polpermissive AS permissive,
    polroles::text AS roles,
    polqual AS using_expression
FROM pg_policy
ORDER BY polrelid::regclass, polname;

| policy_name                      | table_name      | command | permissive | roles | using_expression                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| -------------------------------- | --------------- | ------- | ---------- | ----- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| users_default_deny               | users           | *       | true       | {0}   | {CONST :consttype 16 :consttypmod -1 :constcollid 0 :constlen 1 :constbyval true :constisnull false :location -1 :constvalue 1 [ 0 0 0 0 0 0 0 0 ]}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| users_insert_admin               | users           | a       | true       | {0}   | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| users_select_self                | users           | r       | true       | {0}   | {BOOLEXPR :boolop or :args ({OPEXPR :opno 98 :opfuncid 67 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 100 :args ({FUNCEXPR :funcid 34667 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 0 :args <> :location -1} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 65 100 109 105 110 ]}) :location -1} {OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 1 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 1 :location -1} {FUNCEXPR :funcid 34666 :funcresulttype 20 :funcretset false :funcvariadic false :funcformat 0 :funccollid 0 :inputcollid 0 :args <> :location -1}) :location -1}) :location -1}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| users_update_self                | users           | w       | true       | {0}   | {BOOLEXPR :boolop or :args ({OPEXPR :opno 98 :opfuncid 67 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 100 :args ({FUNCEXPR :funcid 34667 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 0 :args <> :location -1} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 65 100 109 105 110 ]}) :location -1} {OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 1 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 1 :location -1} {FUNCEXPR :funcid 34666 :funcresulttype 20 :funcretset false :funcvariadic false :funcformat 0 :funccollid 0 :inputcollid 0 :args <> :location -1}) :location -1}) :location -1}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| guardian_self_or_staff           | guardians       | r       | true       | {0}   | {BOOLEXPR :boolop or :args ({OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 14 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 14 :location -1} {COERCEVIAIO :arg {FUNCEXPR :funcid 2077 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 100 :args ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 23 [ 92 0 0 0 97 112 112 46 99 117 114 114 101 110 116 95 117 115 101 114 95 105 100 ]}) :location -1} :resulttype 20 :resultcollid 0 :coerceformat 1 :location -1}) :location -1} {SUBLINK :subLinkType 0 :subLinkId 0 :testexpr <> :operName <> :subselect {QUERY :commandType 1 :querySource 0 :canSetTag true :utilityStmt <> :resultRelation 0 :hasAggs false :hasWindowFuncs false :hasTargetSRFs false :hasSubLinks false :hasDistinctOn false :hasRecursive false :hasModifyingCTE false :hasForUpdate false :hasRowSecurity false :isReturn false :cteList <> :rtable ({RANGETBLENTRY :alias <> :eref {ALIAS :aliasname users :colnames ("user_id" "role" "surname" "firstname" "middlename" "sex" "birthdate" "address" "contact_number" "email" "username" "password_hash" "employee_id" "professional_license_no" "date_registered" "last_login" "is_deleted" "deleted_at" "deleted_by")} :rtekind 0 :relid 21838 :inh true :relkind r :rellockmode 1 :perminfoindex 1 :tablesample <> :lateral false :inFromCl true :securityQuals <>}) :rteperminfos ({RTEPERMISSIONINFO :relid 21838 :inh true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 8 9) :insertedCols (b) :updatedCols (b)}) :jointree {FROMEXPR :fromlist ({RANGETBLREF :rtindex 1}) :quals {BOOLEXPR :boolop and :args ({OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 1 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 1 :location -1} {COERCEVIAIO :arg {FUNCEXPR :funcid 2077 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 100 :args ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 23 [ 92 0 0 0 97 112 112 46 99 117 114 114 101 110 116 95 117 115 101 114 95 105 100 ]}) :location -1} :resulttype 20 :resultcollid 0 :coerceformat 1 :location -1}) :location -1} {SCALARARRAYOPEXPR :opno 98 :opfuncid 67 :hashfuncid 0 :negfuncid 0 :useOr true :inputcollid 100 :args ({RELABELTYPE :arg {VAR :varno 1 :varattno 2 :vartype 1043 :vartypmod 24 :varcollid 100 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 2 :location -1} :resulttype 25 :resulttypmod -1 :resultcollid 100 :relabelformat 2 :location -1} {ARRAYCOERCEEXPR :arg {ARRAYEXPR :array_typeid 1015 :array_collid 100 :element_typeid 1043 :elements ({CONST :consttype 1043 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 16 [ 64 0 0 0 72 101 97 108 116 104 87 111 114 107 101 114 ]} {CONST :consttype 1043 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 78 117 114 115 101 ]} {CONST :consttype 1043 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 16 [ 64 0 0 0 78 117 116 114 105 116 105 111 110 105 115 116 ]} {CONST :consttype 1043 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 65 100 109 105 110 ]}) :multidims false :location -1} :elemexpr {RELABELTYPE :arg {CASETESTEXPR :typeId 1043 :typeMod -1 :collation 0} :resulttype 25 :resulttypmod -1 :resultcollid 100 :relabelformat 2 :location -1} :resulttype 1009 :resulttypmod -1 :resultcollid 100 :coerceformat 2 :location -1}) :location -1}) :location -1}} :mergeActionList <> :mergeTargetRelation 0 :mergeJoinCondition <> :targetList ({TARGETENTRY :expr {CONST :consttype 23 :consttypmod -1 :constcollid 0 :constlen 4 :constbyval true :constisnull false :location -1 :constvalue 4 [ 1 0 0 0 0 0 0 0 ]} :resno 1 :resname ?column? :ressortgroupref 0 :resorigtbl 0 :resorigcol 0 :resjunk false}) :override 0 :onConflict <> :returningList <> :groupClause <> :groupDistinct false :groupingSets <> :havingQual <> :windowClause <> :distinctClause <> :sortClause <> :limitOffset <> :limitCount <> :limitOption 0 :rowMarks <> :setOperations <> :constraintDeps <> :withCheckOptions <> :stmt_location -1 :stmt_len -1} :location -1}) :location -1}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| patients_default_deny            | patients        | *       | true       | {0}   | {CONST :consttype 16 :consttypmod -1 :constcollid 0 :constlen 1 :constbyval true :constisnull false :location -1 :constvalue 1 [ 0 0 0 0 0 0 0 0 ]}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| patients_guardian_select         | patients        | r       | true       | {0}   | {BOOLEXPR :boolop or :args ({BOOLEXPR :boolop and :args ({OPEXPR :opno 98 :opfuncid 67 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 100 :args ({FUNCEXPR :funcid 3294 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 100 :args ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 12 [ 48 0 0 0 97 112 112 46 114 111 108 101 ]} {CONST :consttype 16 :consttypmod -1 :constcollid 0 :constlen 1 :constbyval true :constisnull false :location -1 :constvalue 1 [ 1 0 0 0 0 0 0 0 ]}) :location -1} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 12 [ 48 0 0 0 71 85 65 82 68 73 65 78 ]}) :location -1} {OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 19 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 19 :location -1} {COERCEVIAIO :arg {FUNCEXPR :funcid 2077 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 100 :args ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 15 [ 60 0 0 0 97 112 112 46 117 115 101 114 95 105 100 ]}) :location -1} :resulttype 20 :resultcollid 0 :coerceformat 1 :location -1}) :location -1}) :location -1} {SCALARARRAYOPEXPR :opno 98 :opfuncid 67 :hashfuncid 0 :negfuncid 0 :useOr true :inputcollid 100 :args ({FUNCEXPR :funcid 3294 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 100 :args ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 12 [ 48 0 0 0 97 112 112 46 114 111 108 101 ]} {CONST :consttype 16 :consttypmod -1 :constcollid 0 :constlen 1 :constbyval true :constisnull false :location -1 :constvalue 1 [ 1 0 0 0 0 0 0 0 ]}) :location -1} {ARRAYEXPR :array_typeid 1009 :array_collid 100 :element_typeid 25 :elements ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 65 68 77 73 78 ]} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 78 85 82 83 69 ]} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 16 [ 64 0 0 0 78 85 84 82 73 84 73 79 78 73 83 84 ]} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 16 [ 64 0 0 0 72 69 65 76 84 72 87 79 82 75 69 82 ]}) :multidims false :location -1}) :location -1}) :location -1}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| patients_guardian_update         | patients        | w       | true       | {0}   | {BOOLEXPR :boolop or :args ({BOOLEXPR :boolop and :args ({OPEXPR :opno 98 :opfuncid 67 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 100 :args ({FUNCEXPR :funcid 3294 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 100 :args ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 12 [ 48 0 0 0 97 112 112 46 114 111 108 101 ]} {CONST :consttype 16 :consttypmod -1 :constcollid 0 :constlen 1 :constbyval true :constisnull false :location -1 :constvalue 1 [ 1 0 0 0 0 0 0 0 ]}) :location -1} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 12 [ 48 0 0 0 71 85 65 82 68 73 65 78 ]}) :location -1} {OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 19 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 19 :location -1} {COERCEVIAIO :arg {FUNCEXPR :funcid 2077 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 100 :args ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 15 [ 60 0 0 0 97 112 112 46 117 115 101 114 95 105 100 ]}) :location -1} :resulttype 20 :resultcollid 0 :coerceformat 1 :location -1}) :location -1}) :location -1} {SCALARARRAYOPEXPR :opno 98 :opfuncid 67 :hashfuncid 0 :negfuncid 0 :useOr true :inputcollid 100 :args ({FUNCEXPR :funcid 3294 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 100 :args ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 12 [ 48 0 0 0 97 112 112 46 114 111 108 101 ]} {CONST :consttype 16 :consttypmod -1 :constcollid 0 :constlen 1 :constbyval true :constisnull false :location -1 :constvalue 1 [ 1 0 0 0 0 0 0 0 ]}) :location -1} {ARRAYEXPR :array_typeid 1009 :array_collid 100 :element_typeid 25 :elements ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 65 68 77 73 78 ]} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 78 85 82 83 69 ]} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 16 [ 64 0 0 0 78 85 84 82 73 84 73 79 78 73 83 84 ]} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 16 [ 64 0 0 0 72 69 65 76 84 72 87 79 82 75 69 82 ]}) :multidims false :location -1}) :location -1}) :location -1}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| patients_insert_role             | patients        | a       | true       | {0}   | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| patients_modify_role             | patients        | w       | true       | {0}   | {SCALARARRAYOPEXPR :opno 98 :opfuncid 67 :hashfuncid 0 :negfuncid 0 :useOr true :inputcollid 100 :args ({FUNCEXPR :funcid 34667 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 0 :args <> :location -1} {ARRAYEXPR :array_typeid 1009 :array_collid 100 :element_typeid 25 :elements ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 65 100 109 105 110 ]} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 16 [ 64 0 0 0 72 101 97 108 116 104 87 111 114 107 101 114 ]} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 78 117 114 115 101 ]}) :multidims false :location -1}) :location -1}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| patients_select_guardian         | patients        | r       | true       | {0}   | {BOOLEXPR :boolop and :args ({OPEXPR :opno 98 :opfuncid 67 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 100 :args ({FUNCEXPR :funcid 34667 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 0 :args <> :location -1} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 12 [ 48 0 0 0 71 117 97 114 100 105 97 110 ]}) :location -1} {SUBLINK :subLinkType 2 :subLinkId 0 :testexpr {OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 19 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 19 :location -1} {PARAM :paramkind 2 :paramid 1 :paramtype 20 :paramtypmod -1 :paramcollid 0 :location -1}) :location -1} :operName ("=") :subselect {QUERY :commandType 1 :querySource 0 :canSetTag true :utilityStmt <> :resultRelation 0 :hasAggs false :hasWindowFuncs false :hasTargetSRFs false :hasSubLinks false :hasDistinctOn false :hasRecursive false :hasModifyingCTE false :hasForUpdate false :hasRowSecurity false :isReturn false :cteList <> :rtable ({RANGETBLENTRY :alias {ALIAS :aliasname g :colnames <>} :eref {ALIAS :aliasname g :colnames ("guardian_id" "surname" "firstname" "middlename" "birthdate" "address" "occupation" "contact_number" "alternative_contact_number" "email" "relationship_to_patient" "family_number" "date_registered" "user_id" "is_deleted" "deleted_at" "deleted_by" "created_at" "created_by" "updated_at" "updated_by")} :rtekind 0 :relid 21862 :inh true :relkind r :rellockmode 1 :perminfoindex 1 :tablesample <> :lateral false :inFromCl true :securityQuals <>}) :rteperminfos ({RTEPERMISSIONINFO :relid 21862 :inh true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 8 21) :insertedCols (b) :updatedCols (b)}) :jointree {FROMEXPR :fromlist ({RANGETBLREF :rtindex 1}) :quals {OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 14 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 14 :location -1} {FUNCEXPR :funcid 34666 :funcresulttype 20 :funcretset false :funcvariadic false :funcformat 0 :funccollid 0 :inputcollid 0 :args <> :location -1}) :location -1}} :mergeActionList <> :mergeTargetRelation 0 :mergeJoinCondition <> :targetList ({TARGETENTRY :expr {VAR :varno 1 :varattno 1 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 1 :location -1} :resno 1 :resname guardian_id :ressortgroupref 0 :resorigtbl 21862 :resorigcol 1 :resjunk false}) :override 0 :onConflict <> :returningList <> :groupClause <> :groupDistinct false :groupingSets <> :havingQual <> :windowClause <> :distinctClause <> :sortClause <> :limitOffset <> :limitCount <> :limitOption 0 :rowMarks <> :setOperations <> :constraintDeps <> :withCheckOptions <> :stmt_location -1 :stmt_len -1} :location -1}) :location -1}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| patients_select_role             | patients        | r       | true       | {0}   | {SCALARARRAYOPEXPR :opno 98 :opfuncid 67 :hashfuncid 0 :negfuncid 0 :useOr true :inputcollid 100 :args ({FUNCEXPR :funcid 34667 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 0 :args <> :location -1} {ARRAYEXPR :array_typeid 1009 :array_collid 100 :element_typeid 25 :elements ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 65 100 109 105 110 ]} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 16 [ 64 0 0 0 72 101 97 108 116 104 87 111 114 107 101 114 ]} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 78 117 114 115 101 ]}) :multidims false :location -1}) :location -1}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| visit_guardian_or_staff          | visits          | r       | true       | {0}   | {BOOLEXPR :boolop or :args ({SUBLINK :subLinkType 2 :subLinkId 0 :testexpr {OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 2 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 2 :location -1} {PARAM :paramkind 2 :paramid 1 :paramtype 20 :paramtypmod -1 :paramcollid 0 :location -1}) :location -1} :operName ("=") :subselect {QUERY :commandType 1 :querySource 0 :canSetTag true :utilityStmt <> :resultRelation 0 :hasAggs false :hasWindowFuncs false :hasTargetSRFs false :hasSubLinks true :hasDistinctOn false :hasRecursive false :hasModifyingCTE false :hasForUpdate false :hasRowSecurity false :isReturn false :cteList <> :rtable ({RANGETBLENTRY :alias <> :eref {ALIAS :aliasname patients :colnames ("patient_id" "surname" "firstname" "middlename" "sex" "date_of_birth" "age_months" "age_days" "address" "barangay" "health_center" "date_registered" "mother_name" "mother_occupation" "mother_contact_number" "father_name" "father_occupation" "father_contact_number" "guardian_id" "family_number" "tags" "is_deleted" "deleted_at" "deleted_by")} :rtekind 0 :relid 21885 :inh true :relkind r :rellockmode 1 :perminfoindex 1 :tablesample <> :lateral false :inFromCl true :securityQuals <>}) :rteperminfos ({RTEPERMISSIONINFO :relid 21885 :inh true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 8 26) :insertedCols (b) :updatedCols (b)}) :jointree {FROMEXPR :fromlist ({RANGETBLREF :rtindex 1}) :quals {SUBLINK :subLinkType 2 :subLinkId 0 :testexpr {OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 19 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 19 :location -1} {PARAM :paramkind 2 :paramid 1 :paramtype 20 :paramtypmod -1 :paramcollid 0 :location -1}) :location -1} :operName ("=") :subselect {QUERY :commandType 1 :querySource 0 :canSetTag true :utilityStmt <> :resultRelation 0 :hasAggs false :hasWindowFuncs false :hasTargetSRFs false :hasSubLinks false :hasDistinctOn false :hasRecursive false :hasModifyingCTE false :hasForUpdate false :hasRowSecurity false :isReturn false :cteList <> :rtable ({RANGETBLENTRY :alias <> :eref {ALIAS :aliasname guardians :colnames ("guardian_id" "surname" "firstname" "middlename" "birthdate" "address" "occupation" "contact_number" "alternative_contact_number" "email" "relationship_to_patient" "family_number" "date_registered" "user_id" "is_deleted" "deleted_at" "deleted_by")} :rtekind 0 :relid 21862 :inh true :relkind r :rellockmode 1 :perminfoindex 1 :tablesample <> :lateral false :inFromCl true :securityQuals <>}) :rteperminfos ({RTEPERMISSIONINFO :relid 21862 :inh true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 8 21) :insertedCols (b) :updatedCols (b)}) :jointree {FROMEXPR :fromlist ({RANGETBLREF :rtindex 1}) :quals {OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 14 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 14 :location -1} {COERCEVIAIO :arg {FUNCEXPR :funcid 2077 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 100 :args ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 23 [ 92 0 0 0 97 112 112 46 99 117 114 114 101 110 116 95 117 115 101 114 95 105 100 ]}) :location -1} :resulttype 20 :resultcollid 0 :coerceformat 1 :location -1}) :location -1}} :mergeActionList <> :mergeTargetRelation 0 :mergeJoinCondition <> :targetList ({TARGETENTRY :expr {VAR :varno 1 :varattno 1 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 1 :location -1} :resno 1 :resname guardian_id :ressortgroupref 0 :resorigtbl 21862 :resorigcol 1 :resjunk false}) :override 0 :onConflict <> :returningList <> :groupClause <> :groupDistinct false :groupingSets <> :havingQual <> :windowClause <> :distinctClause <> :sortClause <> :limitOffset <> :limitCount <> :limitOption 0 :rowMarks <> :setOperations <> :constraintDeps <> :withCheckOptions <> :stmt_location -1 :stmt_len -1} :location -1}} :mergeActionList <> :mergeTargetRelation 0 :mergeJoinCondition <> :targetList ({TARGETENTRY :expr {VAR :varno 1 :varattno 1 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 1 :location -1} :resno 1 :resname patient_id :ressortgroupref 0 :resorigtbl 21885 :resorigcol 1 :resjunk false}) :override 0 :onConflict <> :returningList <> :groupClause <> :groupDistinct false :groupingSets <> :havingQual <> :windowClause <> :distinctClause <> :sortClause <> :limitOffset <> :limitCount <> :limitOption 0 :rowMarks <> :setOperations <> :constraintDeps <> :withCheckOptions <> :stmt_location -1 :stmt_len -1} :location -1} {SUBLINK :subLinkType 0 :subLinkId 0 :testexpr <> :operName <> :subselect {QUERY :commandType 1 :querySource 0 :canSetTag true :utilityStmt <> :resultRelation 0 :hasAggs false :hasWindowFuncs false :hasTargetSRFs false :hasSubLinks false :hasDistinctOn false :hasRecursive false :hasModifyingCTE false :hasForUpdate false :hasRowSecurity false :isReturn false :cteList <> :rtable ({RANGETBLENTRY :alias <> :eref {ALIAS :aliasname users :colnames ("user_id" "role" "surname" "firstname" "middlename" "sex" "birthdate" "address" "contact_number" "email" "username" "password_hash" "employee_id" "professional_license_no" "date_registered" "last_login" "is_deleted" "deleted_at" "deleted_by")} :rtekind 0 :relid 21838 :inh true :relkind r :rellockmode 1 :perminfoindex 1 :tablesample <> :lateral false :inFromCl true :securityQuals <>}) :rteperminfos ({RTEPERMISSIONINFO :relid 21838 :inh true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 8 9) :insertedCols (b) :updatedCols (b)}) :jointree {FROMEXPR :fromlist ({RANGETBLREF :rtindex 1}) :quals {BOOLEXPR :boolop and :args ({OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 1 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 1 :location -1} {COERCEVIAIO :arg {FUNCEXPR :funcid 2077 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 100 :args ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 23 [ 92 0 0 0 97 112 112 46 99 117 114 114 101 110 116 95 117 115 101 114 95 105 100 ]}) :location -1} :resulttype 20 :resultcollid 0 :coerceformat 1 :location -1}) :location -1} {SCALARARRAYOPEXPR :opno 98 :opfuncid 67 :hashfuncid 0 :negfuncid 0 :useOr true :inputcollid 100 :args ({RELABELTYPE :arg {VAR :varno 1 :varattno 2 :vartype 1043 :vartypmod 24 :varcollid 100 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 2 :location -1} :resulttype 25 :resulttypmod -1 :resultcollid 100 :relabelformat 2 :location -1} {ARRAYCOERCEEXPR :arg {ARRAYEXPR :array_typeid 1015 :array_collid 100 :element_typeid 1043 :elements ({CONST :consttype 1043 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 16 [ 64 0 0 0 72 101 97 108 116 104 87 111 114 107 101 114 ]} {CONST :consttype 1043 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 78 117 114 115 101 ]} {CONST :consttype 1043 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 16 [ 64 0 0 0 78 117 116 114 105 116 105 111 110 105 115 116 ]} {CONST :consttype 1043 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 65 100 109 105 110 ]}) :multidims false :location -1} :elemexpr {RELABELTYPE :arg {CASETESTEXPR :typeId 1043 :typeMod -1 :collation 0} :resulttype 25 :resulttypmod -1 :resultcollid 100 :relabelformat 2 :location -1} :resulttype 1009 :resulttypmod -1 :resultcollid 100 :coerceformat 2 :location -1}) :location -1}) :location -1}} :mergeActionList <> :mergeTargetRelation 0 :mergeJoinCondition <> :targetList ({TARGETENTRY :expr {CONST :consttype 23 :consttypmod -1 :constcollid 0 :constlen 4 :constbyval true :constisnull false :location -1 :constvalue 4 [ 1 0 0 0 0 0 0 0 ]} :resno 1 :resname ?column? :ressortgroupref 0 :resorigtbl 0 :resorigcol 0 :resjunk false}) :override 0 :onConflict <> :returningList <> :groupClause <> :groupDistinct false :groupingSets <> :havingQual <> :windowClause <> :distinctClause <> :sortClause <> :limitOffset <> :limitCount <> :limitOption 0 :rowMarks <> :setOperations <> :constraintDeps <> :withCheckOptions <> :stmt_location -1 :stmt_len -1} :location -1}) :location -1} |
| vaccinemaster_insert_role        | vaccinemaster   | a       | true       | {0}   | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| vaccinemaster_modify_role        | vaccinemaster   | w       | true       | {0}   | {OPEXPR :opno 98 :opfuncid 67 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 100 :args ({FUNCEXPR :funcid 34667 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 0 :args <> :location -1} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 65 100 109 105 110 ]}) :location -1}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| vaccinemaster_select_role        | vaccinemaster   | r       | true       | {0}   | {SCALARARRAYOPEXPR :opno 98 :opfuncid 67 :hashfuncid 0 :negfuncid 0 :useOr true :inputcollid 100 :args ({FUNCEXPR :funcid 34667 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 0 :args <> :location -1} {ARRAYEXPR :array_typeid 1009 :array_collid 100 :element_typeid 25 :elements ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 65 100 109 105 110 ]} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 16 [ 64 0 0 0 72 101 97 108 116 104 87 111 114 107 101 114 ]} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 78 117 114 115 101 ]}) :multidims false :location -1}) :location -1}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| inventory_insert_role            | inventory       | a       | true       | {0}   | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| inventory_modify_role            | inventory       | w       | true       | {0}   | {SCALARARRAYOPEXPR :opno 98 :opfuncid 67 :hashfuncid 0 :negfuncid 0 :useOr true :inputcollid 100 :args ({FUNCEXPR :funcid 34667 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 0 :args <> :location -1} {ARRAYEXPR :array_typeid 1009 :array_collid 100 :element_typeid 25 :elements ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 65 100 109 105 110 ]} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 16 [ 64 0 0 0 72 101 97 108 116 104 87 111 114 107 101 114 ]}) :multidims false :location -1}) :location -1}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| inventory_select_role            | inventory       | r       | true       | {0}   | {SCALARARRAYOPEXPR :opno 98 :opfuncid 67 :hashfuncid 0 :negfuncid 0 :useOr true :inputcollid 100 :args ({FUNCEXPR :funcid 34667 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 0 :args <> :location -1} {ARRAYEXPR :array_typeid 1009 :array_collid 100 :element_typeid 25 :elements ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 65 100 109 105 110 ]} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 16 [ 64 0 0 0 72 101 97 108 116 104 87 111 114 107 101 114 ]} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 78 117 114 115 101 ]}) :multidims false :location -1}) :location -1}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| immunizations_insert_role        | immunizations   | a       | true       | {0}   | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| immunizations_modify_role        | immunizations   | w       | true       | {0}   | {SCALARARRAYOPEXPR :opno 98 :opfuncid 67 :hashfuncid 0 :negfuncid 0 :useOr true :inputcollid 100 :args ({FUNCEXPR :funcid 34667 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 0 :args <> :location -1} {ARRAYEXPR :array_typeid 1009 :array_collid 100 :element_typeid 25 :elements ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 65 100 109 105 110 ]} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 16 [ 64 0 0 0 72 101 97 108 116 104 87 111 114 107 101 114 ]} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 78 117 114 115 101 ]}) :multidims false :location -1}) :location -1}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| immunizations_select_role        | immunizations   | r       | true       | {0}   | {SCALARARRAYOPEXPR :opno 98 :opfuncid 67 :hashfuncid 0 :negfuncid 0 :useOr true :inputcollid 100 :args ({FUNCEXPR :funcid 34667 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 0 :args <> :location -1} {ARRAYEXPR :array_typeid 1009 :array_collid 100 :element_typeid 25 :elements ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 65 100 109 105 110 ]} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 16 [ 64 0 0 0 72 101 97 108 116 104 87 111 114 107 101 114 ]} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 78 117 114 115 101 ]}) :multidims false :location -1}) :location -1}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| patientschedule_guardian_select  | patientschedule | r       | true       | {0}   | {SUBLINK :subLinkType 0 :subLinkId 0 :testexpr <> :operName <> :subselect {QUERY :commandType 1 :querySource 0 :canSetTag true :utilityStmt <> :resultRelation 0 :hasAggs false :hasWindowFuncs false :hasTargetSRFs false :hasSubLinks false :hasDistinctOn false :hasRecursive false :hasModifyingCTE false :hasForUpdate false :hasRowSecurity false :isReturn false :cteList <> :rtable ({RANGETBLENTRY :alias {ALIAS :aliasname p :colnames <>} :eref {ALIAS :aliasname p :colnames ("patient_id" "surname" "firstname" "middlename" "sex" "date_of_birth" "" "" "address" "barangay" "health_center" "date_registered" "mother_name" "mother_occupation" "mother_contact_number" "father_name" "father_occupation" "father_contact_number" "guardian_id" "family_number" "tags" "is_deleted" "deleted_at" "deleted_by" "created_at" "created_by" "updated_at" "updated_by" "full_name")} :rtekind 0 :relid 21885 :inh true :relkind r :rellockmode 1 :perminfoindex 1 :tablesample <> :lateral false :inFromCl true :securityQuals <>}) :rteperminfos ({RTEPERMISSIONINFO :relid 21885 :inh true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 8 26) :insertedCols (b) :updatedCols (b)}) :jointree {FROMEXPR :fromlist ({RANGETBLREF :rtindex 1}) :quals {BOOLEXPR :boolop and :args ({OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 1 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 1 :location -1} {VAR :varno 1 :varattno 2 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 1 :varnosyn 1 :varattnosyn 2 :location -1}) :location -1} {BOOLEXPR :boolop or :args ({BOOLEXPR :boolop and :args ({OPEXPR :opno 98 :opfuncid 67 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 100 :args ({FUNCEXPR :funcid 3294 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 100 :args ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 12 [ 48 0 0 0 97 112 112 46 114 111 108 101 ]} {CONST :consttype 16 :consttypmod -1 :constcollid 0 :constlen 1 :constbyval true :constisnull false :location -1 :constvalue 1 [ 1 0 0 0 0 0 0 0 ]}) :location -1} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 12 [ 48 0 0 0 71 85 65 82 68 73 65 78 ]}) :location -1} {OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 19 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 19 :location -1} {COERCEVIAIO :arg {FUNCEXPR :funcid 2077 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 100 :args ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 15 [ 60 0 0 0 97 112 112 46 117 115 101 114 95 105 100 ]}) :location -1} :resulttype 20 :resultcollid 0 :coerceformat 1 :location -1}) :location -1}) :location -1} {SCALARARRAYOPEXPR :opno 98 :opfuncid 67 :hashfuncid 0 :negfuncid 0 :useOr true :inputcollid 100 :args ({FUNCEXPR :funcid 3294 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 100 :args ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 12 [ 48 0 0 0 97 112 112 46 114 111 108 101 ]} {CONST :consttype 16 :consttypmod -1 :constcollid 0 :constlen 1 :constbyval true :constisnull false :location -1 :constvalue 1 [ 1 0 0 0 0 0 0 0 ]}) :location -1} {ARRAYEXPR :array_typeid 1009 :array_collid 100 :element_typeid 25 :elements ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 65 68 77 73 78 ]} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 78 85 82 83 69 ]} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 16 [ 64 0 0 0 78 85 84 82 73 84 73 79 78 73 83 84 ]} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 16 [ 64 0 0 0 72 69 65 76 84 72 87 79 82 75 69 82 ]}) :multidims false :location -1}) :location -1}) :location -1}) :location -1}} :mergeActionList <> :mergeTargetRelation 0 :mergeJoinCondition <> :targetList ({TARGETENTRY :expr {CONST :consttype 23 :consttypmod -1 :constcollid 0 :constlen 4 :constbyval true :constisnull false :location -1 :constvalue 4 [ 1 0 0 0 0 0 0 0 ]} :resno 1 :resname ?column? :ressortgroupref 0 :resorigtbl 0 :resorigcol 0 :resjunk false}) :override 0 :onConflict <> :returningList <> :groupClause <> :groupDistinct false :groupingSets <> :havingQual <> :windowClause <> :distinctClause <> :sortClause <> :limitOffset <> :limitCount <> :limitOption 0 :rowMarks <> :setOperations <> :constraintDeps <> :withCheckOptions <> :stmt_location -1 :stmt_len -1} :location -1}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| patientschedule_insert_role      | patientschedule | a       | true       | {0}   | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| patientschedule_select_role      | patientschedule | r       | true       | {0}   | {SCALARARRAYOPEXPR :opno 98 :opfuncid 67 :hashfuncid 0 :negfuncid 0 :useOr true :inputcollid 100 :args ({FUNCEXPR :funcid 34667 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 0 :args <> :location -1} {ARRAYEXPR :array_typeid 1009 :array_collid 100 :element_typeid 25 :elements ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 65 100 109 105 110 ]} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 16 [ 64 0 0 0 72 101 97 108 116 104 87 111 114 107 101 114 ]} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 78 117 114 115 101 ]}) :multidims false :location -1}) :location -1}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| patientschedule_update_role      | patientschedule | w       | true       | {0}   | {SCALARARRAYOPEXPR :opno 98 :opfuncid 67 :hashfuncid 0 :negfuncid 0 :useOr true :inputcollid 100 :args ({FUNCEXPR :funcid 34667 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 0 :args <> :location -1} {ARRAYEXPR :array_typeid 1009 :array_collid 100 :element_typeid 25 :elements ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 65 100 109 105 110 ]} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 16 [ 64 0 0 0 72 101 97 108 116 104 87 111 114 107 101 114 ]} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 78 117 114 115 101 ]}) :multidims false :location -1}) :location -1}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| conversations_participant_select | conversations   | r       | true       | {0}   | {BOOLEXPR :boolop or :args ({SUBLINK :subLinkType 0 :subLinkId 0 :testexpr <> :operName <> :subselect {QUERY :commandType 1 :querySource 0 :canSetTag true :utilityStmt <> :resultRelation 0 :hasAggs false :hasWindowFuncs false :hasTargetSRFs false :hasSubLinks false :hasDistinctOn false :hasRecursive false :hasModifyingCTE false :hasForUpdate false :hasRowSecurity false :isReturn false :cteList <> :rtable ({RANGETBLENTRY :alias {ALIAS :aliasname cp :colnames <>} :eref {ALIAS :aliasname cp :colnames ("conversation_participant_id" "conversation_id" "user_id" "joined_at" "left_at" "is_deleted" "deleted_at" "deleted_by" "created_at" "created_by" "updated_at" "updated_by")} :rtekind 0 :relid 22188 :inh true :relkind r :rellockmode 1 :perminfoindex 1 :tablesample <> :lateral false :inFromCl true :securityQuals <>}) :rteperminfos ({RTEPERMISSIONINFO :relid 22188 :inh true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 9 10 13) :insertedCols (b) :updatedCols (b)}) :jointree {FROMEXPR :fromlist ({RANGETBLREF :rtindex 1}) :quals {BOOLEXPR :boolop and :args ({OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 2 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 2 :location -1} {VAR :varno 1 :varattno 1 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 1 :varnosyn 1 :varattnosyn 1 :location -1}) :location -1} {OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 3 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 3 :location -1} {COERCEVIAIO :arg {FUNCEXPR :funcid 2077 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 100 :args ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 15 [ 60 0 0 0 97 112 112 46 117 115 101 114 95 105 100 ]}) :location -1} :resulttype 20 :resultcollid 0 :coerceformat 1 :location -1}) :location -1} {OPEXPR :opno 91 :opfuncid 60 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 6 :vartype 16 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 6 :location -1} {CONST :consttype 16 :consttypmod -1 :constcollid 0 :constlen 1 :constbyval true :constisnull false :location -1 :constvalue 1 [ 0 0 0 0 0 0 0 0 ]}) :location -1}) :location -1}} :mergeActionList <> :mergeTargetRelation 0 :mergeJoinCondition <> :targetList ({TARGETENTRY :expr {CONST :consttype 23 :consttypmod -1 :constcollid 0 :constlen 4 :constbyval true :constisnull false :location -1 :constvalue 4 [ 1 0 0 0 0 0 0 0 ]} :resno 1 :resname ?column? :ressortgroupref 0 :resorigtbl 0 :resorigcol 0 :resjunk false}) :override 0 :onConflict <> :returningList <> :groupClause <> :groupDistinct false :groupingSets <> :havingQual <> :windowClause <> :distinctClause <> :sortClause <> :limitOffset <> :limitCount <> :limitOption 0 :rowMarks <> :setOperations <> :constraintDeps <> :withCheckOptions <> :stmt_location -1 :stmt_len -1} :location -1} {OPEXPR :opno 98 :opfuncid 67 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 100 :args ({FUNCEXPR :funcid 3294 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 100 :args ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 12 [ 48 0 0 0 97 112 112 46 114 111 108 101 ]} {CONST :consttype 16 :consttypmod -1 :constcollid 0 :constlen 1 :constbyval true :constisnull false :location -1 :constvalue 1 [ 1 0 0 0 0 0 0 0 ]}) :location -1} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 65 68 77 73 78 ]}) :location -1}) :location -1}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| message_participant_or_admin     | messages        | r       | true       | {0}   | {BOOLEXPR :boolop or :args ({SUBLINK :subLinkType 2 :subLinkId 0 :testexpr {OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 2 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 2 :location -1} {PARAM :paramkind 2 :paramid 1 :paramtype 20 :paramtypmod -1 :paramcollid 0 :location -1}) :location -1} :operName ("=") :subselect {QUERY :commandType 1 :querySource 0 :canSetTag true :utilityStmt <> :resultRelation 0 :hasAggs false :hasWindowFuncs false :hasTargetSRFs false :hasSubLinks false :hasDistinctOn false :hasRecursive false :hasModifyingCTE false :hasForUpdate false :hasRowSecurity false :isReturn false :cteList <> :rtable ({RANGETBLENTRY :alias <> :eref {ALIAS :aliasname conversationparticipants :colnames ("conversation_participant_id" "conversation_id" "user_id" "joined_at" "left_at" "is_deleted" "deleted_at" "deleted_by")} :rtekind 0 :relid 22188 :inh true :relkind r :rellockmode 1 :perminfoindex 1 :tablesample <> :lateral false :inFromCl true :securityQuals <>}) :rteperminfos ({RTEPERMISSIONINFO :relid 22188 :inh true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 9 10) :insertedCols (b) :updatedCols (b)}) :jointree {FROMEXPR :fromlist ({RANGETBLREF :rtindex 1}) :quals {OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 3 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 3 :location -1} {COERCEVIAIO :arg {FUNCEXPR :funcid 2077 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 100 :args ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 23 [ 92 0 0 0 97 112 112 46 99 117 114 114 101 110 116 95 117 115 101 114 95 105 100 ]}) :location -1} :resulttype 20 :resultcollid 0 :coerceformat 1 :location -1}) :location -1}} :mergeActionList <> :mergeTargetRelation 0 :mergeJoinCondition <> :targetList ({TARGETENTRY :expr {VAR :varno 1 :varattno 2 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 2 :location -1} :resno 1 :resname conversation_id :ressortgroupref 0 :resorigtbl 22188 :resorigcol 2 :resjunk false}) :override 0 :onConflict <> :returningList <> :groupClause <> :groupDistinct false :groupingSets <> :havingQual <> :windowClause <> :distinctClause <> :sortClause <> :limitOffset <> :limitCount <> :limitOption 0 :rowMarks <> :setOperations <> :constraintDeps <> :withCheckOptions <> :stmt_location -1 :stmt_len -1} :location -1} {SUBLINK :subLinkType 0 :subLinkId 0 :testexpr <> :operName <> :subselect {QUERY :commandType 1 :querySource 0 :canSetTag true :utilityStmt <> :resultRelation 0 :hasAggs false :hasWindowFuncs false :hasTargetSRFs false :hasSubLinks false :hasDistinctOn false :hasRecursive false :hasModifyingCTE false :hasForUpdate false :hasRowSecurity false :isReturn false :cteList <> :rtable ({RANGETBLENTRY :alias <> :eref {ALIAS :aliasname users :colnames ("user_id" "role" "surname" "firstname" "middlename" "sex" "birthdate" "address" "contact_number" "email" "username" "password_hash" "employee_id" "professional_license_no" "date_registered" "last_login" "is_deleted" "deleted_at" "deleted_by")} :rtekind 0 :relid 21838 :inh true :relkind r :rellockmode 1 :perminfoindex 1 :tablesample <> :lateral false :inFromCl true :securityQuals <>}) :rteperminfos ({RTEPERMISSIONINFO :relid 21838 :inh true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 8 9) :insertedCols (b) :updatedCols (b)}) :jointree {FROMEXPR :fromlist ({RANGETBLREF :rtindex 1}) :quals {BOOLEXPR :boolop and :args ({OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 1 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 1 :location -1} {COERCEVIAIO :arg {FUNCEXPR :funcid 2077 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 100 :args ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 23 [ 92 0 0 0 97 112 112 46 99 117 114 114 101 110 116 95 117 115 101 114 95 105 100 ]}) :location -1} :resulttype 20 :resultcollid 0 :coerceformat 1 :location -1}) :location -1} {OPEXPR :opno 98 :opfuncid 67 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 100 :args ({RELABELTYPE :arg {VAR :varno 1 :varattno 2 :vartype 1043 :vartypmod 24 :varcollid 100 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 2 :location -1} :resulttype 25 :resulttypmod -1 :resultcollid 100 :relabelformat 2 :location -1} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 65 100 109 105 110 ]}) :location -1}) :location -1}} :mergeActionList <> :mergeTargetRelation 0 :mergeJoinCondition <> :targetList ({TARGETENTRY :expr {CONST :consttype 23 :consttypmod -1 :constcollid 0 :constlen 4 :constbyval true :constisnull false :location -1 :constvalue 4 [ 1 0 0 0 0 0 0 0 ]} :resno 1 :resname ?column? :ressortgroupref 0 :resorigtbl 0 :resorigcol 0 :resjunk false}) :override 0 :onConflict <> :returningList <> :groupClause <> :groupDistinct false :groupingSets <> :havingQual <> :windowClause <> :distinctClause <> :sortClause <> :limitOffset <> :limitCount <> :limitOption 0 :rowMarks <> :setOperations <> :constraintDeps <> :withCheckOptions <> :stmt_location -1 :stmt_len -1} :location -1}) :location -1}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| messages_participant_select      | messages        | r       | true       | {0}   | {BOOLEXPR :boolop or :args ({SUBLINK :subLinkType 0 :subLinkId 0 :testexpr <> :operName <> :subselect {QUERY :commandType 1 :querySource 0 :canSetTag true :utilityStmt <> :resultRelation 0 :hasAggs false :hasWindowFuncs false :hasTargetSRFs false :hasSubLinks false :hasDistinctOn false :hasRecursive false :hasModifyingCTE false :hasForUpdate false :hasRowSecurity false :isReturn false :cteList <> :rtable ({RANGETBLENTRY :alias {ALIAS :aliasname cp :colnames <>} :eref {ALIAS :aliasname cp :colnames ("conversation_participant_id" "conversation_id" "user_id" "joined_at" "left_at" "is_deleted" "deleted_at" "deleted_by" "created_at" "created_by" "updated_at" "updated_by")} :rtekind 0 :relid 22188 :inh true :relkind r :rellockmode 1 :perminfoindex 1 :tablesample <> :lateral false :inFromCl true :securityQuals <>}) :rteperminfos ({RTEPERMISSIONINFO :relid 22188 :inh true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 9 10 13) :insertedCols (b) :updatedCols (b)}) :jointree {FROMEXPR :fromlist ({RANGETBLREF :rtindex 1}) :quals {BOOLEXPR :boolop and :args ({OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 2 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 2 :location -1} {VAR :varno 1 :varattno 2 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 1 :varnosyn 1 :varattnosyn 2 :location -1}) :location -1} {OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 3 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 3 :location -1} {COERCEVIAIO :arg {FUNCEXPR :funcid 2077 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 100 :args ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 15 [ 60 0 0 0 97 112 112 46 117 115 101 114 95 105 100 ]}) :location -1} :resulttype 20 :resultcollid 0 :coerceformat 1 :location -1}) :location -1} {OPEXPR :opno 91 :opfuncid 60 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 6 :vartype 16 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 6 :location -1} {CONST :consttype 16 :consttypmod -1 :constcollid 0 :constlen 1 :constbyval true :constisnull false :location -1 :constvalue 1 [ 0 0 0 0 0 0 0 0 ]}) :location -1}) :location -1}} :mergeActionList <> :mergeTargetRelation 0 :mergeJoinCondition <> :targetList ({TARGETENTRY :expr {CONST :consttype 23 :consttypmod -1 :constcollid 0 :constlen 4 :constbyval true :constisnull false :location -1 :constvalue 4 [ 1 0 0 0 0 0 0 0 ]} :resno 1 :resname ?column? :ressortgroupref 0 :resorigtbl 0 :resorigcol 0 :resjunk false}) :override 0 :onConflict <> :returningList <> :groupClause <> :groupDistinct false :groupingSets <> :havingQual <> :windowClause <> :distinctClause <> :sortClause <> :limitOffset <> :limitCount <> :limitOption 0 :rowMarks <> :setOperations <> :constraintDeps <> :withCheckOptions <> :stmt_location -1 :stmt_len -1} :location -1} {OPEXPR :opno 98 :opfuncid 67 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 100 :args ({FUNCEXPR :funcid 3294 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 100 :args ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 12 [ 48 0 0 0 97 112 112 46 114 111 108 101 ]} {CONST :consttype 16 :consttypmod -1 :constcollid 0 :constlen 1 :constbyval true :constisnull false :location -1 :constvalue 1 [ 1 0 0 0 0 0 0 0 ]}) :location -1} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 65 68 77 73 78 ]}) :location -1}) :location -1}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| messages_sender_recipient_select | messages        | r       | true       | {0}   | {BOOLEXPR :boolop or :args ({OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 3 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 3 :location -1} {COERCEVIAIO :arg {NULLIFEXPR :opno 98 :opfuncid 67 :opresulttype 25 :opretset false :opcollid 100 :inputcollid 100 :args ({FUNCEXPR :funcid 3294 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 100 :args ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 15 [ 60 0 0 0 97 112 112 46 117 115 101 114 95 105 100 ]} {CONST :consttype 16 :consttypmod -1 :constcollid 0 :constlen 1 :constbyval true :constisnull false :location -1 :constvalue 1 [ 1 0 0 0 0 0 0 0 ]}) :location -1} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 4 [ 16 0 0 0 ]}) :location -1} :resulttype 20 :resultcollid 0 :coerceformat 1 :location -1}) :location -1} {SUBLINK :subLinkType 0 :subLinkId 0 :testexpr <> :operName <> :subselect {QUERY :commandType 1 :querySource 0 :canSetTag true :utilityStmt <> :resultRelation 0 :hasAggs false :hasWindowFuncs false :hasTargetSRFs false :hasSubLinks false :hasDistinctOn false :hasRecursive false :hasModifyingCTE false :hasForUpdate false :hasRowSecurity false :isReturn false :cteList <> :rtable ({RANGETBLENTRY :alias {ALIAS :aliasname cp :colnames <>} :eref {ALIAS :aliasname cp :colnames ("conversation_participant_id" "conversation_id" "user_id" "joined_at" "left_at" "is_deleted" "deleted_at" "deleted_by" "created_at" "created_by" "updated_at" "updated_by")} :rtekind 0 :relid 22188 :inh true :relkind r :rellockmode 1 :perminfoindex 1 :tablesample <> :lateral false :inFromCl true :securityQuals <>}) :rteperminfos ({RTEPERMISSIONINFO :relid 22188 :inh true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 9 10 13) :insertedCols (b) :updatedCols (b)}) :jointree {FROMEXPR :fromlist ({RANGETBLREF :rtindex 1}) :quals {BOOLEXPR :boolop and :args ({OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 2 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 2 :location -1} {VAR :varno 1 :varattno 2 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 1 :varnosyn 1 :varattnosyn 2 :location -1}) :location -1} {OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 3 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 3 :location -1} {COERCEVIAIO :arg {NULLIFEXPR :opno 98 :opfuncid 67 :opresulttype 25 :opretset false :opcollid 100 :inputcollid 100 :args ({FUNCEXPR :funcid 3294 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 100 :args ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 15 [ 60 0 0 0 97 112 112 46 117 115 101 114 95 105 100 ]} {CONST :consttype 16 :consttypmod -1 :constcollid 0 :constlen 1 :constbyval true :constisnull false :location -1 :constvalue 1 [ 1 0 0 0 0 0 0 0 ]}) :location -1} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 4 [ 16 0 0 0 ]}) :location -1} :resulttype 20 :resultcollid 0 :coerceformat 1 :location -1}) :location -1} {OPEXPR :opno 91 :opfuncid 60 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 6 :vartype 16 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 6 :location -1} {CONST :consttype 16 :consttypmod -1 :constcollid 0 :constlen 1 :constbyval true :constisnull false :location -1 :constvalue 1 [ 0 0 0 0 0 0 0 0 ]}) :location -1}) :location -1}} :mergeActionList <> :mergeTargetRelation 0 :mergeJoinCondition <> :targetList ({TARGETENTRY :expr {CONST :consttype 23 :consttypmod -1 :constcollid 0 :constlen 4 :constbyval true :constisnull false :location -1 :constvalue 4 [ 1 0 0 0 0 0 0 0 ]} :resno 1 :resname ?column? :ressortgroupref 0 :resorigtbl 0 :resorigcol 0 :resjunk false}) :override 0 :onConflict <> :returningList <> :groupClause <> :groupDistinct false :groupingSets <> :havingQual <> :windowClause <> :distinctClause <> :sortClause <> :limitOffset <> :limitCount <> :limitOption 0 :rowMarks <> :setOperations <> :constraintDeps <> :withCheckOptions <> :stmt_location -1 :stmt_len -1} :location -1}) :location -1}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| notification_self_or_staff       | notifications   | r       | true       | {0}   | {BOOLEXPR :boolop or :args ({OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 3 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 3 :location -1} {COERCEVIAIO :arg {FUNCEXPR :funcid 2077 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 100 :args ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 23 [ 92 0 0 0 97 112 112 46 99 117 114 114 101 110 116 95 117 115 101 114 95 105 100 ]}) :location -1} :resulttype 20 :resultcollid 0 :coerceformat 1 :location -1}) :location -1} {SUBLINK :subLinkType 0 :subLinkId 0 :testexpr <> :operName <> :subselect {QUERY :commandType 1 :querySource 0 :canSetTag true :utilityStmt <> :resultRelation 0 :hasAggs false :hasWindowFuncs false :hasTargetSRFs false :hasSubLinks false :hasDistinctOn false :hasRecursive false :hasModifyingCTE false :hasForUpdate false :hasRowSecurity false :isReturn false :cteList <> :rtable ({RANGETBLENTRY :alias <> :eref {ALIAS :aliasname users :colnames ("user_id" "role" "surname" "firstname" "middlename" "sex" "birthdate" "address" "contact_number" "email" "username" "password_hash" "employee_id" "professional_license_no" "date_registered" "last_login" "is_deleted" "deleted_at" "deleted_by")} :rtekind 0 :relid 21838 :inh true :relkind r :rellockmode 1 :perminfoindex 1 :tablesample <> :lateral false :inFromCl true :securityQuals <>}) :rteperminfos ({RTEPERMISSIONINFO :relid 21838 :inh true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 8 9) :insertedCols (b) :updatedCols (b)}) :jointree {FROMEXPR :fromlist ({RANGETBLREF :rtindex 1}) :quals {BOOLEXPR :boolop and :args ({OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 1 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 1 :location -1} {COERCEVIAIO :arg {FUNCEXPR :funcid 2077 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 100 :args ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 23 [ 92 0 0 0 97 112 112 46 99 117 114 114 101 110 116 95 117 115 101 114 95 105 100 ]}) :location -1} :resulttype 20 :resultcollid 0 :coerceformat 1 :location -1}) :location -1} {SCALARARRAYOPEXPR :opno 98 :opfuncid 67 :hashfuncid 0 :negfuncid 0 :useOr true :inputcollid 100 :args ({RELABELTYPE :arg {VAR :varno 1 :varattno 2 :vartype 1043 :vartypmod 24 :varcollid 100 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 2 :location -1} :resulttype 25 :resulttypmod -1 :resultcollid 100 :relabelformat 2 :location -1} {ARRAYCOERCEEXPR :arg {ARRAYEXPR :array_typeid 1015 :array_collid 100 :element_typeid 1043 :elements ({CONST :consttype 1043 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 16 [ 64 0 0 0 72 101 97 108 116 104 87 111 114 107 101 114 ]} {CONST :consttype 1043 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 78 117 114 115 101 ]} {CONST :consttype 1043 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 16 [ 64 0 0 0 78 117 116 114 105 116 105 111 110 105 115 116 ]} {CONST :consttype 1043 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 9 [ 36 0 0 0 65 100 109 105 110 ]}) :multidims false :location -1} :elemexpr {RELABELTYPE :arg {CASETESTEXPR :typeId 1043 :typeMod -1 :collation 0} :resulttype 25 :resulttypmod -1 :resultcollid 100 :relabelformat 2 :location -1} :resulttype 1009 :resulttypmod -1 :resultcollid 100 :coerceformat 2 :location -1}) :location -1}) :location -1}} :mergeActionList <> :mergeTargetRelation 0 :mergeJoinCondition <> :targetList ({TARGETENTRY :expr {CONST :consttype 23 :consttypmod -1 :constcollid 0 :constlen 4 :constbyval true :constisnull false :location -1 :constvalue 4 [ 1 0 0 0 0 0 0 0 ]} :resno 1 :resname ?column? :ressortgroupref 0 :resorigtbl 0 :resorigcol 0 :resjunk false}) :override 0 :onConflict <> :returningList <> :groupClause <> :groupDistinct false :groupingSets <> :havingQual <> :windowClause <> :distinctClause <> :sortClause <> :limitOffset <> :limitCount <> :limitOption 0 :rowMarks <> :setOperations <> :constraintDeps <> :withCheckOptions <> :stmt_location -1 :stmt_len -1} :location -1}) :location -1}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| notifications_recipient_select   | notifications   | r       | true       | {0}   | {OPEXPR :opno 410 :opfuncid 467 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 3 :vartype 20 :vartypmod -1 :varcollid 0 :varnullingrels (b) :varlevelsup 0 :varnosyn 1 :varattnosyn 3 :location -1} {COERCEVIAIO :arg {NULLIFEXPR :opno 98 :opfuncid 67 :opresulttype 25 :opretset false :opcollid 100 :inputcollid 100 :args ({FUNCEXPR :funcid 3294 :funcresulttype 25 :funcretset false :funcvariadic false :funcformat 0 :funccollid 100 :inputcollid 100 :args ({CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 15 [ 60 0 0 0 97 112 112 46 117 115 101 114 95 105 100 ]} {CONST :consttype 16 :consttypmod -1 :constcollid 0 :constlen 1 :constbyval true :constisnull false :location -1 :constvalue 1 [ 1 0 0 0 0 0 0 0 ]}) :location -1} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 4 [ 16 0 0 0 ]}) :location -1} :resulttype 20 :resultcollid 0 :coerceformat 1 :location -1}) :location -1}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |

SELECT rolname FROM pg_roles WHERE rolcanlogin = true;

| rolname                    |
| -------------------------- |
| supabase_admin             |
| authenticator              |
| pgbouncer                  |
| supabase_auth_admin        |
| supabase_storage_admin     |
| supabase_replication_admin |
| supabase_etl_admin         |
| supabase_read_only_user    |
| postgres                   |

SELECT table_name
FROM information_schema.views
WHERE table_schema = 'public';

| table_name               |
| ------------------------ |
| dashboard_view           |
| worker_progress_view     |
| vaccine_report_view      |
| users_with_uuid          |
| patients_view            |
| patientschedule_view     |
| tcl_view                 |
| defaulters_view          |
| duesoon_view             |
| inventorylowstock_view   |
| monthlyreports_view      |
| visits_view              |
| activitylogs_view        |
| conversations_view       |
| notifications_view       |
| immunizationhistory_view |

SELECT routine_name, routine_type, data_type
FROM information_schema.routines
WHERE specific_schema = 'public';

| routine_name                                 | routine_type | data_type        |
| -------------------------------------------- | ------------ | ---------------- |
| create_patientschedule_on_patient_insert     | FUNCTION     | trigger          |
| update_patient_tag_on_patientschedule_update | FUNCTION     | trigger          |
| create_user_mapping_on_user_insert           | FUNCTION     | trigger          |
| link_supabase_user                           | FUNCTION     | boolean          |
| log_patient_activity                         | FUNCTION     | trigger          |
| update_inventory_stock_on_transaction        | FUNCTION     | trigger          |
| get_user_id_from_uuid                        | FUNCTION     | bigint           |
| get_uuid_from_user_id                        | FUNCTION     | uuid             |
| authenticate_user                            | FUNCTION     | record           |
| update_patient_age_fields                    | FUNCTION     | trigger          |
| soft_delete_cascade_patients                 | FUNCTION     | trigger          |
| soft_delete_cascade_guardians                | FUNCTION     | trigger          |
| create_user_with_mapping                     | FUNCTION     | bigint           |
| set_limit                                    | FUNCTION     | real             |
| show_limit                                   | FUNCTION     | real             |
| show_trgm                                    | FUNCTION     | ARRAY            |
| similarity                                   | FUNCTION     | real             |
| similarity_op                                | FUNCTION     | boolean          |
| word_similarity                              | FUNCTION     | real             |
| word_similarity_op                           | FUNCTION     | boolean          |
| word_similarity_commutator_op                | FUNCTION     | boolean          |
| similarity_dist                              | FUNCTION     | real             |
| trg_set_timestamp                            | FUNCTION     | trigger          |
| trg_patients_history_fn                      | FUNCTION     | trigger          |
| trg_inventory_history_fn                     | FUNCTION     | trigger          |
| trg_patientschedule_history_fn               | FUNCTION     | trigger          |
| trg_immunizations_history_fn                 | FUNCTION     | trigger          |
| word_similarity_dist_op                      | FUNCTION     | real             |
| word_similarity_dist_commutator_op           | FUNCTION     | real             |
| gtrgm_in                                     | FUNCTION     | USER-DEFINED     |
| gtrgm_out                                    | FUNCTION     | cstring          |
| update_patient_fic_cic_tag                   | FUNCTION     | trigger          |
| enforce_vaccine_interval                     | FUNCTION     | trigger          |
| gtrgm_consistent                             | FUNCTION     | boolean          |
| gtrgm_distance                               | FUNCTION     | double precision |
| gtrgm_compress                               | FUNCTION     | internal         |
| gtrgm_decompress                             | FUNCTION     | internal         |
| gtrgm_penalty                                | FUNCTION     | internal         |
| gtrgm_picksplit                              | FUNCTION     | internal         |
| ensure_activitylogs_partition                | FUNCTION     | void             |
| trg_activitylogs_partition                   | FUNCTION     | trigger          |
| gtrgm_union                                  | FUNCTION     | USER-DEFINED     |
| gtrgm_same                                   | FUNCTION     | internal         |
| gin_extract_value_trgm                       | FUNCTION     | internal         |
| gin_extract_query_trgm                       | FUNCTION     | internal         |
| gin_trgm_consistent                          | FUNCTION     | boolean          |
| gin_trgm_triconsistent                       | FUNCTION     | "char"           |
| strict_word_similarity                       | FUNCTION     | real             |
| strict_word_similarity_op                    | FUNCTION     | boolean          |
| strict_word_similarity_commutator_op         | FUNCTION     | boolean          |
| strict_word_similarity_dist_op               | FUNCTION     | real             |
| strict_word_similarity_dist_commutator_op    | FUNCTION     | real             |
| gtrgm_options                                | FUNCTION     | void             |
| trg_inventory_requests_audit                 | FUNCTION     | trigger          |
| approve_inventory_request                    | FUNCTION     | void             |
| reject_inventory_request                     | FUNCTION     | void             |
| mark_inventory_request_printed               | FUNCTION     | void             |
| trg_set_timestamp_generic                    | FUNCTION     | trigger          |
| trg_users_activity_fn                        | FUNCTION     | trigger          |
| trg_patients_activity_fn                     | FUNCTION     | trigger          |
| trg_inventory_activity_fn                    | FUNCTION     | trigger          |
| trg_patientschedule_activity_fn              | FUNCTION     | trigger          |
| trg_immunizations_activity_fn                | FUNCTION     | trigger          |
| refresh_immunization_cohorts                 | FUNCTION     | void             |
| set_app_context                              | FUNCTION     | void             |
| create_user_on_guardian_insert               | FUNCTION     | trigger          |
| secure_status_change                         | FUNCTION     | void             |
| ensure_activity_action_type                  | FUNCTION     | trigger          |
| enforce_inventory_nonnegative                | FUNCTION     | trigger          |
| trg_inventory_transaction_apply              | FUNCTION     | trigger          |
| trg_notifications_reconcile_audit            | FUNCTION     | trigger          |
| trg_notifications_activity_legacy            | FUNCTION     | trigger          |
| trg_messages_activity_legacy                 | FUNCTION     | trigger          |
| recompute_schedule_status                    | FUNCTION     | void             |
| recompute_patient_schedule_statuses          | FUNCTION     | void             |
| recalc_patient_schedule_enhanced             | FUNCTION     | void             |
| restore_entity                               | FUNCTION     | void             |
| compute_days_overdue                         | FUNCTION     | integer          |
| refresh_defaulters                           | FUNCTION     | void             |
| recalc_patient_schedule                      | FUNCTION     | void             |
| ingest_patient_immunization_history          | FUNCTION     | void             |
| create_history_trigger                       | FUNCTION     | void             |
| trg_visits_history_fn                        | FUNCTION     | trigger          |
| trg_vitamina_history_fn                      | FUNCTION     | trigger          |
| jsonb_diff                                   | FUNCTION     | jsonb            |
| trg_users_history                            | FUNCTION     | trigger          |
| trg_immunization_issue_inventory             | FUNCTION     | trigger          |
| generate_patient_schedule                    | FUNCTION     | void             |
| trg_deworming_history_fn                     | FUNCTION     | trigger          |
| trg_inventory_requests_history_fn            | FUNCTION     | trigger          |
| trg_inventorytransactions_history_fn         | FUNCTION     | trigger          |
| resolve_login_identifier                     | FUNCTION     | record           |
| soft_delete_row                              | FUNCTION     | void             |
| patient_age_months                           | FUNCTION     | integer          |
| patient_age_days                             | FUNCTION     | integer          |
| soft_delete_row                              | FUNCTION     | void             |
| current_app_user_id                          | FUNCTION     | bigint           |
| current_app_role                             | FUNCTION     | text             |
| restore_row                                  | FUNCTION     | void             |
| trg_generic_history                          | FUNCTION     | trigger          |

SELECT
  v.schemaname      AS schema,
  v.viewname        AS view,
  c.ordinal_position AS col_pos,
  c.column_name,
  c.data_type,
  pg_get_viewdef(format('%I.%I', v.schemaname, v.viewname)::regclass, true) AS definition
FROM pg_views v
JOIN information_schema.columns c
  ON c.table_schema = v.schemaname
 AND c.table_name   = v.viewname
WHERE v.schemaname = 'public'
ORDER BY v.viewname, c.ordinal_position;

| schema | view                     | col_pos | column_name              | data_type                   | definition                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ------ | ------------------------ | ------- | ------------------------ | --------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| public | activitylogs_view        | 1       | log_id                   | bigint                      |  SELECT al.log_id,
    al.user_id,
    al.action_type,
    al.entity_type,
    al.entity_id,
    al.old_value,
    al.new_value,
    al."timestamp",
    (u.firstname::text || ' '::text) || u.surname::text AS user_name
   FROM activitylogs al
     JOIN users u ON al.user_id = u.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| public | activitylogs_view        | 2       | user_id                  | bigint                      |  SELECT al.log_id,
    al.user_id,
    al.action_type,
    al.entity_type,
    al.entity_id,
    al.old_value,
    al.new_value,
    al."timestamp",
    (u.firstname::text || ' '::text) || u.surname::text AS user_name
   FROM activitylogs al
     JOIN users u ON al.user_id = u.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| public | activitylogs_view        | 3       | action_type              | character varying           |  SELECT al.log_id,
    al.user_id,
    al.action_type,
    al.entity_type,
    al.entity_id,
    al.old_value,
    al.new_value,
    al."timestamp",
    (u.firstname::text || ' '::text) || u.surname::text AS user_name
   FROM activitylogs al
     JOIN users u ON al.user_id = u.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| public | activitylogs_view        | 4       | entity_type              | character varying           |  SELECT al.log_id,
    al.user_id,
    al.action_type,
    al.entity_type,
    al.entity_id,
    al.old_value,
    al.new_value,
    al."timestamp",
    (u.firstname::text || ' '::text) || u.surname::text AS user_name
   FROM activitylogs al
     JOIN users u ON al.user_id = u.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| public | activitylogs_view        | 5       | entity_id                | bigint                      |  SELECT al.log_id,
    al.user_id,
    al.action_type,
    al.entity_type,
    al.entity_id,
    al.old_value,
    al.new_value,
    al."timestamp",
    (u.firstname::text || ' '::text) || u.surname::text AS user_name
   FROM activitylogs al
     JOIN users u ON al.user_id = u.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| public | activitylogs_view        | 6       | old_value                | jsonb                       |  SELECT al.log_id,
    al.user_id,
    al.action_type,
    al.entity_type,
    al.entity_id,
    al.old_value,
    al.new_value,
    al."timestamp",
    (u.firstname::text || ' '::text) || u.surname::text AS user_name
   FROM activitylogs al
     JOIN users u ON al.user_id = u.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| public | activitylogs_view        | 7       | new_value                | jsonb                       |  SELECT al.log_id,
    al.user_id,
    al.action_type,
    al.entity_type,
    al.entity_id,
    al.old_value,
    al.new_value,
    al."timestamp",
    (u.firstname::text || ' '::text) || u.surname::text AS user_name
   FROM activitylogs al
     JOIN users u ON al.user_id = u.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| public | activitylogs_view        | 8       | timestamp                | timestamp without time zone |  SELECT al.log_id,
    al.user_id,
    al.action_type,
    al.entity_type,
    al.entity_id,
    al.old_value,
    al.new_value,
    al."timestamp",
    (u.firstname::text || ' '::text) || u.surname::text AS user_name
   FROM activitylogs al
     JOIN users u ON al.user_id = u.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| public | activitylogs_view        | 9       | user_name                | text                        |  SELECT al.log_id,
    al.user_id,
    al.action_type,
    al.entity_type,
    al.entity_id,
    al.old_value,
    al.new_value,
    al."timestamp",
    (u.firstname::text || ' '::text) || u.surname::text AS user_name
   FROM activitylogs al
     JOIN users u ON al.user_id = u.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| public | conversations_view       | 1       | conversation_id          | bigint                      |  SELECT conversation_id,
    subject,
    created_by,
    created_at,
    ( SELECT json_agg(cp.user_id) AS json_agg
           FROM conversationparticipants cp
          WHERE cp.conversation_id = c.conversation_id AND cp.is_deleted = false) AS participants,
    ( SELECT m.message_content
           FROM messages m
          WHERE m.conversation_id = c.conversation_id AND m.is_deleted = false
          ORDER BY m.created_at DESC
         LIMIT 1) AS latest_message,
    ( SELECT m.created_at
           FROM messages m
          WHERE m.conversation_id = c.conversation_id AND m.is_deleted = false
          ORDER BY m.created_at DESC
         LIMIT 1) AS latest_message_time
   FROM conversations c
  WHERE is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| public | conversations_view       | 2       | subject                  | character varying           |  SELECT conversation_id,
    subject,
    created_by,
    created_at,
    ( SELECT json_agg(cp.user_id) AS json_agg
           FROM conversationparticipants cp
          WHERE cp.conversation_id = c.conversation_id AND cp.is_deleted = false) AS participants,
    ( SELECT m.message_content
           FROM messages m
          WHERE m.conversation_id = c.conversation_id AND m.is_deleted = false
          ORDER BY m.created_at DESC
         LIMIT 1) AS latest_message,
    ( SELECT m.created_at
           FROM messages m
          WHERE m.conversation_id = c.conversation_id AND m.is_deleted = false
          ORDER BY m.created_at DESC
         LIMIT 1) AS latest_message_time
   FROM conversations c
  WHERE is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| public | conversations_view       | 3       | created_by               | bigint                      |  SELECT conversation_id,
    subject,
    created_by,
    created_at,
    ( SELECT json_agg(cp.user_id) AS json_agg
           FROM conversationparticipants cp
          WHERE cp.conversation_id = c.conversation_id AND cp.is_deleted = false) AS participants,
    ( SELECT m.message_content
           FROM messages m
          WHERE m.conversation_id = c.conversation_id AND m.is_deleted = false
          ORDER BY m.created_at DESC
         LIMIT 1) AS latest_message,
    ( SELECT m.created_at
           FROM messages m
          WHERE m.conversation_id = c.conversation_id AND m.is_deleted = false
          ORDER BY m.created_at DESC
         LIMIT 1) AS latest_message_time
   FROM conversations c
  WHERE is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| public | conversations_view       | 4       | created_at               | timestamp without time zone |  SELECT conversation_id,
    subject,
    created_by,
    created_at,
    ( SELECT json_agg(cp.user_id) AS json_agg
           FROM conversationparticipants cp
          WHERE cp.conversation_id = c.conversation_id AND cp.is_deleted = false) AS participants,
    ( SELECT m.message_content
           FROM messages m
          WHERE m.conversation_id = c.conversation_id AND m.is_deleted = false
          ORDER BY m.created_at DESC
         LIMIT 1) AS latest_message,
    ( SELECT m.created_at
           FROM messages m
          WHERE m.conversation_id = c.conversation_id AND m.is_deleted = false
          ORDER BY m.created_at DESC
         LIMIT 1) AS latest_message_time
   FROM conversations c
  WHERE is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| public | conversations_view       | 5       | participants             | json                        |  SELECT conversation_id,
    subject,
    created_by,
    created_at,
    ( SELECT json_agg(cp.user_id) AS json_agg
           FROM conversationparticipants cp
          WHERE cp.conversation_id = c.conversation_id AND cp.is_deleted = false) AS participants,
    ( SELECT m.message_content
           FROM messages m
          WHERE m.conversation_id = c.conversation_id AND m.is_deleted = false
          ORDER BY m.created_at DESC
         LIMIT 1) AS latest_message,
    ( SELECT m.created_at
           FROM messages m
          WHERE m.conversation_id = c.conversation_id AND m.is_deleted = false
          ORDER BY m.created_at DESC
         LIMIT 1) AS latest_message_time
   FROM conversations c
  WHERE is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| public | conversations_view       | 6       | latest_message           | text                        |  SELECT conversation_id,
    subject,
    created_by,
    created_at,
    ( SELECT json_agg(cp.user_id) AS json_agg
           FROM conversationparticipants cp
          WHERE cp.conversation_id = c.conversation_id AND cp.is_deleted = false) AS participants,
    ( SELECT m.message_content
           FROM messages m
          WHERE m.conversation_id = c.conversation_id AND m.is_deleted = false
          ORDER BY m.created_at DESC
         LIMIT 1) AS latest_message,
    ( SELECT m.created_at
           FROM messages m
          WHERE m.conversation_id = c.conversation_id AND m.is_deleted = false
          ORDER BY m.created_at DESC
         LIMIT 1) AS latest_message_time
   FROM conversations c
  WHERE is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| public | conversations_view       | 7       | latest_message_time      | timestamp without time zone |  SELECT conversation_id,
    subject,
    created_by,
    created_at,
    ( SELECT json_agg(cp.user_id) AS json_agg
           FROM conversationparticipants cp
          WHERE cp.conversation_id = c.conversation_id AND cp.is_deleted = false) AS participants,
    ( SELECT m.message_content
           FROM messages m
          WHERE m.conversation_id = c.conversation_id AND m.is_deleted = false
          ORDER BY m.created_at DESC
         LIMIT 1) AS latest_message,
    ( SELECT m.created_at
           FROM messages m
          WHERE m.conversation_id = c.conversation_id AND m.is_deleted = false
          ORDER BY m.created_at DESC
         LIMIT 1) AS latest_message_time
   FROM conversations c
  WHERE is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| public | dashboard_view           | 1       | total_patients           | bigint                      |  SELECT ( SELECT count(*) AS count
           FROM patients
          WHERE patients.is_deleted = false) AS total_patients,
    ( SELECT count(*) AS count
           FROM users
          WHERE users.role::text = 'HealthWorker'::text AND users.is_deleted = false) AS total_healthworkers,
    ( SELECT count(*) AS count
           FROM users
          WHERE users.role::text = 'Nurse'::text AND users.is_deleted = false) AS total_nurses,
    ( SELECT count(*) AS count
           FROM users
          WHERE users.role::text = 'Nutritionist'::text AND users.is_deleted = false) AS total_nutritionists,
    ( SELECT count(*) AS count
           FROM guardians
          WHERE guardians.is_deleted = false) AS total_guardians,
    ( SELECT sum(inventory.current_stock_level) AS sum
           FROM inventory
          WHERE inventory.is_deleted = false) AS total_vaccine_stock,
    ( SELECT count(*) AS count
           FROM patientschedule
          WHERE patientschedule.status::text = 'Missed'::text AND patientschedule.is_deleted = false) AS total_defaulters,
    ( SELECT count(*) AS count
           FROM patientschedule
          WHERE patientschedule.status::text = 'Pending'::text AND patientschedule.is_deleted = false) AS total_due_soon;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| public | dashboard_view           | 2       | total_healthworkers      | bigint                      |  SELECT ( SELECT count(*) AS count
           FROM patients
          WHERE patients.is_deleted = false) AS total_patients,
    ( SELECT count(*) AS count
           FROM users
          WHERE users.role::text = 'HealthWorker'::text AND users.is_deleted = false) AS total_healthworkers,
    ( SELECT count(*) AS count
           FROM users
          WHERE users.role::text = 'Nurse'::text AND users.is_deleted = false) AS total_nurses,
    ( SELECT count(*) AS count
           FROM users
          WHERE users.role::text = 'Nutritionist'::text AND users.is_deleted = false) AS total_nutritionists,
    ( SELECT count(*) AS count
           FROM guardians
          WHERE guardians.is_deleted = false) AS total_guardians,
    ( SELECT sum(inventory.current_stock_level) AS sum
           FROM inventory
          WHERE inventory.is_deleted = false) AS total_vaccine_stock,
    ( SELECT count(*) AS count
           FROM patientschedule
          WHERE patientschedule.status::text = 'Missed'::text AND patientschedule.is_deleted = false) AS total_defaulters,
    ( SELECT count(*) AS count
           FROM patientschedule
          WHERE patientschedule.status::text = 'Pending'::text AND patientschedule.is_deleted = false) AS total_due_soon;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| public | dashboard_view           | 3       | total_nurses             | bigint                      |  SELECT ( SELECT count(*) AS count
           FROM patients
          WHERE patients.is_deleted = false) AS total_patients,
    ( SELECT count(*) AS count
           FROM users
          WHERE users.role::text = 'HealthWorker'::text AND users.is_deleted = false) AS total_healthworkers,
    ( SELECT count(*) AS count
           FROM users
          WHERE users.role::text = 'Nurse'::text AND users.is_deleted = false) AS total_nurses,
    ( SELECT count(*) AS count
           FROM users
          WHERE users.role::text = 'Nutritionist'::text AND users.is_deleted = false) AS total_nutritionists,
    ( SELECT count(*) AS count
           FROM guardians
          WHERE guardians.is_deleted = false) AS total_guardians,
    ( SELECT sum(inventory.current_stock_level) AS sum
           FROM inventory
          WHERE inventory.is_deleted = false) AS total_vaccine_stock,
    ( SELECT count(*) AS count
           FROM patientschedule
          WHERE patientschedule.status::text = 'Missed'::text AND patientschedule.is_deleted = false) AS total_defaulters,
    ( SELECT count(*) AS count
           FROM patientschedule
          WHERE patientschedule.status::text = 'Pending'::text AND patientschedule.is_deleted = false) AS total_due_soon;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| public | dashboard_view           | 4       | total_nutritionists      | bigint                      |  SELECT ( SELECT count(*) AS count
           FROM patients
          WHERE patients.is_deleted = false) AS total_patients,
    ( SELECT count(*) AS count
           FROM users
          WHERE users.role::text = 'HealthWorker'::text AND users.is_deleted = false) AS total_healthworkers,
    ( SELECT count(*) AS count
           FROM users
          WHERE users.role::text = 'Nurse'::text AND users.is_deleted = false) AS total_nurses,
    ( SELECT count(*) AS count
           FROM users
          WHERE users.role::text = 'Nutritionist'::text AND users.is_deleted = false) AS total_nutritionists,
    ( SELECT count(*) AS count
           FROM guardians
          WHERE guardians.is_deleted = false) AS total_guardians,
    ( SELECT sum(inventory.current_stock_level) AS sum
           FROM inventory
          WHERE inventory.is_deleted = false) AS total_vaccine_stock,
    ( SELECT count(*) AS count
           FROM patientschedule
          WHERE patientschedule.status::text = 'Missed'::text AND patientschedule.is_deleted = false) AS total_defaulters,
    ( SELECT count(*) AS count
           FROM patientschedule
          WHERE patientschedule.status::text = 'Pending'::text AND patientschedule.is_deleted = false) AS total_due_soon;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| public | dashboard_view           | 5       | total_guardians          | bigint                      |  SELECT ( SELECT count(*) AS count
           FROM patients
          WHERE patients.is_deleted = false) AS total_patients,
    ( SELECT count(*) AS count
           FROM users
          WHERE users.role::text = 'HealthWorker'::text AND users.is_deleted = false) AS total_healthworkers,
    ( SELECT count(*) AS count
           FROM users
          WHERE users.role::text = 'Nurse'::text AND users.is_deleted = false) AS total_nurses,
    ( SELECT count(*) AS count
           FROM users
          WHERE users.role::text = 'Nutritionist'::text AND users.is_deleted = false) AS total_nutritionists,
    ( SELECT count(*) AS count
           FROM guardians
          WHERE guardians.is_deleted = false) AS total_guardians,
    ( SELECT sum(inventory.current_stock_level) AS sum
           FROM inventory
          WHERE inventory.is_deleted = false) AS total_vaccine_stock,
    ( SELECT count(*) AS count
           FROM patientschedule
          WHERE patientschedule.status::text = 'Missed'::text AND patientschedule.is_deleted = false) AS total_defaulters,
    ( SELECT count(*) AS count
           FROM patientschedule
          WHERE patientschedule.status::text = 'Pending'::text AND patientschedule.is_deleted = false) AS total_due_soon;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| public | dashboard_view           | 6       | total_vaccine_stock      | bigint                      |  SELECT ( SELECT count(*) AS count
           FROM patients
          WHERE patients.is_deleted = false) AS total_patients,
    ( SELECT count(*) AS count
           FROM users
          WHERE users.role::text = 'HealthWorker'::text AND users.is_deleted = false) AS total_healthworkers,
    ( SELECT count(*) AS count
           FROM users
          WHERE users.role::text = 'Nurse'::text AND users.is_deleted = false) AS total_nurses,
    ( SELECT count(*) AS count
           FROM users
          WHERE users.role::text = 'Nutritionist'::text AND users.is_deleted = false) AS total_nutritionists,
    ( SELECT count(*) AS count
           FROM guardians
          WHERE guardians.is_deleted = false) AS total_guardians,
    ( SELECT sum(inventory.current_stock_level) AS sum
           FROM inventory
          WHERE inventory.is_deleted = false) AS total_vaccine_stock,
    ( SELECT count(*) AS count
           FROM patientschedule
          WHERE patientschedule.status::text = 'Missed'::text AND patientschedule.is_deleted = false) AS total_defaulters,
    ( SELECT count(*) AS count
           FROM patientschedule
          WHERE patientschedule.status::text = 'Pending'::text AND patientschedule.is_deleted = false) AS total_due_soon;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| public | dashboard_view           | 7       | total_defaulters         | bigint                      |  SELECT ( SELECT count(*) AS count
           FROM patients
          WHERE patients.is_deleted = false) AS total_patients,
    ( SELECT count(*) AS count
           FROM users
          WHERE users.role::text = 'HealthWorker'::text AND users.is_deleted = false) AS total_healthworkers,
    ( SELECT count(*) AS count
           FROM users
          WHERE users.role::text = 'Nurse'::text AND users.is_deleted = false) AS total_nurses,
    ( SELECT count(*) AS count
           FROM users
          WHERE users.role::text = 'Nutritionist'::text AND users.is_deleted = false) AS total_nutritionists,
    ( SELECT count(*) AS count
           FROM guardians
          WHERE guardians.is_deleted = false) AS total_guardians,
    ( SELECT sum(inventory.current_stock_level) AS sum
           FROM inventory
          WHERE inventory.is_deleted = false) AS total_vaccine_stock,
    ( SELECT count(*) AS count
           FROM patientschedule
          WHERE patientschedule.status::text = 'Missed'::text AND patientschedule.is_deleted = false) AS total_defaulters,
    ( SELECT count(*) AS count
           FROM patientschedule
          WHERE patientschedule.status::text = 'Pending'::text AND patientschedule.is_deleted = false) AS total_due_soon;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| public | dashboard_view           | 8       | total_due_soon           | bigint                      |  SELECT ( SELECT count(*) AS count
           FROM patients
          WHERE patients.is_deleted = false) AS total_patients,
    ( SELECT count(*) AS count
           FROM users
          WHERE users.role::text = 'HealthWorker'::text AND users.is_deleted = false) AS total_healthworkers,
    ( SELECT count(*) AS count
           FROM users
          WHERE users.role::text = 'Nurse'::text AND users.is_deleted = false) AS total_nurses,
    ( SELECT count(*) AS count
           FROM users
          WHERE users.role::text = 'Nutritionist'::text AND users.is_deleted = false) AS total_nutritionists,
    ( SELECT count(*) AS count
           FROM guardians
          WHERE guardians.is_deleted = false) AS total_guardians,
    ( SELECT sum(inventory.current_stock_level) AS sum
           FROM inventory
          WHERE inventory.is_deleted = false) AS total_vaccine_stock,
    ( SELECT count(*) AS count
           FROM patientschedule
          WHERE patientschedule.status::text = 'Missed'::text AND patientschedule.is_deleted = false) AS total_defaulters,
    ( SELECT count(*) AS count
           FROM patientschedule
          WHERE patientschedule.status::text = 'Pending'::text AND patientschedule.is_deleted = false) AS total_due_soon;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| public | defaulters_view          | 1       | patient_id               | bigint                      |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    concat(g.surname, ', ', g.firstname) AS guardian_name,
    g.contact_number,
    p.barangay,
    ps.vaccine_id,
    vm.antigen_name AS next_due_antigen,
    ps.dose_number,
    ps.scheduled_date,
    ps.status,
    CURRENT_DATE - ps.scheduled_date AS days_overdue
   FROM patientschedule ps
     JOIN patients p ON ps.patient_id = p.patient_id
     JOIN guardians g ON p.guardian_id = g.guardian_id
     JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
  WHERE ps.status::text = 'Missed'::text AND ps.is_deleted = false AND p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| public | defaulters_view          | 2       | patient_name             | text                        |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    concat(g.surname, ', ', g.firstname) AS guardian_name,
    g.contact_number,
    p.barangay,
    ps.vaccine_id,
    vm.antigen_name AS next_due_antigen,
    ps.dose_number,
    ps.scheduled_date,
    ps.status,
    CURRENT_DATE - ps.scheduled_date AS days_overdue
   FROM patientschedule ps
     JOIN patients p ON ps.patient_id = p.patient_id
     JOIN guardians g ON p.guardian_id = g.guardian_id
     JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
  WHERE ps.status::text = 'Missed'::text AND ps.is_deleted = false AND p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| public | defaulters_view          | 3       | guardian_name            | text                        |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    concat(g.surname, ', ', g.firstname) AS guardian_name,
    g.contact_number,
    p.barangay,
    ps.vaccine_id,
    vm.antigen_name AS next_due_antigen,
    ps.dose_number,
    ps.scheduled_date,
    ps.status,
    CURRENT_DATE - ps.scheduled_date AS days_overdue
   FROM patientschedule ps
     JOIN patients p ON ps.patient_id = p.patient_id
     JOIN guardians g ON p.guardian_id = g.guardian_id
     JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
  WHERE ps.status::text = 'Missed'::text AND ps.is_deleted = false AND p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| public | defaulters_view          | 4       | contact_number           | character varying           |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    concat(g.surname, ', ', g.firstname) AS guardian_name,
    g.contact_number,
    p.barangay,
    ps.vaccine_id,
    vm.antigen_name AS next_due_antigen,
    ps.dose_number,
    ps.scheduled_date,
    ps.status,
    CURRENT_DATE - ps.scheduled_date AS days_overdue
   FROM patientschedule ps
     JOIN patients p ON ps.patient_id = p.patient_id
     JOIN guardians g ON p.guardian_id = g.guardian_id
     JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
  WHERE ps.status::text = 'Missed'::text AND ps.is_deleted = false AND p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| public | defaulters_view          | 5       | barangay                 | character varying           |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    concat(g.surname, ', ', g.firstname) AS guardian_name,
    g.contact_number,
    p.barangay,
    ps.vaccine_id,
    vm.antigen_name AS next_due_antigen,
    ps.dose_number,
    ps.scheduled_date,
    ps.status,
    CURRENT_DATE - ps.scheduled_date AS days_overdue
   FROM patientschedule ps
     JOIN patients p ON ps.patient_id = p.patient_id
     JOIN guardians g ON p.guardian_id = g.guardian_id
     JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
  WHERE ps.status::text = 'Missed'::text AND ps.is_deleted = false AND p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| public | defaulters_view          | 6       | vaccine_id               | bigint                      |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    concat(g.surname, ', ', g.firstname) AS guardian_name,
    g.contact_number,
    p.barangay,
    ps.vaccine_id,
    vm.antigen_name AS next_due_antigen,
    ps.dose_number,
    ps.scheduled_date,
    ps.status,
    CURRENT_DATE - ps.scheduled_date AS days_overdue
   FROM patientschedule ps
     JOIN patients p ON ps.patient_id = p.patient_id
     JOIN guardians g ON p.guardian_id = g.guardian_id
     JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
  WHERE ps.status::text = 'Missed'::text AND ps.is_deleted = false AND p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| public | defaulters_view          | 7       | next_due_antigen         | character varying           |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    concat(g.surname, ', ', g.firstname) AS guardian_name,
    g.contact_number,
    p.barangay,
    ps.vaccine_id,
    vm.antigen_name AS next_due_antigen,
    ps.dose_number,
    ps.scheduled_date,
    ps.status,
    CURRENT_DATE - ps.scheduled_date AS days_overdue
   FROM patientschedule ps
     JOIN patients p ON ps.patient_id = p.patient_id
     JOIN guardians g ON p.guardian_id = g.guardian_id
     JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
  WHERE ps.status::text = 'Missed'::text AND ps.is_deleted = false AND p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| public | defaulters_view          | 8       | dose_number              | integer                     |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    concat(g.surname, ', ', g.firstname) AS guardian_name,
    g.contact_number,
    p.barangay,
    ps.vaccine_id,
    vm.antigen_name AS next_due_antigen,
    ps.dose_number,
    ps.scheduled_date,
    ps.status,
    CURRENT_DATE - ps.scheduled_date AS days_overdue
   FROM patientschedule ps
     JOIN patients p ON ps.patient_id = p.patient_id
     JOIN guardians g ON p.guardian_id = g.guardian_id
     JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
  WHERE ps.status::text = 'Missed'::text AND ps.is_deleted = false AND p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| public | defaulters_view          | 9       | scheduled_date           | date                        |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    concat(g.surname, ', ', g.firstname) AS guardian_name,
    g.contact_number,
    p.barangay,
    ps.vaccine_id,
    vm.antigen_name AS next_due_antigen,
    ps.dose_number,
    ps.scheduled_date,
    ps.status,
    CURRENT_DATE - ps.scheduled_date AS days_overdue
   FROM patientschedule ps
     JOIN patients p ON ps.patient_id = p.patient_id
     JOIN guardians g ON p.guardian_id = g.guardian_id
     JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
  WHERE ps.status::text = 'Missed'::text AND ps.is_deleted = false AND p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| public | defaulters_view          | 10      | status                   | character varying           |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    concat(g.surname, ', ', g.firstname) AS guardian_name,
    g.contact_number,
    p.barangay,
    ps.vaccine_id,
    vm.antigen_name AS next_due_antigen,
    ps.dose_number,
    ps.scheduled_date,
    ps.status,
    CURRENT_DATE - ps.scheduled_date AS days_overdue
   FROM patientschedule ps
     JOIN patients p ON ps.patient_id = p.patient_id
     JOIN guardians g ON p.guardian_id = g.guardian_id
     JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
  WHERE ps.status::text = 'Missed'::text AND ps.is_deleted = false AND p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| public | defaulters_view          | 11      | days_overdue             | integer                     |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    concat(g.surname, ', ', g.firstname) AS guardian_name,
    g.contact_number,
    p.barangay,
    ps.vaccine_id,
    vm.antigen_name AS next_due_antigen,
    ps.dose_number,
    ps.scheduled_date,
    ps.status,
    CURRENT_DATE - ps.scheduled_date AS days_overdue
   FROM patientschedule ps
     JOIN patients p ON ps.patient_id = p.patient_id
     JOIN guardians g ON p.guardian_id = g.guardian_id
     JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
  WHERE ps.status::text = 'Missed'::text AND ps.is_deleted = false AND p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| public | duesoon_view             | 1       | patient_id               | bigint                      |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    g.contact_number AS guardian_contact,
    vm.antigen_name,
    ps.dose_number,
    ps.scheduled_date,
    ps.scheduled_date - CURRENT_DATE AS days_until_due
   FROM patientschedule ps
     JOIN patients p ON ps.patient_id = p.patient_id
     JOIN guardians g ON p.guardian_id = g.guardian_id
     JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
  WHERE ps.status::text = 'Pending'::text AND ps.scheduled_date >= CURRENT_DATE AND ps.scheduled_date <= (CURRENT_DATE + '7 days'::interval) AND ps.is_deleted = false AND p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| public | duesoon_view             | 2       | patient_name             | text                        |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    g.contact_number AS guardian_contact,
    vm.antigen_name,
    ps.dose_number,
    ps.scheduled_date,
    ps.scheduled_date - CURRENT_DATE AS days_until_due
   FROM patientschedule ps
     JOIN patients p ON ps.patient_id = p.patient_id
     JOIN guardians g ON p.guardian_id = g.guardian_id
     JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
  WHERE ps.status::text = 'Pending'::text AND ps.scheduled_date >= CURRENT_DATE AND ps.scheduled_date <= (CURRENT_DATE + '7 days'::interval) AND ps.is_deleted = false AND p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| public | duesoon_view             | 3       | guardian_contact         | character varying           |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    g.contact_number AS guardian_contact,
    vm.antigen_name,
    ps.dose_number,
    ps.scheduled_date,
    ps.scheduled_date - CURRENT_DATE AS days_until_due
   FROM patientschedule ps
     JOIN patients p ON ps.patient_id = p.patient_id
     JOIN guardians g ON p.guardian_id = g.guardian_id
     JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
  WHERE ps.status::text = 'Pending'::text AND ps.scheduled_date >= CURRENT_DATE AND ps.scheduled_date <= (CURRENT_DATE + '7 days'::interval) AND ps.is_deleted = false AND p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| public | duesoon_view             | 4       | antigen_name             | character varying           |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    g.contact_number AS guardian_contact,
    vm.antigen_name,
    ps.dose_number,
    ps.scheduled_date,
    ps.scheduled_date - CURRENT_DATE AS days_until_due
   FROM patientschedule ps
     JOIN patients p ON ps.patient_id = p.patient_id
     JOIN guardians g ON p.guardian_id = g.guardian_id
     JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
  WHERE ps.status::text = 'Pending'::text AND ps.scheduled_date >= CURRENT_DATE AND ps.scheduled_date <= (CURRENT_DATE + '7 days'::interval) AND ps.is_deleted = false AND p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| public | duesoon_view             | 5       | dose_number              | integer                     |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    g.contact_number AS guardian_contact,
    vm.antigen_name,
    ps.dose_number,
    ps.scheduled_date,
    ps.scheduled_date - CURRENT_DATE AS days_until_due
   FROM patientschedule ps
     JOIN patients p ON ps.patient_id = p.patient_id
     JOIN guardians g ON p.guardian_id = g.guardian_id
     JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
  WHERE ps.status::text = 'Pending'::text AND ps.scheduled_date >= CURRENT_DATE AND ps.scheduled_date <= (CURRENT_DATE + '7 days'::interval) AND ps.is_deleted = false AND p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| public | duesoon_view             | 6       | scheduled_date           | date                        |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    g.contact_number AS guardian_contact,
    vm.antigen_name,
    ps.dose_number,
    ps.scheduled_date,
    ps.scheduled_date - CURRENT_DATE AS days_until_due
   FROM patientschedule ps
     JOIN patients p ON ps.patient_id = p.patient_id
     JOIN guardians g ON p.guardian_id = g.guardian_id
     JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
  WHERE ps.status::text = 'Pending'::text AND ps.scheduled_date >= CURRENT_DATE AND ps.scheduled_date <= (CURRENT_DATE + '7 days'::interval) AND ps.is_deleted = false AND p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| public | duesoon_view             | 7       | days_until_due           | integer                     |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    g.contact_number AS guardian_contact,
    vm.antigen_name,
    ps.dose_number,
    ps.scheduled_date,
    ps.scheduled_date - CURRENT_DATE AS days_until_due
   FROM patientschedule ps
     JOIN patients p ON ps.patient_id = p.patient_id
     JOIN guardians g ON p.guardian_id = g.guardian_id
     JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
  WHERE ps.status::text = 'Pending'::text AND ps.scheduled_date >= CURRENT_DATE AND ps.scheduled_date <= (CURRENT_DATE + '7 days'::interval) AND ps.is_deleted = false AND p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| public | immunizationhistory_view | 1       | patient_id               | bigint                      |  SELECT p.patient_id,
    (p.surname::text || ', '::text) || p.firstname::text AS patient_name,
    im.vaccine_id,
    vm.antigen_name,
    im.dose_number,
    v.visit_date AS immunization_date,
    (u.firstname::text || ' '::text) || u.surname::text AS administered_by,
    im.remarks,
    im.inventory_id
   FROM immunizations im
     JOIN visits v ON im.visit_id = v.visit_id
     JOIN patients p ON v.patient_id = p.patient_id
     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
     JOIN users u ON im.administered_by = u.user_id
  WHERE im.is_deleted = false AND v.is_deleted = false AND p.is_deleted = false AND vm.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| public | immunizationhistory_view | 2       | patient_name             | text                        |  SELECT p.patient_id,
    (p.surname::text || ', '::text) || p.firstname::text AS patient_name,
    im.vaccine_id,
    vm.antigen_name,
    im.dose_number,
    v.visit_date AS immunization_date,
    (u.firstname::text || ' '::text) || u.surname::text AS administered_by,
    im.remarks,
    im.inventory_id
   FROM immunizations im
     JOIN visits v ON im.visit_id = v.visit_id
     JOIN patients p ON v.patient_id = p.patient_id
     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
     JOIN users u ON im.administered_by = u.user_id
  WHERE im.is_deleted = false AND v.is_deleted = false AND p.is_deleted = false AND vm.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| public | immunizationhistory_view | 3       | vaccine_id               | bigint                      |  SELECT p.patient_id,
    (p.surname::text || ', '::text) || p.firstname::text AS patient_name,
    im.vaccine_id,
    vm.antigen_name,
    im.dose_number,
    v.visit_date AS immunization_date,
    (u.firstname::text || ' '::text) || u.surname::text AS administered_by,
    im.remarks,
    im.inventory_id
   FROM immunizations im
     JOIN visits v ON im.visit_id = v.visit_id
     JOIN patients p ON v.patient_id = p.patient_id
     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
     JOIN users u ON im.administered_by = u.user_id
  WHERE im.is_deleted = false AND v.is_deleted = false AND p.is_deleted = false AND vm.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| public | immunizationhistory_view | 4       | antigen_name             | character varying           |  SELECT p.patient_id,
    (p.surname::text || ', '::text) || p.firstname::text AS patient_name,
    im.vaccine_id,
    vm.antigen_name,
    im.dose_number,
    v.visit_date AS immunization_date,
    (u.firstname::text || ' '::text) || u.surname::text AS administered_by,
    im.remarks,
    im.inventory_id
   FROM immunizations im
     JOIN visits v ON im.visit_id = v.visit_id
     JOIN patients p ON v.patient_id = p.patient_id
     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
     JOIN users u ON im.administered_by = u.user_id
  WHERE im.is_deleted = false AND v.is_deleted = false AND p.is_deleted = false AND vm.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| public | immunizationhistory_view | 5       | dose_number              | integer                     |  SELECT p.patient_id,
    (p.surname::text || ', '::text) || p.firstname::text AS patient_name,
    im.vaccine_id,
    vm.antigen_name,
    im.dose_number,
    v.visit_date AS immunization_date,
    (u.firstname::text || ' '::text) || u.surname::text AS administered_by,
    im.remarks,
    im.inventory_id
   FROM immunizations im
     JOIN visits v ON im.visit_id = v.visit_id
     JOIN patients p ON v.patient_id = p.patient_id
     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
     JOIN users u ON im.administered_by = u.user_id
  WHERE im.is_deleted = false AND v.is_deleted = false AND p.is_deleted = false AND vm.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| public | immunizationhistory_view | 6       | immunization_date        | date                        |  SELECT p.patient_id,
    (p.surname::text || ', '::text) || p.firstname::text AS patient_name,
    im.vaccine_id,
    vm.antigen_name,
    im.dose_number,
    v.visit_date AS immunization_date,
    (u.firstname::text || ' '::text) || u.surname::text AS administered_by,
    im.remarks,
    im.inventory_id
   FROM immunizations im
     JOIN visits v ON im.visit_id = v.visit_id
     JOIN patients p ON v.patient_id = p.patient_id
     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
     JOIN users u ON im.administered_by = u.user_id
  WHERE im.is_deleted = false AND v.is_deleted = false AND p.is_deleted = false AND vm.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| public | immunizationhistory_view | 7       | administered_by          | text                        |  SELECT p.patient_id,
    (p.surname::text || ', '::text) || p.firstname::text AS patient_name,
    im.vaccine_id,
    vm.antigen_name,
    im.dose_number,
    v.visit_date AS immunization_date,
    (u.firstname::text || ' '::text) || u.surname::text AS administered_by,
    im.remarks,
    im.inventory_id
   FROM immunizations im
     JOIN visits v ON im.visit_id = v.visit_id
     JOIN patients p ON v.patient_id = p.patient_id
     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
     JOIN users u ON im.administered_by = u.user_id
  WHERE im.is_deleted = false AND v.is_deleted = false AND p.is_deleted = false AND vm.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| public | immunizationhistory_view | 8       | remarks                  | text                        |  SELECT p.patient_id,
    (p.surname::text || ', '::text) || p.firstname::text AS patient_name,
    im.vaccine_id,
    vm.antigen_name,
    im.dose_number,
    v.visit_date AS immunization_date,
    (u.firstname::text || ' '::text) || u.surname::text AS administered_by,
    im.remarks,
    im.inventory_id
   FROM immunizations im
     JOIN visits v ON im.visit_id = v.visit_id
     JOIN patients p ON v.patient_id = p.patient_id
     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
     JOIN users u ON im.administered_by = u.user_id
  WHERE im.is_deleted = false AND v.is_deleted = false AND p.is_deleted = false AND vm.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| public | immunizationhistory_view | 9       | inventory_id             | bigint                      |  SELECT p.patient_id,
    (p.surname::text || ', '::text) || p.firstname::text AS patient_name,
    im.vaccine_id,
    vm.antigen_name,
    im.dose_number,
    v.visit_date AS immunization_date,
    (u.firstname::text || ' '::text) || u.surname::text AS administered_by,
    im.remarks,
    im.inventory_id
   FROM immunizations im
     JOIN visits v ON im.visit_id = v.visit_id
     JOIN patients p ON v.patient_id = p.patient_id
     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
     JOIN users u ON im.administered_by = u.user_id
  WHERE im.is_deleted = false AND v.is_deleted = false AND p.is_deleted = false AND vm.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| public | inventorylowstock_view   | 1       | vaccine_id               | bigint                      |  SELECT i.vaccine_id,
    vm.antigen_name,
    vm.brand_name,
    i.current_stock_level,
    10 AS minimum_threshold,
    ( SELECT count(*) AS count
           FROM inventory i2
          WHERE i2.vaccine_id = i.vaccine_id AND i2.expiration_date <= (CURRENT_DATE + '30 days'::interval) AND i2.is_deleted = false) AS expiration_soon_count
   FROM inventory i
     JOIN vaccinemaster vm ON i.vaccine_id = vm.vaccine_id
  WHERE i.current_stock_level <= 10 AND i.is_deleted = false AND vm.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| public | inventorylowstock_view   | 2       | antigen_name             | character varying           |  SELECT i.vaccine_id,
    vm.antigen_name,
    vm.brand_name,
    i.current_stock_level,
    10 AS minimum_threshold,
    ( SELECT count(*) AS count
           FROM inventory i2
          WHERE i2.vaccine_id = i.vaccine_id AND i2.expiration_date <= (CURRENT_DATE + '30 days'::interval) AND i2.is_deleted = false) AS expiration_soon_count
   FROM inventory i
     JOIN vaccinemaster vm ON i.vaccine_id = vm.vaccine_id
  WHERE i.current_stock_level <= 10 AND i.is_deleted = false AND vm.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| public | inventorylowstock_view   | 3       | brand_name               | character varying           |  SELECT i.vaccine_id,
    vm.antigen_name,
    vm.brand_name,
    i.current_stock_level,
    10 AS minimum_threshold,
    ( SELECT count(*) AS count
           FROM inventory i2
          WHERE i2.vaccine_id = i.vaccine_id AND i2.expiration_date <= (CURRENT_DATE + '30 days'::interval) AND i2.is_deleted = false) AS expiration_soon_count
   FROM inventory i
     JOIN vaccinemaster vm ON i.vaccine_id = vm.vaccine_id
  WHERE i.current_stock_level <= 10 AND i.is_deleted = false AND vm.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| public | inventorylowstock_view   | 4       | current_stock_level      | integer                     |  SELECT i.vaccine_id,
    vm.antigen_name,
    vm.brand_name,
    i.current_stock_level,
    10 AS minimum_threshold,
    ( SELECT count(*) AS count
           FROM inventory i2
          WHERE i2.vaccine_id = i.vaccine_id AND i2.expiration_date <= (CURRENT_DATE + '30 days'::interval) AND i2.is_deleted = false) AS expiration_soon_count
   FROM inventory i
     JOIN vaccinemaster vm ON i.vaccine_id = vm.vaccine_id
  WHERE i.current_stock_level <= 10 AND i.is_deleted = false AND vm.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| public | inventorylowstock_view   | 5       | minimum_threshold        | integer                     |  SELECT i.vaccine_id,
    vm.antigen_name,
    vm.brand_name,
    i.current_stock_level,
    10 AS minimum_threshold,
    ( SELECT count(*) AS count
           FROM inventory i2
          WHERE i2.vaccine_id = i.vaccine_id AND i2.expiration_date <= (CURRENT_DATE + '30 days'::interval) AND i2.is_deleted = false) AS expiration_soon_count
   FROM inventory i
     JOIN vaccinemaster vm ON i.vaccine_id = vm.vaccine_id
  WHERE i.current_stock_level <= 10 AND i.is_deleted = false AND vm.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| public | inventorylowstock_view   | 6       | expiration_soon_count    | bigint                      |  SELECT i.vaccine_id,
    vm.antigen_name,
    vm.brand_name,
    i.current_stock_level,
    10 AS minimum_threshold,
    ( SELECT count(*) AS count
           FROM inventory i2
          WHERE i2.vaccine_id = i.vaccine_id AND i2.expiration_date <= (CURRENT_DATE + '30 days'::interval) AND i2.is_deleted = false) AS expiration_soon_count
   FROM inventory i
     JOIN vaccinemaster vm ON i.vaccine_id = vm.vaccine_id
  WHERE i.current_stock_level <= 10 AND i.is_deleted = false AND vm.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| public | monthlyreports_view      | 1       | report_month             | text                        |  SELECT main.report_month,
    main.total_patients_seen,
    main.male_vaccinated,
    main.female_vaccinated,
    main.total_vaccinated,
    main.vitamina_given,
    main.deworming_given,
    antigens.vaccines_used_by_antigen,
    brands.vaccines_used_by_brand
   FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
            count(DISTINCT v.patient_id) AS total_patients_seen,
            count(DISTINCT
                CASE
                    WHEN p.sex::text = 'Male'::text THEN im.immunization_id
                    ELSE NULL::bigint
                END) AS male_vaccinated,
            count(DISTINCT
                CASE
                    WHEN p.sex::text = 'Female'::text THEN im.immunization_id
                    ELSE NULL::bigint
                END) AS female_vaccinated,
            count(DISTINCT im.immunization_id) AS total_vaccinated,
            count(DISTINCT va.vitamina_id) AS vitamina_given,
            count(DISTINCT d.deworming_id) AS deworming_given
           FROM visits v
             JOIN patients p ON v.patient_id = p.patient_id
             LEFT JOIN immunizations im ON v.visit_id = im.visit_id
             LEFT JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
             LEFT JOIN vitamina va ON v.visit_id = va.visit_id
             LEFT JOIN deworming d ON v.visit_id = d.visit_id
          WHERE v.is_deleted = false AND p.is_deleted = false
          GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text))) main
     LEFT JOIN ( SELECT sub.report_month,
            json_object_agg(sub.antigen_name, sub.antigen_count) AS vaccines_used_by_antigen
           FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
                    vm.antigen_name,
                    count(im.immunization_id) AS antigen_count
                   FROM immunizations im
                     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
                     JOIN visits v ON im.visit_id = v.visit_id
                  WHERE im.is_deleted = false AND vm.is_deleted = false AND v.is_deleted = false
                  GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text)), vm.antigen_name) sub
          GROUP BY sub.report_month) antigens ON main.report_month = antigens.report_month
     LEFT JOIN ( SELECT sub.report_month,
            json_object_agg(sub.brand_name, sub.brand_count) AS vaccines_used_by_brand
           FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
                    vm.brand_name,
                    count(im.immunization_id) AS brand_count
                   FROM immunizations im
                     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
                     JOIN visits v ON im.visit_id = v.visit_id
                  WHERE im.is_deleted = false AND vm.is_deleted = false AND v.is_deleted = false
                  GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text)), vm.brand_name) sub
          GROUP BY sub.report_month) brands ON main.report_month = brands.report_month; |
| public | monthlyreports_view      | 2       | total_patients_seen      | bigint                      |  SELECT main.report_month,
    main.total_patients_seen,
    main.male_vaccinated,
    main.female_vaccinated,
    main.total_vaccinated,
    main.vitamina_given,
    main.deworming_given,
    antigens.vaccines_used_by_antigen,
    brands.vaccines_used_by_brand
   FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
            count(DISTINCT v.patient_id) AS total_patients_seen,
            count(DISTINCT
                CASE
                    WHEN p.sex::text = 'Male'::text THEN im.immunization_id
                    ELSE NULL::bigint
                END) AS male_vaccinated,
            count(DISTINCT
                CASE
                    WHEN p.sex::text = 'Female'::text THEN im.immunization_id
                    ELSE NULL::bigint
                END) AS female_vaccinated,
            count(DISTINCT im.immunization_id) AS total_vaccinated,
            count(DISTINCT va.vitamina_id) AS vitamina_given,
            count(DISTINCT d.deworming_id) AS deworming_given
           FROM visits v
             JOIN patients p ON v.patient_id = p.patient_id
             LEFT JOIN immunizations im ON v.visit_id = im.visit_id
             LEFT JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
             LEFT JOIN vitamina va ON v.visit_id = va.visit_id
             LEFT JOIN deworming d ON v.visit_id = d.visit_id
          WHERE v.is_deleted = false AND p.is_deleted = false
          GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text))) main
     LEFT JOIN ( SELECT sub.report_month,
            json_object_agg(sub.antigen_name, sub.antigen_count) AS vaccines_used_by_antigen
           FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
                    vm.antigen_name,
                    count(im.immunization_id) AS antigen_count
                   FROM immunizations im
                     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
                     JOIN visits v ON im.visit_id = v.visit_id
                  WHERE im.is_deleted = false AND vm.is_deleted = false AND v.is_deleted = false
                  GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text)), vm.antigen_name) sub
          GROUP BY sub.report_month) antigens ON main.report_month = antigens.report_month
     LEFT JOIN ( SELECT sub.report_month,
            json_object_agg(sub.brand_name, sub.brand_count) AS vaccines_used_by_brand
           FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
                    vm.brand_name,
                    count(im.immunization_id) AS brand_count
                   FROM immunizations im
                     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
                     JOIN visits v ON im.visit_id = v.visit_id
                  WHERE im.is_deleted = false AND vm.is_deleted = false AND v.is_deleted = false
                  GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text)), vm.brand_name) sub
          GROUP BY sub.report_month) brands ON main.report_month = brands.report_month; |
| public | monthlyreports_view      | 3       | male_vaccinated          | bigint                      |  SELECT main.report_month,
    main.total_patients_seen,
    main.male_vaccinated,
    main.female_vaccinated,
    main.total_vaccinated,
    main.vitamina_given,
    main.deworming_given,
    antigens.vaccines_used_by_antigen,
    brands.vaccines_used_by_brand
   FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
            count(DISTINCT v.patient_id) AS total_patients_seen,
            count(DISTINCT
                CASE
                    WHEN p.sex::text = 'Male'::text THEN im.immunization_id
                    ELSE NULL::bigint
                END) AS male_vaccinated,
            count(DISTINCT
                CASE
                    WHEN p.sex::text = 'Female'::text THEN im.immunization_id
                    ELSE NULL::bigint
                END) AS female_vaccinated,
            count(DISTINCT im.immunization_id) AS total_vaccinated,
            count(DISTINCT va.vitamina_id) AS vitamina_given,
            count(DISTINCT d.deworming_id) AS deworming_given
           FROM visits v
             JOIN patients p ON v.patient_id = p.patient_id
             LEFT JOIN immunizations im ON v.visit_id = im.visit_id
             LEFT JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
             LEFT JOIN vitamina va ON v.visit_id = va.visit_id
             LEFT JOIN deworming d ON v.visit_id = d.visit_id
          WHERE v.is_deleted = false AND p.is_deleted = false
          GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text))) main
     LEFT JOIN ( SELECT sub.report_month,
            json_object_agg(sub.antigen_name, sub.antigen_count) AS vaccines_used_by_antigen
           FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
                    vm.antigen_name,
                    count(im.immunization_id) AS antigen_count
                   FROM immunizations im
                     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
                     JOIN visits v ON im.visit_id = v.visit_id
                  WHERE im.is_deleted = false AND vm.is_deleted = false AND v.is_deleted = false
                  GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text)), vm.antigen_name) sub
          GROUP BY sub.report_month) antigens ON main.report_month = antigens.report_month
     LEFT JOIN ( SELECT sub.report_month,
            json_object_agg(sub.brand_name, sub.brand_count) AS vaccines_used_by_brand
           FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
                    vm.brand_name,
                    count(im.immunization_id) AS brand_count
                   FROM immunizations im
                     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
                     JOIN visits v ON im.visit_id = v.visit_id
                  WHERE im.is_deleted = false AND vm.is_deleted = false AND v.is_deleted = false
                  GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text)), vm.brand_name) sub
          GROUP BY sub.report_month) brands ON main.report_month = brands.report_month; |
| public | monthlyreports_view      | 4       | female_vaccinated        | bigint                      |  SELECT main.report_month,
    main.total_patients_seen,
    main.male_vaccinated,
    main.female_vaccinated,
    main.total_vaccinated,
    main.vitamina_given,
    main.deworming_given,
    antigens.vaccines_used_by_antigen,
    brands.vaccines_used_by_brand
   FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
            count(DISTINCT v.patient_id) AS total_patients_seen,
            count(DISTINCT
                CASE
                    WHEN p.sex::text = 'Male'::text THEN im.immunization_id
                    ELSE NULL::bigint
                END) AS male_vaccinated,
            count(DISTINCT
                CASE
                    WHEN p.sex::text = 'Female'::text THEN im.immunization_id
                    ELSE NULL::bigint
                END) AS female_vaccinated,
            count(DISTINCT im.immunization_id) AS total_vaccinated,
            count(DISTINCT va.vitamina_id) AS vitamina_given,
            count(DISTINCT d.deworming_id) AS deworming_given
           FROM visits v
             JOIN patients p ON v.patient_id = p.patient_id
             LEFT JOIN immunizations im ON v.visit_id = im.visit_id
             LEFT JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
             LEFT JOIN vitamina va ON v.visit_id = va.visit_id
             LEFT JOIN deworming d ON v.visit_id = d.visit_id
          WHERE v.is_deleted = false AND p.is_deleted = false
          GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text))) main
     LEFT JOIN ( SELECT sub.report_month,
            json_object_agg(sub.antigen_name, sub.antigen_count) AS vaccines_used_by_antigen
           FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
                    vm.antigen_name,
                    count(im.immunization_id) AS antigen_count
                   FROM immunizations im
                     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
                     JOIN visits v ON im.visit_id = v.visit_id
                  WHERE im.is_deleted = false AND vm.is_deleted = false AND v.is_deleted = false
                  GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text)), vm.antigen_name) sub
          GROUP BY sub.report_month) antigens ON main.report_month = antigens.report_month
     LEFT JOIN ( SELECT sub.report_month,
            json_object_agg(sub.brand_name, sub.brand_count) AS vaccines_used_by_brand
           FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
                    vm.brand_name,
                    count(im.immunization_id) AS brand_count
                   FROM immunizations im
                     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
                     JOIN visits v ON im.visit_id = v.visit_id
                  WHERE im.is_deleted = false AND vm.is_deleted = false AND v.is_deleted = false
                  GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text)), vm.brand_name) sub
          GROUP BY sub.report_month) brands ON main.report_month = brands.report_month; |
| public | monthlyreports_view      | 5       | total_vaccinated         | bigint                      |  SELECT main.report_month,
    main.total_patients_seen,
    main.male_vaccinated,
    main.female_vaccinated,
    main.total_vaccinated,
    main.vitamina_given,
    main.deworming_given,
    antigens.vaccines_used_by_antigen,
    brands.vaccines_used_by_brand
   FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
            count(DISTINCT v.patient_id) AS total_patients_seen,
            count(DISTINCT
                CASE
                    WHEN p.sex::text = 'Male'::text THEN im.immunization_id
                    ELSE NULL::bigint
                END) AS male_vaccinated,
            count(DISTINCT
                CASE
                    WHEN p.sex::text = 'Female'::text THEN im.immunization_id
                    ELSE NULL::bigint
                END) AS female_vaccinated,
            count(DISTINCT im.immunization_id) AS total_vaccinated,
            count(DISTINCT va.vitamina_id) AS vitamina_given,
            count(DISTINCT d.deworming_id) AS deworming_given
           FROM visits v
             JOIN patients p ON v.patient_id = p.patient_id
             LEFT JOIN immunizations im ON v.visit_id = im.visit_id
             LEFT JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
             LEFT JOIN vitamina va ON v.visit_id = va.visit_id
             LEFT JOIN deworming d ON v.visit_id = d.visit_id
          WHERE v.is_deleted = false AND p.is_deleted = false
          GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text))) main
     LEFT JOIN ( SELECT sub.report_month,
            json_object_agg(sub.antigen_name, sub.antigen_count) AS vaccines_used_by_antigen
           FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
                    vm.antigen_name,
                    count(im.immunization_id) AS antigen_count
                   FROM immunizations im
                     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
                     JOIN visits v ON im.visit_id = v.visit_id
                  WHERE im.is_deleted = false AND vm.is_deleted = false AND v.is_deleted = false
                  GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text)), vm.antigen_name) sub
          GROUP BY sub.report_month) antigens ON main.report_month = antigens.report_month
     LEFT JOIN ( SELECT sub.report_month,
            json_object_agg(sub.brand_name, sub.brand_count) AS vaccines_used_by_brand
           FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
                    vm.brand_name,
                    count(im.immunization_id) AS brand_count
                   FROM immunizations im
                     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
                     JOIN visits v ON im.visit_id = v.visit_id
                  WHERE im.is_deleted = false AND vm.is_deleted = false AND v.is_deleted = false
                  GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text)), vm.brand_name) sub
          GROUP BY sub.report_month) brands ON main.report_month = brands.report_month; |
| public | monthlyreports_view      | 6       | vitamina_given           | bigint                      |  SELECT main.report_month,
    main.total_patients_seen,
    main.male_vaccinated,
    main.female_vaccinated,
    main.total_vaccinated,
    main.vitamina_given,
    main.deworming_given,
    antigens.vaccines_used_by_antigen,
    brands.vaccines_used_by_brand
   FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
            count(DISTINCT v.patient_id) AS total_patients_seen,
            count(DISTINCT
                CASE
                    WHEN p.sex::text = 'Male'::text THEN im.immunization_id
                    ELSE NULL::bigint
                END) AS male_vaccinated,
            count(DISTINCT
                CASE
                    WHEN p.sex::text = 'Female'::text THEN im.immunization_id
                    ELSE NULL::bigint
                END) AS female_vaccinated,
            count(DISTINCT im.immunization_id) AS total_vaccinated,
            count(DISTINCT va.vitamina_id) AS vitamina_given,
            count(DISTINCT d.deworming_id) AS deworming_given
           FROM visits v
             JOIN patients p ON v.patient_id = p.patient_id
             LEFT JOIN immunizations im ON v.visit_id = im.visit_id
             LEFT JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
             LEFT JOIN vitamina va ON v.visit_id = va.visit_id
             LEFT JOIN deworming d ON v.visit_id = d.visit_id
          WHERE v.is_deleted = false AND p.is_deleted = false
          GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text))) main
     LEFT JOIN ( SELECT sub.report_month,
            json_object_agg(sub.antigen_name, sub.antigen_count) AS vaccines_used_by_antigen
           FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
                    vm.antigen_name,
                    count(im.immunization_id) AS antigen_count
                   FROM immunizations im
                     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
                     JOIN visits v ON im.visit_id = v.visit_id
                  WHERE im.is_deleted = false AND vm.is_deleted = false AND v.is_deleted = false
                  GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text)), vm.antigen_name) sub
          GROUP BY sub.report_month) antigens ON main.report_month = antigens.report_month
     LEFT JOIN ( SELECT sub.report_month,
            json_object_agg(sub.brand_name, sub.brand_count) AS vaccines_used_by_brand
           FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
                    vm.brand_name,
                    count(im.immunization_id) AS brand_count
                   FROM immunizations im
                     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
                     JOIN visits v ON im.visit_id = v.visit_id
                  WHERE im.is_deleted = false AND vm.is_deleted = false AND v.is_deleted = false
                  GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text)), vm.brand_name) sub
          GROUP BY sub.report_month) brands ON main.report_month = brands.report_month; |
| public | monthlyreports_view      | 7       | deworming_given          | bigint                      |  SELECT main.report_month,
    main.total_patients_seen,
    main.male_vaccinated,
    main.female_vaccinated,
    main.total_vaccinated,
    main.vitamina_given,
    main.deworming_given,
    antigens.vaccines_used_by_antigen,
    brands.vaccines_used_by_brand
   FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
            count(DISTINCT v.patient_id) AS total_patients_seen,
            count(DISTINCT
                CASE
                    WHEN p.sex::text = 'Male'::text THEN im.immunization_id
                    ELSE NULL::bigint
                END) AS male_vaccinated,
            count(DISTINCT
                CASE
                    WHEN p.sex::text = 'Female'::text THEN im.immunization_id
                    ELSE NULL::bigint
                END) AS female_vaccinated,
            count(DISTINCT im.immunization_id) AS total_vaccinated,
            count(DISTINCT va.vitamina_id) AS vitamina_given,
            count(DISTINCT d.deworming_id) AS deworming_given
           FROM visits v
             JOIN patients p ON v.patient_id = p.patient_id
             LEFT JOIN immunizations im ON v.visit_id = im.visit_id
             LEFT JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
             LEFT JOIN vitamina va ON v.visit_id = va.visit_id
             LEFT JOIN deworming d ON v.visit_id = d.visit_id
          WHERE v.is_deleted = false AND p.is_deleted = false
          GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text))) main
     LEFT JOIN ( SELECT sub.report_month,
            json_object_agg(sub.antigen_name, sub.antigen_count) AS vaccines_used_by_antigen
           FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
                    vm.antigen_name,
                    count(im.immunization_id) AS antigen_count
                   FROM immunizations im
                     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
                     JOIN visits v ON im.visit_id = v.visit_id
                  WHERE im.is_deleted = false AND vm.is_deleted = false AND v.is_deleted = false
                  GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text)), vm.antigen_name) sub
          GROUP BY sub.report_month) antigens ON main.report_month = antigens.report_month
     LEFT JOIN ( SELECT sub.report_month,
            json_object_agg(sub.brand_name, sub.brand_count) AS vaccines_used_by_brand
           FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
                    vm.brand_name,
                    count(im.immunization_id) AS brand_count
                   FROM immunizations im
                     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
                     JOIN visits v ON im.visit_id = v.visit_id
                  WHERE im.is_deleted = false AND vm.is_deleted = false AND v.is_deleted = false
                  GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text)), vm.brand_name) sub
          GROUP BY sub.report_month) brands ON main.report_month = brands.report_month; |
| public | monthlyreports_view      | 8       | vaccines_used_by_antigen | json                        |  SELECT main.report_month,
    main.total_patients_seen,
    main.male_vaccinated,
    main.female_vaccinated,
    main.total_vaccinated,
    main.vitamina_given,
    main.deworming_given,
    antigens.vaccines_used_by_antigen,
    brands.vaccines_used_by_brand
   FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
            count(DISTINCT v.patient_id) AS total_patients_seen,
            count(DISTINCT
                CASE
                    WHEN p.sex::text = 'Male'::text THEN im.immunization_id
                    ELSE NULL::bigint
                END) AS male_vaccinated,
            count(DISTINCT
                CASE
                    WHEN p.sex::text = 'Female'::text THEN im.immunization_id
                    ELSE NULL::bigint
                END) AS female_vaccinated,
            count(DISTINCT im.immunization_id) AS total_vaccinated,
            count(DISTINCT va.vitamina_id) AS vitamina_given,
            count(DISTINCT d.deworming_id) AS deworming_given
           FROM visits v
             JOIN patients p ON v.patient_id = p.patient_id
             LEFT JOIN immunizations im ON v.visit_id = im.visit_id
             LEFT JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
             LEFT JOIN vitamina va ON v.visit_id = va.visit_id
             LEFT JOIN deworming d ON v.visit_id = d.visit_id
          WHERE v.is_deleted = false AND p.is_deleted = false
          GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text))) main
     LEFT JOIN ( SELECT sub.report_month,
            json_object_agg(sub.antigen_name, sub.antigen_count) AS vaccines_used_by_antigen
           FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
                    vm.antigen_name,
                    count(im.immunization_id) AS antigen_count
                   FROM immunizations im
                     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
                     JOIN visits v ON im.visit_id = v.visit_id
                  WHERE im.is_deleted = false AND vm.is_deleted = false AND v.is_deleted = false
                  GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text)), vm.antigen_name) sub
          GROUP BY sub.report_month) antigens ON main.report_month = antigens.report_month
     LEFT JOIN ( SELECT sub.report_month,
            json_object_agg(sub.brand_name, sub.brand_count) AS vaccines_used_by_brand
           FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
                    vm.brand_name,
                    count(im.immunization_id) AS brand_count
                   FROM immunizations im
                     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
                     JOIN visits v ON im.visit_id = v.visit_id
                  WHERE im.is_deleted = false AND vm.is_deleted = false AND v.is_deleted = false
                  GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text)), vm.brand_name) sub
          GROUP BY sub.report_month) brands ON main.report_month = brands.report_month; |
| public | monthlyreports_view      | 9       | vaccines_used_by_brand   | json                        |  SELECT main.report_month,
    main.total_patients_seen,
    main.male_vaccinated,
    main.female_vaccinated,
    main.total_vaccinated,
    main.vitamina_given,
    main.deworming_given,
    antigens.vaccines_used_by_antigen,
    brands.vaccines_used_by_brand
   FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
            count(DISTINCT v.patient_id) AS total_patients_seen,
            count(DISTINCT
                CASE
                    WHEN p.sex::text = 'Male'::text THEN im.immunization_id
                    ELSE NULL::bigint
                END) AS male_vaccinated,
            count(DISTINCT
                CASE
                    WHEN p.sex::text = 'Female'::text THEN im.immunization_id
                    ELSE NULL::bigint
                END) AS female_vaccinated,
            count(DISTINCT im.immunization_id) AS total_vaccinated,
            count(DISTINCT va.vitamina_id) AS vitamina_given,
            count(DISTINCT d.deworming_id) AS deworming_given
           FROM visits v
             JOIN patients p ON v.patient_id = p.patient_id
             LEFT JOIN immunizations im ON v.visit_id = im.visit_id
             LEFT JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
             LEFT JOIN vitamina va ON v.visit_id = va.visit_id
             LEFT JOIN deworming d ON v.visit_id = d.visit_id
          WHERE v.is_deleted = false AND p.is_deleted = false
          GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text))) main
     LEFT JOIN ( SELECT sub.report_month,
            json_object_agg(sub.antigen_name, sub.antigen_count) AS vaccines_used_by_antigen
           FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
                    vm.antigen_name,
                    count(im.immunization_id) AS antigen_count
                   FROM immunizations im
                     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
                     JOIN visits v ON im.visit_id = v.visit_id
                  WHERE im.is_deleted = false AND vm.is_deleted = false AND v.is_deleted = false
                  GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text)), vm.antigen_name) sub
          GROUP BY sub.report_month) antigens ON main.report_month = antigens.report_month
     LEFT JOIN ( SELECT sub.report_month,
            json_object_agg(sub.brand_name, sub.brand_count) AS vaccines_used_by_brand
           FROM ( SELECT to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text) AS report_month,
                    vm.brand_name,
                    count(im.immunization_id) AS brand_count
                   FROM immunizations im
                     JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
                     JOIN visits v ON im.visit_id = v.visit_id
                  WHERE im.is_deleted = false AND vm.is_deleted = false AND v.is_deleted = false
                  GROUP BY (to_char(v.visit_date::timestamp with time zone, 'YYYY-MM'::text)), vm.brand_name) sub
          GROUP BY sub.report_month) brands ON main.report_month = brands.report_month; |
| public | notifications_view       | 1       | notification_id          | bigint                      |  SELECT n.notification_id,
    n.channel,
    n.recipient_user_id,
    n.recipient_phone,
    n.recipient_email,
    n.template_code,
    n.message_body,
    n.related_entity_type,
    n.related_entity_id,
    n.scheduled_at,
    n.sent_at,
    n.status,
    n.error_message,
    n.created_by,
    n.created_at,
    n.is_deleted,
    n.deleted_at,
    n.deleted_by,
    (u.firstname::text || ' '::text) || u.surname::text AS recipient_name
   FROM notifications n
     LEFT JOIN users u ON n.recipient_user_id = u.user_id
  WHERE n.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | notifications_view       | 2       | channel                  | character varying           |  SELECT n.notification_id,
    n.channel,
    n.recipient_user_id,
    n.recipient_phone,
    n.recipient_email,
    n.template_code,
    n.message_body,
    n.related_entity_type,
    n.related_entity_id,
    n.scheduled_at,
    n.sent_at,
    n.status,
    n.error_message,
    n.created_by,
    n.created_at,
    n.is_deleted,
    n.deleted_at,
    n.deleted_by,
    (u.firstname::text || ' '::text) || u.surname::text AS recipient_name
   FROM notifications n
     LEFT JOIN users u ON n.recipient_user_id = u.user_id
  WHERE n.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | notifications_view       | 3       | recipient_user_id        | bigint                      |  SELECT n.notification_id,
    n.channel,
    n.recipient_user_id,
    n.recipient_phone,
    n.recipient_email,
    n.template_code,
    n.message_body,
    n.related_entity_type,
    n.related_entity_id,
    n.scheduled_at,
    n.sent_at,
    n.status,
    n.error_message,
    n.created_by,
    n.created_at,
    n.is_deleted,
    n.deleted_at,
    n.deleted_by,
    (u.firstname::text || ' '::text) || u.surname::text AS recipient_name
   FROM notifications n
     LEFT JOIN users u ON n.recipient_user_id = u.user_id
  WHERE n.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | notifications_view       | 4       | recipient_phone          | character varying           |  SELECT n.notification_id,
    n.channel,
    n.recipient_user_id,
    n.recipient_phone,
    n.recipient_email,
    n.template_code,
    n.message_body,
    n.related_entity_type,
    n.related_entity_id,
    n.scheduled_at,
    n.sent_at,
    n.status,
    n.error_message,
    n.created_by,
    n.created_at,
    n.is_deleted,
    n.deleted_at,
    n.deleted_by,
    (u.firstname::text || ' '::text) || u.surname::text AS recipient_name
   FROM notifications n
     LEFT JOIN users u ON n.recipient_user_id = u.user_id
  WHERE n.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | notifications_view       | 5       | recipient_email          | character varying           |  SELECT n.notification_id,
    n.channel,
    n.recipient_user_id,
    n.recipient_phone,
    n.recipient_email,
    n.template_code,
    n.message_body,
    n.related_entity_type,
    n.related_entity_id,
    n.scheduled_at,
    n.sent_at,
    n.status,
    n.error_message,
    n.created_by,
    n.created_at,
    n.is_deleted,
    n.deleted_at,
    n.deleted_by,
    (u.firstname::text || ' '::text) || u.surname::text AS recipient_name
   FROM notifications n
     LEFT JOIN users u ON n.recipient_user_id = u.user_id
  WHERE n.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | notifications_view       | 6       | template_code            | character varying           |  SELECT n.notification_id,
    n.channel,
    n.recipient_user_id,
    n.recipient_phone,
    n.recipient_email,
    n.template_code,
    n.message_body,
    n.related_entity_type,
    n.related_entity_id,
    n.scheduled_at,
    n.sent_at,
    n.status,
    n.error_message,
    n.created_by,
    n.created_at,
    n.is_deleted,
    n.deleted_at,
    n.deleted_by,
    (u.firstname::text || ' '::text) || u.surname::text AS recipient_name
   FROM notifications n
     LEFT JOIN users u ON n.recipient_user_id = u.user_id
  WHERE n.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | notifications_view       | 7       | message_body             | text                        |  SELECT n.notification_id,
    n.channel,
    n.recipient_user_id,
    n.recipient_phone,
    n.recipient_email,
    n.template_code,
    n.message_body,
    n.related_entity_type,
    n.related_entity_id,
    n.scheduled_at,
    n.sent_at,
    n.status,
    n.error_message,
    n.created_by,
    n.created_at,
    n.is_deleted,
    n.deleted_at,
    n.deleted_by,
    (u.firstname::text || ' '::text) || u.surname::text AS recipient_name
   FROM notifications n
     LEFT JOIN users u ON n.recipient_user_id = u.user_id
  WHERE n.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | notifications_view       | 8       | related_entity_type      | character varying           |  SELECT n.notification_id,
    n.channel,
    n.recipient_user_id,
    n.recipient_phone,
    n.recipient_email,
    n.template_code,
    n.message_body,
    n.related_entity_type,
    n.related_entity_id,
    n.scheduled_at,
    n.sent_at,
    n.status,
    n.error_message,
    n.created_by,
    n.created_at,
    n.is_deleted,
    n.deleted_at,
    n.deleted_by,
    (u.firstname::text || ' '::text) || u.surname::text AS recipient_name
   FROM notifications n
     LEFT JOIN users u ON n.recipient_user_id = u.user_id
  WHERE n.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | notifications_view       | 9       | related_entity_id        | bigint                      |  SELECT n.notification_id,
    n.channel,
    n.recipient_user_id,
    n.recipient_phone,
    n.recipient_email,
    n.template_code,
    n.message_body,
    n.related_entity_type,
    n.related_entity_id,
    n.scheduled_at,
    n.sent_at,
    n.status,
    n.error_message,
    n.created_by,
    n.created_at,
    n.is_deleted,
    n.deleted_at,
    n.deleted_by,
    (u.firstname::text || ' '::text) || u.surname::text AS recipient_name
   FROM notifications n
     LEFT JOIN users u ON n.recipient_user_id = u.user_id
  WHERE n.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | notifications_view       | 10      | scheduled_at             | timestamp without time zone |  SELECT n.notification_id,
    n.channel,
    n.recipient_user_id,
    n.recipient_phone,
    n.recipient_email,
    n.template_code,
    n.message_body,
    n.related_entity_type,
    n.related_entity_id,
    n.scheduled_at,
    n.sent_at,
    n.status,
    n.error_message,
    n.created_by,
    n.created_at,
    n.is_deleted,
    n.deleted_at,
    n.deleted_by,
    (u.firstname::text || ' '::text) || u.surname::text AS recipient_name
   FROM notifications n
     LEFT JOIN users u ON n.recipient_user_id = u.user_id
  WHERE n.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | notifications_view       | 11      | sent_at                  | timestamp without time zone |  SELECT n.notification_id,
    n.channel,
    n.recipient_user_id,
    n.recipient_phone,
    n.recipient_email,
    n.template_code,
    n.message_body,
    n.related_entity_type,
    n.related_entity_id,
    n.scheduled_at,
    n.sent_at,
    n.status,
    n.error_message,
    n.created_by,
    n.created_at,
    n.is_deleted,
    n.deleted_at,
    n.deleted_by,
    (u.firstname::text || ' '::text) || u.surname::text AS recipient_name
   FROM notifications n
     LEFT JOIN users u ON n.recipient_user_id = u.user_id
  WHERE n.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | notifications_view       | 12      | status                   | character varying           |  SELECT n.notification_id,
    n.channel,
    n.recipient_user_id,
    n.recipient_phone,
    n.recipient_email,
    n.template_code,
    n.message_body,
    n.related_entity_type,
    n.related_entity_id,
    n.scheduled_at,
    n.sent_at,
    n.status,
    n.error_message,
    n.created_by,
    n.created_at,
    n.is_deleted,
    n.deleted_at,
    n.deleted_by,
    (u.firstname::text || ' '::text) || u.surname::text AS recipient_name
   FROM notifications n
     LEFT JOIN users u ON n.recipient_user_id = u.user_id
  WHERE n.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | notifications_view       | 13      | error_message            | text                        |  SELECT n.notification_id,
    n.channel,
    n.recipient_user_id,
    n.recipient_phone,
    n.recipient_email,
    n.template_code,
    n.message_body,
    n.related_entity_type,
    n.related_entity_id,
    n.scheduled_at,
    n.sent_at,
    n.status,
    n.error_message,
    n.created_by,
    n.created_at,
    n.is_deleted,
    n.deleted_at,
    n.deleted_by,
    (u.firstname::text || ' '::text) || u.surname::text AS recipient_name
   FROM notifications n
     LEFT JOIN users u ON n.recipient_user_id = u.user_id
  WHERE n.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | notifications_view       | 14      | created_by               | bigint                      |  SELECT n.notification_id,
    n.channel,
    n.recipient_user_id,
    n.recipient_phone,
    n.recipient_email,
    n.template_code,
    n.message_body,
    n.related_entity_type,
    n.related_entity_id,
    n.scheduled_at,
    n.sent_at,
    n.status,
    n.error_message,
    n.created_by,
    n.created_at,
    n.is_deleted,
    n.deleted_at,
    n.deleted_by,
    (u.firstname::text || ' '::text) || u.surname::text AS recipient_name
   FROM notifications n
     LEFT JOIN users u ON n.recipient_user_id = u.user_id
  WHERE n.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | notifications_view       | 15      | created_at               | timestamp without time zone |  SELECT n.notification_id,
    n.channel,
    n.recipient_user_id,
    n.recipient_phone,
    n.recipient_email,
    n.template_code,
    n.message_body,
    n.related_entity_type,
    n.related_entity_id,
    n.scheduled_at,
    n.sent_at,
    n.status,
    n.error_message,
    n.created_by,
    n.created_at,
    n.is_deleted,
    n.deleted_at,
    n.deleted_by,
    (u.firstname::text || ' '::text) || u.surname::text AS recipient_name
   FROM notifications n
     LEFT JOIN users u ON n.recipient_user_id = u.user_id
  WHERE n.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | notifications_view       | 16      | is_deleted               | boolean                     |  SELECT n.notification_id,
    n.channel,
    n.recipient_user_id,
    n.recipient_phone,
    n.recipient_email,
    n.template_code,
    n.message_body,
    n.related_entity_type,
    n.related_entity_id,
    n.scheduled_at,
    n.sent_at,
    n.status,
    n.error_message,
    n.created_by,
    n.created_at,
    n.is_deleted,
    n.deleted_at,
    n.deleted_by,
    (u.firstname::text || ' '::text) || u.surname::text AS recipient_name
   FROM notifications n
     LEFT JOIN users u ON n.recipient_user_id = u.user_id
  WHERE n.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | notifications_view       | 17      | deleted_at               | timestamp without time zone |  SELECT n.notification_id,
    n.channel,
    n.recipient_user_id,
    n.recipient_phone,
    n.recipient_email,
    n.template_code,
    n.message_body,
    n.related_entity_type,
    n.related_entity_id,
    n.scheduled_at,
    n.sent_at,
    n.status,
    n.error_message,
    n.created_by,
    n.created_at,
    n.is_deleted,
    n.deleted_at,
    n.deleted_by,
    (u.firstname::text || ' '::text) || u.surname::text AS recipient_name
   FROM notifications n
     LEFT JOIN users u ON n.recipient_user_id = u.user_id
  WHERE n.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | notifications_view       | 18      | deleted_by               | bigint                      |  SELECT n.notification_id,
    n.channel,
    n.recipient_user_id,
    n.recipient_phone,
    n.recipient_email,
    n.template_code,
    n.message_body,
    n.related_entity_type,
    n.related_entity_id,
    n.scheduled_at,
    n.sent_at,
    n.status,
    n.error_message,
    n.created_by,
    n.created_at,
    n.is_deleted,
    n.deleted_at,
    n.deleted_by,
    (u.firstname::text || ' '::text) || u.surname::text AS recipient_name
   FROM notifications n
     LEFT JOIN users u ON n.recipient_user_id = u.user_id
  WHERE n.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | notifications_view       | 19      | recipient_name           | text                        |  SELECT n.notification_id,
    n.channel,
    n.recipient_user_id,
    n.recipient_phone,
    n.recipient_email,
    n.template_code,
    n.message_body,
    n.related_entity_type,
    n.related_entity_id,
    n.scheduled_at,
    n.sent_at,
    n.status,
    n.error_message,
    n.created_by,
    n.created_at,
    n.is_deleted,
    n.deleted_at,
    n.deleted_by,
    (u.firstname::text || ' '::text) || u.surname::text AS recipient_name
   FROM notifications n
     LEFT JOIN users u ON n.recipient_user_id = u.user_id
  WHERE n.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | patients_view            | 1       | patient_id               | bigint                      |  SELECT patient_id,
    firstname,
    middlename,
    surname,
    concat_ws(' '::text, firstname, middlename, surname) AS patient_name,
    date_of_birth,
    sex,
    (date_part('year'::text, age(date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - date_of_birth AS age_days,
    created_at,
    updated_at,
    created_by,
    updated_by,
    is_deleted,
    deleted_at,
    deleted_by
   FROM patients p;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| public | patients_view            | 2       | firstname                | character varying           |  SELECT patient_id,
    firstname,
    middlename,
    surname,
    concat_ws(' '::text, firstname, middlename, surname) AS patient_name,
    date_of_birth,
    sex,
    (date_part('year'::text, age(date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - date_of_birth AS age_days,
    created_at,
    updated_at,
    created_by,
    updated_by,
    is_deleted,
    deleted_at,
    deleted_by
   FROM patients p;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| public | patients_view            | 3       | middlename               | character varying           |  SELECT patient_id,
    firstname,
    middlename,
    surname,
    concat_ws(' '::text, firstname, middlename, surname) AS patient_name,
    date_of_birth,
    sex,
    (date_part('year'::text, age(date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - date_of_birth AS age_days,
    created_at,
    updated_at,
    created_by,
    updated_by,
    is_deleted,
    deleted_at,
    deleted_by
   FROM patients p;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| public | patients_view            | 4       | surname                  | character varying           |  SELECT patient_id,
    firstname,
    middlename,
    surname,
    concat_ws(' '::text, firstname, middlename, surname) AS patient_name,
    date_of_birth,
    sex,
    (date_part('year'::text, age(date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - date_of_birth AS age_days,
    created_at,
    updated_at,
    created_by,
    updated_by,
    is_deleted,
    deleted_at,
    deleted_by
   FROM patients p;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| public | patients_view            | 5       | patient_name             | text                        |  SELECT patient_id,
    firstname,
    middlename,
    surname,
    concat_ws(' '::text, firstname, middlename, surname) AS patient_name,
    date_of_birth,
    sex,
    (date_part('year'::text, age(date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - date_of_birth AS age_days,
    created_at,
    updated_at,
    created_by,
    updated_by,
    is_deleted,
    deleted_at,
    deleted_by
   FROM patients p;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| public | patients_view            | 6       | date_of_birth            | date                        |  SELECT patient_id,
    firstname,
    middlename,
    surname,
    concat_ws(' '::text, firstname, middlename, surname) AS patient_name,
    date_of_birth,
    sex,
    (date_part('year'::text, age(date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - date_of_birth AS age_days,
    created_at,
    updated_at,
    created_by,
    updated_by,
    is_deleted,
    deleted_at,
    deleted_by
   FROM patients p;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| public | patients_view            | 7       | sex                      | character varying           |  SELECT patient_id,
    firstname,
    middlename,
    surname,
    concat_ws(' '::text, firstname, middlename, surname) AS patient_name,
    date_of_birth,
    sex,
    (date_part('year'::text, age(date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - date_of_birth AS age_days,
    created_at,
    updated_at,
    created_by,
    updated_by,
    is_deleted,
    deleted_at,
    deleted_by
   FROM patients p;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| public | patients_view            | 8       | age_months               | integer                     |  SELECT patient_id,
    firstname,
    middlename,
    surname,
    concat_ws(' '::text, firstname, middlename, surname) AS patient_name,
    date_of_birth,
    sex,
    (date_part('year'::text, age(date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - date_of_birth AS age_days,
    created_at,
    updated_at,
    created_by,
    updated_by,
    is_deleted,
    deleted_at,
    deleted_by
   FROM patients p;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| public | patients_view            | 9       | age_days                 | integer                     |  SELECT patient_id,
    firstname,
    middlename,
    surname,
    concat_ws(' '::text, firstname, middlename, surname) AS patient_name,
    date_of_birth,
    sex,
    (date_part('year'::text, age(date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - date_of_birth AS age_days,
    created_at,
    updated_at,
    created_by,
    updated_by,
    is_deleted,
    deleted_at,
    deleted_by
   FROM patients p;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| public | patients_view            | 10      | created_at               | timestamp with time zone    |  SELECT patient_id,
    firstname,
    middlename,
    surname,
    concat_ws(' '::text, firstname, middlename, surname) AS patient_name,
    date_of_birth,
    sex,
    (date_part('year'::text, age(date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - date_of_birth AS age_days,
    created_at,
    updated_at,
    created_by,
    updated_by,
    is_deleted,
    deleted_at,
    deleted_by
   FROM patients p;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| public | patients_view            | 11      | updated_at               | timestamp with time zone    |  SELECT patient_id,
    firstname,
    middlename,
    surname,
    concat_ws(' '::text, firstname, middlename, surname) AS patient_name,
    date_of_birth,
    sex,
    (date_part('year'::text, age(date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - date_of_birth AS age_days,
    created_at,
    updated_at,
    created_by,
    updated_by,
    is_deleted,
    deleted_at,
    deleted_by
   FROM patients p;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| public | patients_view            | 12      | created_by               | bigint                      |  SELECT patient_id,
    firstname,
    middlename,
    surname,
    concat_ws(' '::text, firstname, middlename, surname) AS patient_name,
    date_of_birth,
    sex,
    (date_part('year'::text, age(date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - date_of_birth AS age_days,
    created_at,
    updated_at,
    created_by,
    updated_by,
    is_deleted,
    deleted_at,
    deleted_by
   FROM patients p;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| public | patients_view            | 13      | updated_by               | bigint                      |  SELECT patient_id,
    firstname,
    middlename,
    surname,
    concat_ws(' '::text, firstname, middlename, surname) AS patient_name,
    date_of_birth,
    sex,
    (date_part('year'::text, age(date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - date_of_birth AS age_days,
    created_at,
    updated_at,
    created_by,
    updated_by,
    is_deleted,
    deleted_at,
    deleted_by
   FROM patients p;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| public | patients_view            | 14      | is_deleted               | boolean                     |  SELECT patient_id,
    firstname,
    middlename,
    surname,
    concat_ws(' '::text, firstname, middlename, surname) AS patient_name,
    date_of_birth,
    sex,
    (date_part('year'::text, age(date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - date_of_birth AS age_days,
    created_at,
    updated_at,
    created_by,
    updated_by,
    is_deleted,
    deleted_at,
    deleted_by
   FROM patients p;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| public | patients_view            | 15      | deleted_at               | timestamp without time zone |  SELECT patient_id,
    firstname,
    middlename,
    surname,
    concat_ws(' '::text, firstname, middlename, surname) AS patient_name,
    date_of_birth,
    sex,
    (date_part('year'::text, age(date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - date_of_birth AS age_days,
    created_at,
    updated_at,
    created_by,
    updated_by,
    is_deleted,
    deleted_at,
    deleted_by
   FROM patients p;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| public | patients_view            | 16      | deleted_by               | bigint                      |  SELECT patient_id,
    firstname,
    middlename,
    surname,
    concat_ws(' '::text, firstname, middlename, surname) AS patient_name,
    date_of_birth,
    sex,
    (date_part('year'::text, age(date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - date_of_birth AS age_days,
    created_at,
    updated_at,
    created_by,
    updated_by,
    is_deleted,
    deleted_at,
    deleted_by
   FROM patients p;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| public | patientschedule_view     | 1       | patientschedule_id       | bigint                      |  SELECT ps.patient_schedule_id AS patientschedule_id,
    ps.patient_id,
    concat_ws(' '::text, p.firstname, p.middlename, p.surname) AS patient_name,
    ps.vaccine_id,
    vm.antigen_name,
    ps.dose_number,
    ps.scheduled_date,
    ps.eligible_date,
    ps.actual_date,
    ps.status,
        CASE
            WHEN (ps.status::text = ANY (ARRAY['Scheduled'::character varying, 'Due'::character varying, 'Overdue'::character varying]::text[])) AND ps.actual_date IS NULL AND ps.scheduled_date < CURRENT_DATE THEN CURRENT_DATE - ps.scheduled_date
            ELSE 0
        END AS days_overdue,
    ps.created_at,
    ps.updated_at,
    ps.created_by,
    ps.updated_by
   FROM patientschedule ps
     JOIN patients p ON p.patient_id = ps.patient_id
     JOIN vaccinemaster vm ON vm.vaccine_id = ps.vaccine_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| public | patientschedule_view     | 2       | patient_id               | bigint                      |  SELECT ps.patient_schedule_id AS patientschedule_id,
    ps.patient_id,
    concat_ws(' '::text, p.firstname, p.middlename, p.surname) AS patient_name,
    ps.vaccine_id,
    vm.antigen_name,
    ps.dose_number,
    ps.scheduled_date,
    ps.eligible_date,
    ps.actual_date,
    ps.status,
        CASE
            WHEN (ps.status::text = ANY (ARRAY['Scheduled'::character varying, 'Due'::character varying, 'Overdue'::character varying]::text[])) AND ps.actual_date IS NULL AND ps.scheduled_date < CURRENT_DATE THEN CURRENT_DATE - ps.scheduled_date
            ELSE 0
        END AS days_overdue,
    ps.created_at,
    ps.updated_at,
    ps.created_by,
    ps.updated_by
   FROM patientschedule ps
     JOIN patients p ON p.patient_id = ps.patient_id
     JOIN vaccinemaster vm ON vm.vaccine_id = ps.vaccine_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| public | patientschedule_view     | 3       | patient_name             | text                        |  SELECT ps.patient_schedule_id AS patientschedule_id,
    ps.patient_id,
    concat_ws(' '::text, p.firstname, p.middlename, p.surname) AS patient_name,
    ps.vaccine_id,
    vm.antigen_name,
    ps.dose_number,
    ps.scheduled_date,
    ps.eligible_date,
    ps.actual_date,
    ps.status,
        CASE
            WHEN (ps.status::text = ANY (ARRAY['Scheduled'::character varying, 'Due'::character varying, 'Overdue'::character varying]::text[])) AND ps.actual_date IS NULL AND ps.scheduled_date < CURRENT_DATE THEN CURRENT_DATE - ps.scheduled_date
            ELSE 0
        END AS days_overdue,
    ps.created_at,
    ps.updated_at,
    ps.created_by,
    ps.updated_by
   FROM patientschedule ps
     JOIN patients p ON p.patient_id = ps.patient_id
     JOIN vaccinemaster vm ON vm.vaccine_id = ps.vaccine_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| public | patientschedule_view     | 4       | vaccine_id               | bigint                      |  SELECT ps.patient_schedule_id AS patientschedule_id,
    ps.patient_id,
    concat_ws(' '::text, p.firstname, p.middlename, p.surname) AS patient_name,
    ps.vaccine_id,
    vm.antigen_name,
    ps.dose_number,
    ps.scheduled_date,
    ps.eligible_date,
    ps.actual_date,
    ps.status,
        CASE
            WHEN (ps.status::text = ANY (ARRAY['Scheduled'::character varying, 'Due'::character varying, 'Overdue'::character varying]::text[])) AND ps.actual_date IS NULL AND ps.scheduled_date < CURRENT_DATE THEN CURRENT_DATE - ps.scheduled_date
            ELSE 0
        END AS days_overdue,
    ps.created_at,
    ps.updated_at,
    ps.created_by,
    ps.updated_by
   FROM patientschedule ps
     JOIN patients p ON p.patient_id = ps.patient_id
     JOIN vaccinemaster vm ON vm.vaccine_id = ps.vaccine_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| public | patientschedule_view     | 5       | antigen_name             | character varying           |  SELECT ps.patient_schedule_id AS patientschedule_id,
    ps.patient_id,
    concat_ws(' '::text, p.firstname, p.middlename, p.surname) AS patient_name,
    ps.vaccine_id,
    vm.antigen_name,
    ps.dose_number,
    ps.scheduled_date,
    ps.eligible_date,
    ps.actual_date,
    ps.status,
        CASE
            WHEN (ps.status::text = ANY (ARRAY['Scheduled'::character varying, 'Due'::character varying, 'Overdue'::character varying]::text[])) AND ps.actual_date IS NULL AND ps.scheduled_date < CURRENT_DATE THEN CURRENT_DATE - ps.scheduled_date
            ELSE 0
        END AS days_overdue,
    ps.created_at,
    ps.updated_at,
    ps.created_by,
    ps.updated_by
   FROM patientschedule ps
     JOIN patients p ON p.patient_id = ps.patient_id
     JOIN vaccinemaster vm ON vm.vaccine_id = ps.vaccine_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| public | patientschedule_view     | 6       | dose_number              | integer                     |  SELECT ps.patient_schedule_id AS patientschedule_id,
    ps.patient_id,
    concat_ws(' '::text, p.firstname, p.middlename, p.surname) AS patient_name,
    ps.vaccine_id,
    vm.antigen_name,
    ps.dose_number,
    ps.scheduled_date,
    ps.eligible_date,
    ps.actual_date,
    ps.status,
        CASE
            WHEN (ps.status::text = ANY (ARRAY['Scheduled'::character varying, 'Due'::character varying, 'Overdue'::character varying]::text[])) AND ps.actual_date IS NULL AND ps.scheduled_date < CURRENT_DATE THEN CURRENT_DATE - ps.scheduled_date
            ELSE 0
        END AS days_overdue,
    ps.created_at,
    ps.updated_at,
    ps.created_by,
    ps.updated_by
   FROM patientschedule ps
     JOIN patients p ON p.patient_id = ps.patient_id
     JOIN vaccinemaster vm ON vm.vaccine_id = ps.vaccine_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| public | patientschedule_view     | 7       | scheduled_date           | date                        |  SELECT ps.patient_schedule_id AS patientschedule_id,
    ps.patient_id,
    concat_ws(' '::text, p.firstname, p.middlename, p.surname) AS patient_name,
    ps.vaccine_id,
    vm.antigen_name,
    ps.dose_number,
    ps.scheduled_date,
    ps.eligible_date,
    ps.actual_date,
    ps.status,
        CASE
            WHEN (ps.status::text = ANY (ARRAY['Scheduled'::character varying, 'Due'::character varying, 'Overdue'::character varying]::text[])) AND ps.actual_date IS NULL AND ps.scheduled_date < CURRENT_DATE THEN CURRENT_DATE - ps.scheduled_date
            ELSE 0
        END AS days_overdue,
    ps.created_at,
    ps.updated_at,
    ps.created_by,
    ps.updated_by
   FROM patientschedule ps
     JOIN patients p ON p.patient_id = ps.patient_id
     JOIN vaccinemaster vm ON vm.vaccine_id = ps.vaccine_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| public | patientschedule_view     | 8       | eligible_date            | date                        |  SELECT ps.patient_schedule_id AS patientschedule_id,
    ps.patient_id,
    concat_ws(' '::text, p.firstname, p.middlename, p.surname) AS patient_name,
    ps.vaccine_id,
    vm.antigen_name,
    ps.dose_number,
    ps.scheduled_date,
    ps.eligible_date,
    ps.actual_date,
    ps.status,
        CASE
            WHEN (ps.status::text = ANY (ARRAY['Scheduled'::character varying, 'Due'::character varying, 'Overdue'::character varying]::text[])) AND ps.actual_date IS NULL AND ps.scheduled_date < CURRENT_DATE THEN CURRENT_DATE - ps.scheduled_date
            ELSE 0
        END AS days_overdue,
    ps.created_at,
    ps.updated_at,
    ps.created_by,
    ps.updated_by
   FROM patientschedule ps
     JOIN patients p ON p.patient_id = ps.patient_id
     JOIN vaccinemaster vm ON vm.vaccine_id = ps.vaccine_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| public | patientschedule_view     | 9       | actual_date              | date                        |  SELECT ps.patient_schedule_id AS patientschedule_id,
    ps.patient_id,
    concat_ws(' '::text, p.firstname, p.middlename, p.surname) AS patient_name,
    ps.vaccine_id,
    vm.antigen_name,
    ps.dose_number,
    ps.scheduled_date,
    ps.eligible_date,
    ps.actual_date,
    ps.status,
        CASE
            WHEN (ps.status::text = ANY (ARRAY['Scheduled'::character varying, 'Due'::character varying, 'Overdue'::character varying]::text[])) AND ps.actual_date IS NULL AND ps.scheduled_date < CURRENT_DATE THEN CURRENT_DATE - ps.scheduled_date
            ELSE 0
        END AS days_overdue,
    ps.created_at,
    ps.updated_at,
    ps.created_by,
    ps.updated_by
   FROM patientschedule ps
     JOIN patients p ON p.patient_id = ps.patient_id
     JOIN vaccinemaster vm ON vm.vaccine_id = ps.vaccine_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| public | patientschedule_view     | 10      | status                   | character varying           |  SELECT ps.patient_schedule_id AS patientschedule_id,
    ps.patient_id,
    concat_ws(' '::text, p.firstname, p.middlename, p.surname) AS patient_name,
    ps.vaccine_id,
    vm.antigen_name,
    ps.dose_number,
    ps.scheduled_date,
    ps.eligible_date,
    ps.actual_date,
    ps.status,
        CASE
            WHEN (ps.status::text = ANY (ARRAY['Scheduled'::character varying, 'Due'::character varying, 'Overdue'::character varying]::text[])) AND ps.actual_date IS NULL AND ps.scheduled_date < CURRENT_DATE THEN CURRENT_DATE - ps.scheduled_date
            ELSE 0
        END AS days_overdue,
    ps.created_at,
    ps.updated_at,
    ps.created_by,
    ps.updated_by
   FROM patientschedule ps
     JOIN patients p ON p.patient_id = ps.patient_id
     JOIN vaccinemaster vm ON vm.vaccine_id = ps.vaccine_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| public | patientschedule_view     | 11      | days_overdue             | integer                     |  SELECT ps.patient_schedule_id AS patientschedule_id,
    ps.patient_id,
    concat_ws(' '::text, p.firstname, p.middlename, p.surname) AS patient_name,
    ps.vaccine_id,
    vm.antigen_name,
    ps.dose_number,
    ps.scheduled_date,
    ps.eligible_date,
    ps.actual_date,
    ps.status,
        CASE
            WHEN (ps.status::text = ANY (ARRAY['Scheduled'::character varying, 'Due'::character varying, 'Overdue'::character varying]::text[])) AND ps.actual_date IS NULL AND ps.scheduled_date < CURRENT_DATE THEN CURRENT_DATE - ps.scheduled_date
            ELSE 0
        END AS days_overdue,
    ps.created_at,
    ps.updated_at,
    ps.created_by,
    ps.updated_by
   FROM patientschedule ps
     JOIN patients p ON p.patient_id = ps.patient_id
     JOIN vaccinemaster vm ON vm.vaccine_id = ps.vaccine_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| public | patientschedule_view     | 12      | created_at               | timestamp with time zone    |  SELECT ps.patient_schedule_id AS patientschedule_id,
    ps.patient_id,
    concat_ws(' '::text, p.firstname, p.middlename, p.surname) AS patient_name,
    ps.vaccine_id,
    vm.antigen_name,
    ps.dose_number,
    ps.scheduled_date,
    ps.eligible_date,
    ps.actual_date,
    ps.status,
        CASE
            WHEN (ps.status::text = ANY (ARRAY['Scheduled'::character varying, 'Due'::character varying, 'Overdue'::character varying]::text[])) AND ps.actual_date IS NULL AND ps.scheduled_date < CURRENT_DATE THEN CURRENT_DATE - ps.scheduled_date
            ELSE 0
        END AS days_overdue,
    ps.created_at,
    ps.updated_at,
    ps.created_by,
    ps.updated_by
   FROM patientschedule ps
     JOIN patients p ON p.patient_id = ps.patient_id
     JOIN vaccinemaster vm ON vm.vaccine_id = ps.vaccine_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| public | patientschedule_view     | 13      | updated_at               | timestamp without time zone |  SELECT ps.patient_schedule_id AS patientschedule_id,
    ps.patient_id,
    concat_ws(' '::text, p.firstname, p.middlename, p.surname) AS patient_name,
    ps.vaccine_id,
    vm.antigen_name,
    ps.dose_number,
    ps.scheduled_date,
    ps.eligible_date,
    ps.actual_date,
    ps.status,
        CASE
            WHEN (ps.status::text = ANY (ARRAY['Scheduled'::character varying, 'Due'::character varying, 'Overdue'::character varying]::text[])) AND ps.actual_date IS NULL AND ps.scheduled_date < CURRENT_DATE THEN CURRENT_DATE - ps.scheduled_date
            ELSE 0
        END AS days_overdue,
    ps.created_at,
    ps.updated_at,
    ps.created_by,
    ps.updated_by
   FROM patientschedule ps
     JOIN patients p ON p.patient_id = ps.patient_id
     JOIN vaccinemaster vm ON vm.vaccine_id = ps.vaccine_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| public | patientschedule_view     | 14      | created_by               | bigint                      |  SELECT ps.patient_schedule_id AS patientschedule_id,
    ps.patient_id,
    concat_ws(' '::text, p.firstname, p.middlename, p.surname) AS patient_name,
    ps.vaccine_id,
    vm.antigen_name,
    ps.dose_number,
    ps.scheduled_date,
    ps.eligible_date,
    ps.actual_date,
    ps.status,
        CASE
            WHEN (ps.status::text = ANY (ARRAY['Scheduled'::character varying, 'Due'::character varying, 'Overdue'::character varying]::text[])) AND ps.actual_date IS NULL AND ps.scheduled_date < CURRENT_DATE THEN CURRENT_DATE - ps.scheduled_date
            ELSE 0
        END AS days_overdue,
    ps.created_at,
    ps.updated_at,
    ps.created_by,
    ps.updated_by
   FROM patientschedule ps
     JOIN patients p ON p.patient_id = ps.patient_id
     JOIN vaccinemaster vm ON vm.vaccine_id = ps.vaccine_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| public | patientschedule_view     | 15      | updated_by               | bigint                      |  SELECT ps.patient_schedule_id AS patientschedule_id,
    ps.patient_id,
    concat_ws(' '::text, p.firstname, p.middlename, p.surname) AS patient_name,
    ps.vaccine_id,
    vm.antigen_name,
    ps.dose_number,
    ps.scheduled_date,
    ps.eligible_date,
    ps.actual_date,
    ps.status,
        CASE
            WHEN (ps.status::text = ANY (ARRAY['Scheduled'::character varying, 'Due'::character varying, 'Overdue'::character varying]::text[])) AND ps.actual_date IS NULL AND ps.scheduled_date < CURRENT_DATE THEN CURRENT_DATE - ps.scheduled_date
            ELSE 0
        END AS days_overdue,
    ps.created_at,
    ps.updated_at,
    ps.created_by,
    ps.updated_by
   FROM patientschedule ps
     JOIN patients p ON p.patient_id = ps.patient_id
     JOIN vaccinemaster vm ON vm.vaccine_id = ps.vaccine_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| public | tcl_view                 | 1       | patient_id               | bigint                      |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    p.sex,
    p.date_of_birth,
    (date_part('year'::text, age(p.date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(p.date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - p.date_of_birth AS age_days,
    p.barangay,
    p.health_center,
    concat(g.surname, ', ', g.firstname) AS guardian_name,
    g.contact_number AS guardian_contact,
    ( SELECT max(v.visit_date) AS max
           FROM visits v
          WHERE v.patient_id = p.patient_id AND v.is_deleted = false) AS latest_visit_date,
    ( SELECT json_agg(json_build_object('antigen', vm.antigen_name, 'dose', ps.dose_number, 'status', ps.status, 'actual_date', ps.actual_date)) AS json_agg
           FROM patientschedule ps
             JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
          WHERE ps.patient_id = p.patient_id AND ps.is_deleted = false) AS immunization_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN va.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM vitamina va
             JOIN visits v ON va.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS vitamina_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN d.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM deworming d
             JOIN visits v ON d.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS deworming_status,
    p.tags
   FROM patients p
     JOIN guardians g ON p.guardian_id = g.guardian_id
  WHERE p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | tcl_view                 | 2       | patient_name             | text                        |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    p.sex,
    p.date_of_birth,
    (date_part('year'::text, age(p.date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(p.date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - p.date_of_birth AS age_days,
    p.barangay,
    p.health_center,
    concat(g.surname, ', ', g.firstname) AS guardian_name,
    g.contact_number AS guardian_contact,
    ( SELECT max(v.visit_date) AS max
           FROM visits v
          WHERE v.patient_id = p.patient_id AND v.is_deleted = false) AS latest_visit_date,
    ( SELECT json_agg(json_build_object('antigen', vm.antigen_name, 'dose', ps.dose_number, 'status', ps.status, 'actual_date', ps.actual_date)) AS json_agg
           FROM patientschedule ps
             JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
          WHERE ps.patient_id = p.patient_id AND ps.is_deleted = false) AS immunization_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN va.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM vitamina va
             JOIN visits v ON va.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS vitamina_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN d.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM deworming d
             JOIN visits v ON d.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS deworming_status,
    p.tags
   FROM patients p
     JOIN guardians g ON p.guardian_id = g.guardian_id
  WHERE p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | tcl_view                 | 3       | sex                      | character varying           |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    p.sex,
    p.date_of_birth,
    (date_part('year'::text, age(p.date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(p.date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - p.date_of_birth AS age_days,
    p.barangay,
    p.health_center,
    concat(g.surname, ', ', g.firstname) AS guardian_name,
    g.contact_number AS guardian_contact,
    ( SELECT max(v.visit_date) AS max
           FROM visits v
          WHERE v.patient_id = p.patient_id AND v.is_deleted = false) AS latest_visit_date,
    ( SELECT json_agg(json_build_object('antigen', vm.antigen_name, 'dose', ps.dose_number, 'status', ps.status, 'actual_date', ps.actual_date)) AS json_agg
           FROM patientschedule ps
             JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
          WHERE ps.patient_id = p.patient_id AND ps.is_deleted = false) AS immunization_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN va.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM vitamina va
             JOIN visits v ON va.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS vitamina_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN d.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM deworming d
             JOIN visits v ON d.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS deworming_status,
    p.tags
   FROM patients p
     JOIN guardians g ON p.guardian_id = g.guardian_id
  WHERE p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | tcl_view                 | 4       | date_of_birth            | date                        |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    p.sex,
    p.date_of_birth,
    (date_part('year'::text, age(p.date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(p.date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - p.date_of_birth AS age_days,
    p.barangay,
    p.health_center,
    concat(g.surname, ', ', g.firstname) AS guardian_name,
    g.contact_number AS guardian_contact,
    ( SELECT max(v.visit_date) AS max
           FROM visits v
          WHERE v.patient_id = p.patient_id AND v.is_deleted = false) AS latest_visit_date,
    ( SELECT json_agg(json_build_object('antigen', vm.antigen_name, 'dose', ps.dose_number, 'status', ps.status, 'actual_date', ps.actual_date)) AS json_agg
           FROM patientschedule ps
             JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
          WHERE ps.patient_id = p.patient_id AND ps.is_deleted = false) AS immunization_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN va.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM vitamina va
             JOIN visits v ON va.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS vitamina_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN d.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM deworming d
             JOIN visits v ON d.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS deworming_status,
    p.tags
   FROM patients p
     JOIN guardians g ON p.guardian_id = g.guardian_id
  WHERE p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | tcl_view                 | 5       | age_months               | integer                     |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    p.sex,
    p.date_of_birth,
    (date_part('year'::text, age(p.date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(p.date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - p.date_of_birth AS age_days,
    p.barangay,
    p.health_center,
    concat(g.surname, ', ', g.firstname) AS guardian_name,
    g.contact_number AS guardian_contact,
    ( SELECT max(v.visit_date) AS max
           FROM visits v
          WHERE v.patient_id = p.patient_id AND v.is_deleted = false) AS latest_visit_date,
    ( SELECT json_agg(json_build_object('antigen', vm.antigen_name, 'dose', ps.dose_number, 'status', ps.status, 'actual_date', ps.actual_date)) AS json_agg
           FROM patientschedule ps
             JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
          WHERE ps.patient_id = p.patient_id AND ps.is_deleted = false) AS immunization_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN va.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM vitamina va
             JOIN visits v ON va.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS vitamina_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN d.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM deworming d
             JOIN visits v ON d.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS deworming_status,
    p.tags
   FROM patients p
     JOIN guardians g ON p.guardian_id = g.guardian_id
  WHERE p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | tcl_view                 | 6       | age_days                 | integer                     |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    p.sex,
    p.date_of_birth,
    (date_part('year'::text, age(p.date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(p.date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - p.date_of_birth AS age_days,
    p.barangay,
    p.health_center,
    concat(g.surname, ', ', g.firstname) AS guardian_name,
    g.contact_number AS guardian_contact,
    ( SELECT max(v.visit_date) AS max
           FROM visits v
          WHERE v.patient_id = p.patient_id AND v.is_deleted = false) AS latest_visit_date,
    ( SELECT json_agg(json_build_object('antigen', vm.antigen_name, 'dose', ps.dose_number, 'status', ps.status, 'actual_date', ps.actual_date)) AS json_agg
           FROM patientschedule ps
             JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
          WHERE ps.patient_id = p.patient_id AND ps.is_deleted = false) AS immunization_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN va.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM vitamina va
             JOIN visits v ON va.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS vitamina_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN d.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM deworming d
             JOIN visits v ON d.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS deworming_status,
    p.tags
   FROM patients p
     JOIN guardians g ON p.guardian_id = g.guardian_id
  WHERE p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | tcl_view                 | 7       | barangay                 | character varying           |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    p.sex,
    p.date_of_birth,
    (date_part('year'::text, age(p.date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(p.date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - p.date_of_birth AS age_days,
    p.barangay,
    p.health_center,
    concat(g.surname, ', ', g.firstname) AS guardian_name,
    g.contact_number AS guardian_contact,
    ( SELECT max(v.visit_date) AS max
           FROM visits v
          WHERE v.patient_id = p.patient_id AND v.is_deleted = false) AS latest_visit_date,
    ( SELECT json_agg(json_build_object('antigen', vm.antigen_name, 'dose', ps.dose_number, 'status', ps.status, 'actual_date', ps.actual_date)) AS json_agg
           FROM patientschedule ps
             JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
          WHERE ps.patient_id = p.patient_id AND ps.is_deleted = false) AS immunization_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN va.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM vitamina va
             JOIN visits v ON va.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS vitamina_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN d.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM deworming d
             JOIN visits v ON d.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS deworming_status,
    p.tags
   FROM patients p
     JOIN guardians g ON p.guardian_id = g.guardian_id
  WHERE p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | tcl_view                 | 8       | health_center            | character varying           |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    p.sex,
    p.date_of_birth,
    (date_part('year'::text, age(p.date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(p.date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - p.date_of_birth AS age_days,
    p.barangay,
    p.health_center,
    concat(g.surname, ', ', g.firstname) AS guardian_name,
    g.contact_number AS guardian_contact,
    ( SELECT max(v.visit_date) AS max
           FROM visits v
          WHERE v.patient_id = p.patient_id AND v.is_deleted = false) AS latest_visit_date,
    ( SELECT json_agg(json_build_object('antigen', vm.antigen_name, 'dose', ps.dose_number, 'status', ps.status, 'actual_date', ps.actual_date)) AS json_agg
           FROM patientschedule ps
             JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
          WHERE ps.patient_id = p.patient_id AND ps.is_deleted = false) AS immunization_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN va.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM vitamina va
             JOIN visits v ON va.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS vitamina_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN d.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM deworming d
             JOIN visits v ON d.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS deworming_status,
    p.tags
   FROM patients p
     JOIN guardians g ON p.guardian_id = g.guardian_id
  WHERE p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | tcl_view                 | 9       | guardian_name            | text                        |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    p.sex,
    p.date_of_birth,
    (date_part('year'::text, age(p.date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(p.date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - p.date_of_birth AS age_days,
    p.barangay,
    p.health_center,
    concat(g.surname, ', ', g.firstname) AS guardian_name,
    g.contact_number AS guardian_contact,
    ( SELECT max(v.visit_date) AS max
           FROM visits v
          WHERE v.patient_id = p.patient_id AND v.is_deleted = false) AS latest_visit_date,
    ( SELECT json_agg(json_build_object('antigen', vm.antigen_name, 'dose', ps.dose_number, 'status', ps.status, 'actual_date', ps.actual_date)) AS json_agg
           FROM patientschedule ps
             JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
          WHERE ps.patient_id = p.patient_id AND ps.is_deleted = false) AS immunization_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN va.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM vitamina va
             JOIN visits v ON va.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS vitamina_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN d.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM deworming d
             JOIN visits v ON d.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS deworming_status,
    p.tags
   FROM patients p
     JOIN guardians g ON p.guardian_id = g.guardian_id
  WHERE p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | tcl_view                 | 10      | guardian_contact         | character varying           |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    p.sex,
    p.date_of_birth,
    (date_part('year'::text, age(p.date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(p.date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - p.date_of_birth AS age_days,
    p.barangay,
    p.health_center,
    concat(g.surname, ', ', g.firstname) AS guardian_name,
    g.contact_number AS guardian_contact,
    ( SELECT max(v.visit_date) AS max
           FROM visits v
          WHERE v.patient_id = p.patient_id AND v.is_deleted = false) AS latest_visit_date,
    ( SELECT json_agg(json_build_object('antigen', vm.antigen_name, 'dose', ps.dose_number, 'status', ps.status, 'actual_date', ps.actual_date)) AS json_agg
           FROM patientschedule ps
             JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
          WHERE ps.patient_id = p.patient_id AND ps.is_deleted = false) AS immunization_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN va.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM vitamina va
             JOIN visits v ON va.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS vitamina_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN d.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM deworming d
             JOIN visits v ON d.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS deworming_status,
    p.tags
   FROM patients p
     JOIN guardians g ON p.guardian_id = g.guardian_id
  WHERE p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | tcl_view                 | 11      | latest_visit_date        | date                        |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    p.sex,
    p.date_of_birth,
    (date_part('year'::text, age(p.date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(p.date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - p.date_of_birth AS age_days,
    p.barangay,
    p.health_center,
    concat(g.surname, ', ', g.firstname) AS guardian_name,
    g.contact_number AS guardian_contact,
    ( SELECT max(v.visit_date) AS max
           FROM visits v
          WHERE v.patient_id = p.patient_id AND v.is_deleted = false) AS latest_visit_date,
    ( SELECT json_agg(json_build_object('antigen', vm.antigen_name, 'dose', ps.dose_number, 'status', ps.status, 'actual_date', ps.actual_date)) AS json_agg
           FROM patientschedule ps
             JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
          WHERE ps.patient_id = p.patient_id AND ps.is_deleted = false) AS immunization_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN va.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM vitamina va
             JOIN visits v ON va.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS vitamina_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN d.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM deworming d
             JOIN visits v ON d.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS deworming_status,
    p.tags
   FROM patients p
     JOIN guardians g ON p.guardian_id = g.guardian_id
  WHERE p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | tcl_view                 | 12      | immunization_status      | json                        |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    p.sex,
    p.date_of_birth,
    (date_part('year'::text, age(p.date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(p.date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - p.date_of_birth AS age_days,
    p.barangay,
    p.health_center,
    concat(g.surname, ', ', g.firstname) AS guardian_name,
    g.contact_number AS guardian_contact,
    ( SELECT max(v.visit_date) AS max
           FROM visits v
          WHERE v.patient_id = p.patient_id AND v.is_deleted = false) AS latest_visit_date,
    ( SELECT json_agg(json_build_object('antigen', vm.antigen_name, 'dose', ps.dose_number, 'status', ps.status, 'actual_date', ps.actual_date)) AS json_agg
           FROM patientschedule ps
             JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
          WHERE ps.patient_id = p.patient_id AND ps.is_deleted = false) AS immunization_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN va.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM vitamina va
             JOIN visits v ON va.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS vitamina_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN d.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM deworming d
             JOIN visits v ON d.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS deworming_status,
    p.tags
   FROM patients p
     JOIN guardians g ON p.guardian_id = g.guardian_id
  WHERE p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | tcl_view                 | 13      | vitamina_status          | text                        |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    p.sex,
    p.date_of_birth,
    (date_part('year'::text, age(p.date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(p.date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - p.date_of_birth AS age_days,
    p.barangay,
    p.health_center,
    concat(g.surname, ', ', g.firstname) AS guardian_name,
    g.contact_number AS guardian_contact,
    ( SELECT max(v.visit_date) AS max
           FROM visits v
          WHERE v.patient_id = p.patient_id AND v.is_deleted = false) AS latest_visit_date,
    ( SELECT json_agg(json_build_object('antigen', vm.antigen_name, 'dose', ps.dose_number, 'status', ps.status, 'actual_date', ps.actual_date)) AS json_agg
           FROM patientschedule ps
             JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
          WHERE ps.patient_id = p.patient_id AND ps.is_deleted = false) AS immunization_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN va.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM vitamina va
             JOIN visits v ON va.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS vitamina_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN d.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM deworming d
             JOIN visits v ON d.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS deworming_status,
    p.tags
   FROM patients p
     JOIN guardians g ON p.guardian_id = g.guardian_id
  WHERE p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | tcl_view                 | 14      | deworming_status         | text                        |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    p.sex,
    p.date_of_birth,
    (date_part('year'::text, age(p.date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(p.date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - p.date_of_birth AS age_days,
    p.barangay,
    p.health_center,
    concat(g.surname, ', ', g.firstname) AS guardian_name,
    g.contact_number AS guardian_contact,
    ( SELECT max(v.visit_date) AS max
           FROM visits v
          WHERE v.patient_id = p.patient_id AND v.is_deleted = false) AS latest_visit_date,
    ( SELECT json_agg(json_build_object('antigen', vm.antigen_name, 'dose', ps.dose_number, 'status', ps.status, 'actual_date', ps.actual_date)) AS json_agg
           FROM patientschedule ps
             JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
          WHERE ps.patient_id = p.patient_id AND ps.is_deleted = false) AS immunization_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN va.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM vitamina va
             JOIN visits v ON va.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS vitamina_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN d.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM deworming d
             JOIN visits v ON d.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS deworming_status,
    p.tags
   FROM patients p
     JOIN guardians g ON p.guardian_id = g.guardian_id
  WHERE p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | tcl_view                 | 15      | tags                     | character varying           |  SELECT p.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    p.sex,
    p.date_of_birth,
    (date_part('year'::text, age(p.date_of_birth::timestamp with time zone)) * 12::double precision + date_part('month'::text, age(p.date_of_birth::timestamp with time zone)))::integer AS age_months,
    CURRENT_DATE - p.date_of_birth AS age_days,
    p.barangay,
    p.health_center,
    concat(g.surname, ', ', g.firstname) AS guardian_name,
    g.contact_number AS guardian_contact,
    ( SELECT max(v.visit_date) AS max
           FROM visits v
          WHERE v.patient_id = p.patient_id AND v.is_deleted = false) AS latest_visit_date,
    ( SELECT json_agg(json_build_object('antigen', vm.antigen_name, 'dose', ps.dose_number, 'status', ps.status, 'actual_date', ps.actual_date)) AS json_agg
           FROM patientschedule ps
             JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
          WHERE ps.patient_id = p.patient_id AND ps.is_deleted = false) AS immunization_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN va.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM vitamina va
             JOIN visits v ON va.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS vitamina_status,
    ( SELECT
                CASE
                    WHEN max(
                    CASE
                        WHEN d.is_deleted = false THEN 1
                        ELSE NULL::integer
                    END) = 1 THEN 'Given'::text
                    ELSE NULL::text
                END AS "case"
           FROM deworming d
             JOIN visits v ON d.visit_id = v.visit_id
          WHERE v.patient_id = p.patient_id) AS deworming_status,
    p.tags
   FROM patients p
     JOIN guardians g ON p.guardian_id = g.guardian_id
  WHERE p.is_deleted = false AND g.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public | users_with_uuid          | 1       | user_id                  | bigint                      |  SELECT u.user_id,
    u.role,
    u.surname,
    u.firstname,
    u.middlename,
    u.sex,
    u.birthdate,
    u.address,
    u.contact_number,
    u.email,
    u.username,
    u.employee_id,
    u.professional_license_no,
    u.date_registered,
    u.last_login,
    u.is_deleted,
    u.deleted_at,
    u.deleted_by,
    um.uuid AS supabase_uuid
   FROM users u
     LEFT JOIN user_mapping um ON u.user_id = um.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| public | users_with_uuid          | 2       | role                     | character varying           |  SELECT u.user_id,
    u.role,
    u.surname,
    u.firstname,
    u.middlename,
    u.sex,
    u.birthdate,
    u.address,
    u.contact_number,
    u.email,
    u.username,
    u.employee_id,
    u.professional_license_no,
    u.date_registered,
    u.last_login,
    u.is_deleted,
    u.deleted_at,
    u.deleted_by,
    um.uuid AS supabase_uuid
   FROM users u
     LEFT JOIN user_mapping um ON u.user_id = um.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| public | users_with_uuid          | 3       | surname                  | character varying           |  SELECT u.user_id,
    u.role,
    u.surname,
    u.firstname,
    u.middlename,
    u.sex,
    u.birthdate,
    u.address,
    u.contact_number,
    u.email,
    u.username,
    u.employee_id,
    u.professional_license_no,
    u.date_registered,
    u.last_login,
    u.is_deleted,
    u.deleted_at,
    u.deleted_by,
    um.uuid AS supabase_uuid
   FROM users u
     LEFT JOIN user_mapping um ON u.user_id = um.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| public | users_with_uuid          | 4       | firstname                | character varying           |  SELECT u.user_id,
    u.role,
    u.surname,
    u.firstname,
    u.middlename,
    u.sex,
    u.birthdate,
    u.address,
    u.contact_number,
    u.email,
    u.username,
    u.employee_id,
    u.professional_license_no,
    u.date_registered,
    u.last_login,
    u.is_deleted,
    u.deleted_at,
    u.deleted_by,
    um.uuid AS supabase_uuid
   FROM users u
     LEFT JOIN user_mapping um ON u.user_id = um.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| public | users_with_uuid          | 5       | middlename               | character varying           |  SELECT u.user_id,
    u.role,
    u.surname,
    u.firstname,
    u.middlename,
    u.sex,
    u.birthdate,
    u.address,
    u.contact_number,
    u.email,
    u.username,
    u.employee_id,
    u.professional_license_no,
    u.date_registered,
    u.last_login,
    u.is_deleted,
    u.deleted_at,
    u.deleted_by,
    um.uuid AS supabase_uuid
   FROM users u
     LEFT JOIN user_mapping um ON u.user_id = um.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| public | users_with_uuid          | 6       | sex                      | character varying           |  SELECT u.user_id,
    u.role,
    u.surname,
    u.firstname,
    u.middlename,
    u.sex,
    u.birthdate,
    u.address,
    u.contact_number,
    u.email,
    u.username,
    u.employee_id,
    u.professional_license_no,
    u.date_registered,
    u.last_login,
    u.is_deleted,
    u.deleted_at,
    u.deleted_by,
    um.uuid AS supabase_uuid
   FROM users u
     LEFT JOIN user_mapping um ON u.user_id = um.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| public | users_with_uuid          | 7       | birthdate                | date                        |  SELECT u.user_id,
    u.role,
    u.surname,
    u.firstname,
    u.middlename,
    u.sex,
    u.birthdate,
    u.address,
    u.contact_number,
    u.email,
    u.username,
    u.employee_id,
    u.professional_license_no,
    u.date_registered,
    u.last_login,
    u.is_deleted,
    u.deleted_at,
    u.deleted_by,
    um.uuid AS supabase_uuid
   FROM users u
     LEFT JOIN user_mapping um ON u.user_id = um.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| public | users_with_uuid          | 8       | address                  | text                        |  SELECT u.user_id,
    u.role,
    u.surname,
    u.firstname,
    u.middlename,
    u.sex,
    u.birthdate,
    u.address,
    u.contact_number,
    u.email,
    u.username,
    u.employee_id,
    u.professional_license_no,
    u.date_registered,
    u.last_login,
    u.is_deleted,
    u.deleted_at,
    u.deleted_by,
    um.uuid AS supabase_uuid
   FROM users u
     LEFT JOIN user_mapping um ON u.user_id = um.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| public | users_with_uuid          | 9       | contact_number           | character varying           |  SELECT u.user_id,
    u.role,
    u.surname,
    u.firstname,
    u.middlename,
    u.sex,
    u.birthdate,
    u.address,
    u.contact_number,
    u.email,
    u.username,
    u.employee_id,
    u.professional_license_no,
    u.date_registered,
    u.last_login,
    u.is_deleted,
    u.deleted_at,
    u.deleted_by,
    um.uuid AS supabase_uuid
   FROM users u
     LEFT JOIN user_mapping um ON u.user_id = um.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| public | users_with_uuid          | 10      | email                    | character varying           |  SELECT u.user_id,
    u.role,
    u.surname,
    u.firstname,
    u.middlename,
    u.sex,
    u.birthdate,
    u.address,
    u.contact_number,
    u.email,
    u.username,
    u.employee_id,
    u.professional_license_no,
    u.date_registered,
    u.last_login,
    u.is_deleted,
    u.deleted_at,
    u.deleted_by,
    um.uuid AS supabase_uuid
   FROM users u
     LEFT JOIN user_mapping um ON u.user_id = um.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| public | users_with_uuid          | 11      | username                 | character varying           |  SELECT u.user_id,
    u.role,
    u.surname,
    u.firstname,
    u.middlename,
    u.sex,
    u.birthdate,
    u.address,
    u.contact_number,
    u.email,
    u.username,
    u.employee_id,
    u.professional_license_no,
    u.date_registered,
    u.last_login,
    u.is_deleted,
    u.deleted_at,
    u.deleted_by,
    um.uuid AS supabase_uuid
   FROM users u
     LEFT JOIN user_mapping um ON u.user_id = um.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| public | users_with_uuid          | 12      | employee_id              | character varying           |  SELECT u.user_id,
    u.role,
    u.surname,
    u.firstname,
    u.middlename,
    u.sex,
    u.birthdate,
    u.address,
    u.contact_number,
    u.email,
    u.username,
    u.employee_id,
    u.professional_license_no,
    u.date_registered,
    u.last_login,
    u.is_deleted,
    u.deleted_at,
    u.deleted_by,
    um.uuid AS supabase_uuid
   FROM users u
     LEFT JOIN user_mapping um ON u.user_id = um.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| public | users_with_uuid          | 13      | professional_license_no  | character varying           |  SELECT u.user_id,
    u.role,
    u.surname,
    u.firstname,
    u.middlename,
    u.sex,
    u.birthdate,
    u.address,
    u.contact_number,
    u.email,
    u.username,
    u.employee_id,
    u.professional_license_no,
    u.date_registered,
    u.last_login,
    u.is_deleted,
    u.deleted_at,
    u.deleted_by,
    um.uuid AS supabase_uuid
   FROM users u
     LEFT JOIN user_mapping um ON u.user_id = um.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| public | users_with_uuid          | 14      | date_registered          | timestamp without time zone |  SELECT u.user_id,
    u.role,
    u.surname,
    u.firstname,
    u.middlename,
    u.sex,
    u.birthdate,
    u.address,
    u.contact_number,
    u.email,
    u.username,
    u.employee_id,
    u.professional_license_no,
    u.date_registered,
    u.last_login,
    u.is_deleted,
    u.deleted_at,
    u.deleted_by,
    um.uuid AS supabase_uuid
   FROM users u
     LEFT JOIN user_mapping um ON u.user_id = um.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| public | users_with_uuid          | 15      | last_login               | timestamp without time zone |  SELECT u.user_id,
    u.role,
    u.surname,
    u.firstname,
    u.middlename,
    u.sex,
    u.birthdate,
    u.address,
    u.contact_number,
    u.email,
    u.username,
    u.employee_id,
    u.professional_license_no,
    u.date_registered,
    u.last_login,
    u.is_deleted,
    u.deleted_at,
    u.deleted_by,
    um.uuid AS supabase_uuid
   FROM users u
     LEFT JOIN user_mapping um ON u.user_id = um.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| public | users_with_uuid          | 16      | is_deleted               | boolean                     |  SELECT u.user_id,
    u.role,
    u.surname,
    u.firstname,
    u.middlename,
    u.sex,
    u.birthdate,
    u.address,
    u.contact_number,
    u.email,
    u.username,
    u.employee_id,
    u.professional_license_no,
    u.date_registered,
    u.last_login,
    u.is_deleted,
    u.deleted_at,
    u.deleted_by,
    um.uuid AS supabase_uuid
   FROM users u
     LEFT JOIN user_mapping um ON u.user_id = um.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| public | users_with_uuid          | 17      | deleted_at               | timestamp without time zone |  SELECT u.user_id,
    u.role,
    u.surname,
    u.firstname,
    u.middlename,
    u.sex,
    u.birthdate,
    u.address,
    u.contact_number,
    u.email,
    u.username,
    u.employee_id,
    u.professional_license_no,
    u.date_registered,
    u.last_login,
    u.is_deleted,
    u.deleted_at,
    u.deleted_by,
    um.uuid AS supabase_uuid
   FROM users u
     LEFT JOIN user_mapping um ON u.user_id = um.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| public | users_with_uuid          | 18      | deleted_by               | bigint                      |  SELECT u.user_id,
    u.role,
    u.surname,
    u.firstname,
    u.middlename,
    u.sex,
    u.birthdate,
    u.address,
    u.contact_number,
    u.email,
    u.username,
    u.employee_id,
    u.professional_license_no,
    u.date_registered,
    u.last_login,
    u.is_deleted,
    u.deleted_at,
    u.deleted_by,
    um.uuid AS supabase_uuid
   FROM users u
     LEFT JOIN user_mapping um ON u.user_id = um.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| public | users_with_uuid          | 19      | supabase_uuid            | uuid                        |  SELECT u.user_id,
    u.role,
    u.surname,
    u.firstname,
    u.middlename,
    u.sex,
    u.birthdate,
    u.address,
    u.contact_number,
    u.email,
    u.username,
    u.employee_id,
    u.professional_license_no,
    u.date_registered,
    u.last_login,
    u.is_deleted,
    u.deleted_at,
    u.deleted_by,
    um.uuid AS supabase_uuid
   FROM users u
     LEFT JOIN user_mapping um ON u.user_id = um.user_id;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| public | vaccine_report_view      | 1       | antigen_name             | character varying           |  SELECT vm.antigen_name,
    ps.dose_number,
    sum(
        CASE
            WHEN ps.actual_date <= (ps.scheduled_date + '24:00:00'::interval) THEN 1
            ELSE 0
        END) AS within_24h_total,
    sum(
        CASE
            WHEN ps.actual_date <= (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Male'::text THEN 1
            ELSE 0
        END) AS within_24h_male,
    sum(
        CASE
            WHEN ps.actual_date <= (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Female'::text THEN 1
            ELSE 0
        END) AS within_24h_female,
    sum(
        CASE
            WHEN ps.actual_date > (ps.scheduled_date + '24:00:00'::interval) THEN 1
            ELSE 0
        END) AS after_24h_total,
    sum(
        CASE
            WHEN ps.actual_date > (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Male'::text THEN 1
            ELSE 0
        END) AS after_24h_male,
    sum(
        CASE
            WHEN ps.actual_date > (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Female'::text THEN 1
            ELSE 0
        END) AS after_24h_female
   FROM patientschedule ps
     JOIN patients p ON ps.patient_id = p.patient_id
     JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
  WHERE ps.status::text = 'Completed'::text
  GROUP BY vm.antigen_name, ps.dose_number;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| public | vaccine_report_view      | 2       | dose_number              | integer                     |  SELECT vm.antigen_name,
    ps.dose_number,
    sum(
        CASE
            WHEN ps.actual_date <= (ps.scheduled_date + '24:00:00'::interval) THEN 1
            ELSE 0
        END) AS within_24h_total,
    sum(
        CASE
            WHEN ps.actual_date <= (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Male'::text THEN 1
            ELSE 0
        END) AS within_24h_male,
    sum(
        CASE
            WHEN ps.actual_date <= (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Female'::text THEN 1
            ELSE 0
        END) AS within_24h_female,
    sum(
        CASE
            WHEN ps.actual_date > (ps.scheduled_date + '24:00:00'::interval) THEN 1
            ELSE 0
        END) AS after_24h_total,
    sum(
        CASE
            WHEN ps.actual_date > (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Male'::text THEN 1
            ELSE 0
        END) AS after_24h_male,
    sum(
        CASE
            WHEN ps.actual_date > (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Female'::text THEN 1
            ELSE 0
        END) AS after_24h_female
   FROM patientschedule ps
     JOIN patients p ON ps.patient_id = p.patient_id
     JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
  WHERE ps.status::text = 'Completed'::text
  GROUP BY vm.antigen_name, ps.dose_number;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| public | vaccine_report_view      | 3       | within_24h_total         | bigint                      |  SELECT vm.antigen_name,
    ps.dose_number,
    sum(
        CASE
            WHEN ps.actual_date <= (ps.scheduled_date + '24:00:00'::interval) THEN 1
            ELSE 0
        END) AS within_24h_total,
    sum(
        CASE
            WHEN ps.actual_date <= (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Male'::text THEN 1
            ELSE 0
        END) AS within_24h_male,
    sum(
        CASE
            WHEN ps.actual_date <= (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Female'::text THEN 1
            ELSE 0
        END) AS within_24h_female,
    sum(
        CASE
            WHEN ps.actual_date > (ps.scheduled_date + '24:00:00'::interval) THEN 1
            ELSE 0
        END) AS after_24h_total,
    sum(
        CASE
            WHEN ps.actual_date > (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Male'::text THEN 1
            ELSE 0
        END) AS after_24h_male,
    sum(
        CASE
            WHEN ps.actual_date > (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Female'::text THEN 1
            ELSE 0
        END) AS after_24h_female
   FROM patientschedule ps
     JOIN patients p ON ps.patient_id = p.patient_id
     JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
  WHERE ps.status::text = 'Completed'::text
  GROUP BY vm.antigen_name, ps.dose_number;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| public | vaccine_report_view      | 4       | within_24h_male          | bigint                      |  SELECT vm.antigen_name,
    ps.dose_number,
    sum(
        CASE
            WHEN ps.actual_date <= (ps.scheduled_date + '24:00:00'::interval) THEN 1
            ELSE 0
        END) AS within_24h_total,
    sum(
        CASE
            WHEN ps.actual_date <= (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Male'::text THEN 1
            ELSE 0
        END) AS within_24h_male,
    sum(
        CASE
            WHEN ps.actual_date <= (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Female'::text THEN 1
            ELSE 0
        END) AS within_24h_female,
    sum(
        CASE
            WHEN ps.actual_date > (ps.scheduled_date + '24:00:00'::interval) THEN 1
            ELSE 0
        END) AS after_24h_total,
    sum(
        CASE
            WHEN ps.actual_date > (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Male'::text THEN 1
            ELSE 0
        END) AS after_24h_male,
    sum(
        CASE
            WHEN ps.actual_date > (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Female'::text THEN 1
            ELSE 0
        END) AS after_24h_female
   FROM patientschedule ps
     JOIN patients p ON ps.patient_id = p.patient_id
     JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
  WHERE ps.status::text = 'Completed'::text
  GROUP BY vm.antigen_name, ps.dose_number;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| public | vaccine_report_view      | 5       | within_24h_female        | bigint                      |  SELECT vm.antigen_name,
    ps.dose_number,
    sum(
        CASE
            WHEN ps.actual_date <= (ps.scheduled_date + '24:00:00'::interval) THEN 1
            ELSE 0
        END) AS within_24h_total,
    sum(
        CASE
            WHEN ps.actual_date <= (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Male'::text THEN 1
            ELSE 0
        END) AS within_24h_male,
    sum(
        CASE
            WHEN ps.actual_date <= (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Female'::text THEN 1
            ELSE 0
        END) AS within_24h_female,
    sum(
        CASE
            WHEN ps.actual_date > (ps.scheduled_date + '24:00:00'::interval) THEN 1
            ELSE 0
        END) AS after_24h_total,
    sum(
        CASE
            WHEN ps.actual_date > (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Male'::text THEN 1
            ELSE 0
        END) AS after_24h_male,
    sum(
        CASE
            WHEN ps.actual_date > (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Female'::text THEN 1
            ELSE 0
        END) AS after_24h_female
   FROM patientschedule ps
     JOIN patients p ON ps.patient_id = p.patient_id
     JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
  WHERE ps.status::text = 'Completed'::text
  GROUP BY vm.antigen_name, ps.dose_number;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| public | vaccine_report_view      | 6       | after_24h_total          | bigint                      |  SELECT vm.antigen_name,
    ps.dose_number,
    sum(
        CASE
            WHEN ps.actual_date <= (ps.scheduled_date + '24:00:00'::interval) THEN 1
            ELSE 0
        END) AS within_24h_total,
    sum(
        CASE
            WHEN ps.actual_date <= (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Male'::text THEN 1
            ELSE 0
        END) AS within_24h_male,
    sum(
        CASE
            WHEN ps.actual_date <= (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Female'::text THEN 1
            ELSE 0
        END) AS within_24h_female,
    sum(
        CASE
            WHEN ps.actual_date > (ps.scheduled_date + '24:00:00'::interval) THEN 1
            ELSE 0
        END) AS after_24h_total,
    sum(
        CASE
            WHEN ps.actual_date > (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Male'::text THEN 1
            ELSE 0
        END) AS after_24h_male,
    sum(
        CASE
            WHEN ps.actual_date > (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Female'::text THEN 1
            ELSE 0
        END) AS after_24h_female
   FROM patientschedule ps
     JOIN patients p ON ps.patient_id = p.patient_id
     JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
  WHERE ps.status::text = 'Completed'::text
  GROUP BY vm.antigen_name, ps.dose_number;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| public | vaccine_report_view      | 7       | after_24h_male           | bigint                      |  SELECT vm.antigen_name,
    ps.dose_number,
    sum(
        CASE
            WHEN ps.actual_date <= (ps.scheduled_date + '24:00:00'::interval) THEN 1
            ELSE 0
        END) AS within_24h_total,
    sum(
        CASE
            WHEN ps.actual_date <= (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Male'::text THEN 1
            ELSE 0
        END) AS within_24h_male,
    sum(
        CASE
            WHEN ps.actual_date <= (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Female'::text THEN 1
            ELSE 0
        END) AS within_24h_female,
    sum(
        CASE
            WHEN ps.actual_date > (ps.scheduled_date + '24:00:00'::interval) THEN 1
            ELSE 0
        END) AS after_24h_total,
    sum(
        CASE
            WHEN ps.actual_date > (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Male'::text THEN 1
            ELSE 0
        END) AS after_24h_male,
    sum(
        CASE
            WHEN ps.actual_date > (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Female'::text THEN 1
            ELSE 0
        END) AS after_24h_female
   FROM patientschedule ps
     JOIN patients p ON ps.patient_id = p.patient_id
     JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
  WHERE ps.status::text = 'Completed'::text
  GROUP BY vm.antigen_name, ps.dose_number;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| public | vaccine_report_view      | 8       | after_24h_female         | bigint                      |  SELECT vm.antigen_name,
    ps.dose_number,
    sum(
        CASE
            WHEN ps.actual_date <= (ps.scheduled_date + '24:00:00'::interval) THEN 1
            ELSE 0
        END) AS within_24h_total,
    sum(
        CASE
            WHEN ps.actual_date <= (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Male'::text THEN 1
            ELSE 0
        END) AS within_24h_male,
    sum(
        CASE
            WHEN ps.actual_date <= (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Female'::text THEN 1
            ELSE 0
        END) AS within_24h_female,
    sum(
        CASE
            WHEN ps.actual_date > (ps.scheduled_date + '24:00:00'::interval) THEN 1
            ELSE 0
        END) AS after_24h_total,
    sum(
        CASE
            WHEN ps.actual_date > (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Male'::text THEN 1
            ELSE 0
        END) AS after_24h_male,
    sum(
        CASE
            WHEN ps.actual_date > (ps.scheduled_date + '24:00:00'::interval) AND p.sex::text = 'Female'::text THEN 1
            ELSE 0
        END) AS after_24h_female
   FROM patientschedule ps
     JOIN patients p ON ps.patient_id = p.patient_id
     JOIN vaccinemaster vm ON ps.vaccine_id = vm.vaccine_id
  WHERE ps.status::text = 'Completed'::text
  GROUP BY vm.antigen_name, ps.dose_number;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| public | visits_view              | 1       | visit_id                 | bigint                      |  SELECT v.visit_id,
    v.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    v.visit_date,
    v.findings,
    v.service_rendered,
    (u.firstname::text || ' '::text) || u.surname::text AS recorded_by,
    ( SELECT json_agg(json_build_object('antigen', vm.antigen_name, 'dose', im.dose_number, 'brand', vm.brand_name, 'lot', i.lot_number, 'administered_by', (u2.firstname::text || ' '::text) || u2.surname::text)) AS json_agg
           FROM immunizations im
             JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
             LEFT JOIN inventory i ON im.inventory_id = i.inventory_id
             LEFT JOIN users u2 ON im.administered_by = u2.user_id
          WHERE im.visit_id = v.visit_id AND im.is_deleted = false) AS immunizations_given,
    ( SELECT count(*) > 0
           FROM vitamina va
          WHERE va.visit_id = v.visit_id AND va.is_deleted = false) AS vitamina_given,
    ( SELECT count(*) > 0
           FROM deworming d
          WHERE d.visit_id = v.visit_id AND d.is_deleted = false) AS deworming_given,
    ( SELECT json_agg(json_build_object('temperature', vs.temperature, 'weight', vs.weight, 'height_length', vs.height_length, 'muac', vs.muac)) AS json_agg
           FROM vitalsigns vs
          WHERE vs.visit_id = v.visit_id AND vs.is_deleted = false) AS vital_signs
   FROM visits v
     JOIN patients p ON v.patient_id = p.patient_id
     JOIN users u ON v.recorded_by = u.user_id
  WHERE v.is_deleted = false AND p.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| public | visits_view              | 2       | patient_id               | bigint                      |  SELECT v.visit_id,
    v.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    v.visit_date,
    v.findings,
    v.service_rendered,
    (u.firstname::text || ' '::text) || u.surname::text AS recorded_by,
    ( SELECT json_agg(json_build_object('antigen', vm.antigen_name, 'dose', im.dose_number, 'brand', vm.brand_name, 'lot', i.lot_number, 'administered_by', (u2.firstname::text || ' '::text) || u2.surname::text)) AS json_agg
           FROM immunizations im
             JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
             LEFT JOIN inventory i ON im.inventory_id = i.inventory_id
             LEFT JOIN users u2 ON im.administered_by = u2.user_id
          WHERE im.visit_id = v.visit_id AND im.is_deleted = false) AS immunizations_given,
    ( SELECT count(*) > 0
           FROM vitamina va
          WHERE va.visit_id = v.visit_id AND va.is_deleted = false) AS vitamina_given,
    ( SELECT count(*) > 0
           FROM deworming d
          WHERE d.visit_id = v.visit_id AND d.is_deleted = false) AS deworming_given,
    ( SELECT json_agg(json_build_object('temperature', vs.temperature, 'weight', vs.weight, 'height_length', vs.height_length, 'muac', vs.muac)) AS json_agg
           FROM vitalsigns vs
          WHERE vs.visit_id = v.visit_id AND vs.is_deleted = false) AS vital_signs
   FROM visits v
     JOIN patients p ON v.patient_id = p.patient_id
     JOIN users u ON v.recorded_by = u.user_id
  WHERE v.is_deleted = false AND p.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| public | visits_view              | 3       | patient_name             | text                        |  SELECT v.visit_id,
    v.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    v.visit_date,
    v.findings,
    v.service_rendered,
    (u.firstname::text || ' '::text) || u.surname::text AS recorded_by,
    ( SELECT json_agg(json_build_object('antigen', vm.antigen_name, 'dose', im.dose_number, 'brand', vm.brand_name, 'lot', i.lot_number, 'administered_by', (u2.firstname::text || ' '::text) || u2.surname::text)) AS json_agg
           FROM immunizations im
             JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
             LEFT JOIN inventory i ON im.inventory_id = i.inventory_id
             LEFT JOIN users u2 ON im.administered_by = u2.user_id
          WHERE im.visit_id = v.visit_id AND im.is_deleted = false) AS immunizations_given,
    ( SELECT count(*) > 0
           FROM vitamina va
          WHERE va.visit_id = v.visit_id AND va.is_deleted = false) AS vitamina_given,
    ( SELECT count(*) > 0
           FROM deworming d
          WHERE d.visit_id = v.visit_id AND d.is_deleted = false) AS deworming_given,
    ( SELECT json_agg(json_build_object('temperature', vs.temperature, 'weight', vs.weight, 'height_length', vs.height_length, 'muac', vs.muac)) AS json_agg
           FROM vitalsigns vs
          WHERE vs.visit_id = v.visit_id AND vs.is_deleted = false) AS vital_signs
   FROM visits v
     JOIN patients p ON v.patient_id = p.patient_id
     JOIN users u ON v.recorded_by = u.user_id
  WHERE v.is_deleted = false AND p.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| public | visits_view              | 4       | visit_date               | date                        |  SELECT v.visit_id,
    v.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    v.visit_date,
    v.findings,
    v.service_rendered,
    (u.firstname::text || ' '::text) || u.surname::text AS recorded_by,
    ( SELECT json_agg(json_build_object('antigen', vm.antigen_name, 'dose', im.dose_number, 'brand', vm.brand_name, 'lot', i.lot_number, 'administered_by', (u2.firstname::text || ' '::text) || u2.surname::text)) AS json_agg
           FROM immunizations im
             JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
             LEFT JOIN inventory i ON im.inventory_id = i.inventory_id
             LEFT JOIN users u2 ON im.administered_by = u2.user_id
          WHERE im.visit_id = v.visit_id AND im.is_deleted = false) AS immunizations_given,
    ( SELECT count(*) > 0
           FROM vitamina va
          WHERE va.visit_id = v.visit_id AND va.is_deleted = false) AS vitamina_given,
    ( SELECT count(*) > 0
           FROM deworming d
          WHERE d.visit_id = v.visit_id AND d.is_deleted = false) AS deworming_given,
    ( SELECT json_agg(json_build_object('temperature', vs.temperature, 'weight', vs.weight, 'height_length', vs.height_length, 'muac', vs.muac)) AS json_agg
           FROM vitalsigns vs
          WHERE vs.visit_id = v.visit_id AND vs.is_deleted = false) AS vital_signs
   FROM visits v
     JOIN patients p ON v.patient_id = p.patient_id
     JOIN users u ON v.recorded_by = u.user_id
  WHERE v.is_deleted = false AND p.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| public | visits_view              | 5       | findings                 | text                        |  SELECT v.visit_id,
    v.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    v.visit_date,
    v.findings,
    v.service_rendered,
    (u.firstname::text || ' '::text) || u.surname::text AS recorded_by,
    ( SELECT json_agg(json_build_object('antigen', vm.antigen_name, 'dose', im.dose_number, 'brand', vm.brand_name, 'lot', i.lot_number, 'administered_by', (u2.firstname::text || ' '::text) || u2.surname::text)) AS json_agg
           FROM immunizations im
             JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
             LEFT JOIN inventory i ON im.inventory_id = i.inventory_id
             LEFT JOIN users u2 ON im.administered_by = u2.user_id
          WHERE im.visit_id = v.visit_id AND im.is_deleted = false) AS immunizations_given,
    ( SELECT count(*) > 0
           FROM vitamina va
          WHERE va.visit_id = v.visit_id AND va.is_deleted = false) AS vitamina_given,
    ( SELECT count(*) > 0
           FROM deworming d
          WHERE d.visit_id = v.visit_id AND d.is_deleted = false) AS deworming_given,
    ( SELECT json_agg(json_build_object('temperature', vs.temperature, 'weight', vs.weight, 'height_length', vs.height_length, 'muac', vs.muac)) AS json_agg
           FROM vitalsigns vs
          WHERE vs.visit_id = v.visit_id AND vs.is_deleted = false) AS vital_signs
   FROM visits v
     JOIN patients p ON v.patient_id = p.patient_id
     JOIN users u ON v.recorded_by = u.user_id
  WHERE v.is_deleted = false AND p.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| public | visits_view              | 6       | service_rendered         | text                        |  SELECT v.visit_id,
    v.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    v.visit_date,
    v.findings,
    v.service_rendered,
    (u.firstname::text || ' '::text) || u.surname::text AS recorded_by,
    ( SELECT json_agg(json_build_object('antigen', vm.antigen_name, 'dose', im.dose_number, 'brand', vm.brand_name, 'lot', i.lot_number, 'administered_by', (u2.firstname::text || ' '::text) || u2.surname::text)) AS json_agg
           FROM immunizations im
             JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
             LEFT JOIN inventory i ON im.inventory_id = i.inventory_id
             LEFT JOIN users u2 ON im.administered_by = u2.user_id
          WHERE im.visit_id = v.visit_id AND im.is_deleted = false) AS immunizations_given,
    ( SELECT count(*) > 0
           FROM vitamina va
          WHERE va.visit_id = v.visit_id AND va.is_deleted = false) AS vitamina_given,
    ( SELECT count(*) > 0
           FROM deworming d
          WHERE d.visit_id = v.visit_id AND d.is_deleted = false) AS deworming_given,
    ( SELECT json_agg(json_build_object('temperature', vs.temperature, 'weight', vs.weight, 'height_length', vs.height_length, 'muac', vs.muac)) AS json_agg
           FROM vitalsigns vs
          WHERE vs.visit_id = v.visit_id AND vs.is_deleted = false) AS vital_signs
   FROM visits v
     JOIN patients p ON v.patient_id = p.patient_id
     JOIN users u ON v.recorded_by = u.user_id
  WHERE v.is_deleted = false AND p.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| public | visits_view              | 7       | recorded_by              | text                        |  SELECT v.visit_id,
    v.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    v.visit_date,
    v.findings,
    v.service_rendered,
    (u.firstname::text || ' '::text) || u.surname::text AS recorded_by,
    ( SELECT json_agg(json_build_object('antigen', vm.antigen_name, 'dose', im.dose_number, 'brand', vm.brand_name, 'lot', i.lot_number, 'administered_by', (u2.firstname::text || ' '::text) || u2.surname::text)) AS json_agg
           FROM immunizations im
             JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
             LEFT JOIN inventory i ON im.inventory_id = i.inventory_id
             LEFT JOIN users u2 ON im.administered_by = u2.user_id
          WHERE im.visit_id = v.visit_id AND im.is_deleted = false) AS immunizations_given,
    ( SELECT count(*) > 0
           FROM vitamina va
          WHERE va.visit_id = v.visit_id AND va.is_deleted = false) AS vitamina_given,
    ( SELECT count(*) > 0
           FROM deworming d
          WHERE d.visit_id = v.visit_id AND d.is_deleted = false) AS deworming_given,
    ( SELECT json_agg(json_build_object('temperature', vs.temperature, 'weight', vs.weight, 'height_length', vs.height_length, 'muac', vs.muac)) AS json_agg
           FROM vitalsigns vs
          WHERE vs.visit_id = v.visit_id AND vs.is_deleted = false) AS vital_signs
   FROM visits v
     JOIN patients p ON v.patient_id = p.patient_id
     JOIN users u ON v.recorded_by = u.user_id
  WHERE v.is_deleted = false AND p.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| public | visits_view              | 8       | immunizations_given      | json                        |  SELECT v.visit_id,
    v.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    v.visit_date,
    v.findings,
    v.service_rendered,
    (u.firstname::text || ' '::text) || u.surname::text AS recorded_by,
    ( SELECT json_agg(json_build_object('antigen', vm.antigen_name, 'dose', im.dose_number, 'brand', vm.brand_name, 'lot', i.lot_number, 'administered_by', (u2.firstname::text || ' '::text) || u2.surname::text)) AS json_agg
           FROM immunizations im
             JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
             LEFT JOIN inventory i ON im.inventory_id = i.inventory_id
             LEFT JOIN users u2 ON im.administered_by = u2.user_id
          WHERE im.visit_id = v.visit_id AND im.is_deleted = false) AS immunizations_given,
    ( SELECT count(*) > 0
           FROM vitamina va
          WHERE va.visit_id = v.visit_id AND va.is_deleted = false) AS vitamina_given,
    ( SELECT count(*) > 0
           FROM deworming d
          WHERE d.visit_id = v.visit_id AND d.is_deleted = false) AS deworming_given,
    ( SELECT json_agg(json_build_object('temperature', vs.temperature, 'weight', vs.weight, 'height_length', vs.height_length, 'muac', vs.muac)) AS json_agg
           FROM vitalsigns vs
          WHERE vs.visit_id = v.visit_id AND vs.is_deleted = false) AS vital_signs
   FROM visits v
     JOIN patients p ON v.patient_id = p.patient_id
     JOIN users u ON v.recorded_by = u.user_id
  WHERE v.is_deleted = false AND p.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| public | visits_view              | 9       | vitamina_given           | boolean                     |  SELECT v.visit_id,
    v.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    v.visit_date,
    v.findings,
    v.service_rendered,
    (u.firstname::text || ' '::text) || u.surname::text AS recorded_by,
    ( SELECT json_agg(json_build_object('antigen', vm.antigen_name, 'dose', im.dose_number, 'brand', vm.brand_name, 'lot', i.lot_number, 'administered_by', (u2.firstname::text || ' '::text) || u2.surname::text)) AS json_agg
           FROM immunizations im
             JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
             LEFT JOIN inventory i ON im.inventory_id = i.inventory_id
             LEFT JOIN users u2 ON im.administered_by = u2.user_id
          WHERE im.visit_id = v.visit_id AND im.is_deleted = false) AS immunizations_given,
    ( SELECT count(*) > 0
           FROM vitamina va
          WHERE va.visit_id = v.visit_id AND va.is_deleted = false) AS vitamina_given,
    ( SELECT count(*) > 0
           FROM deworming d
          WHERE d.visit_id = v.visit_id AND d.is_deleted = false) AS deworming_given,
    ( SELECT json_agg(json_build_object('temperature', vs.temperature, 'weight', vs.weight, 'height_length', vs.height_length, 'muac', vs.muac)) AS json_agg
           FROM vitalsigns vs
          WHERE vs.visit_id = v.visit_id AND vs.is_deleted = false) AS vital_signs
   FROM visits v
     JOIN patients p ON v.patient_id = p.patient_id
     JOIN users u ON v.recorded_by = u.user_id
  WHERE v.is_deleted = false AND p.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| public | visits_view              | 10      | deworming_given          | boolean                     |  SELECT v.visit_id,
    v.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    v.visit_date,
    v.findings,
    v.service_rendered,
    (u.firstname::text || ' '::text) || u.surname::text AS recorded_by,
    ( SELECT json_agg(json_build_object('antigen', vm.antigen_name, 'dose', im.dose_number, 'brand', vm.brand_name, 'lot', i.lot_number, 'administered_by', (u2.firstname::text || ' '::text) || u2.surname::text)) AS json_agg
           FROM immunizations im
             JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
             LEFT JOIN inventory i ON im.inventory_id = i.inventory_id
             LEFT JOIN users u2 ON im.administered_by = u2.user_id
          WHERE im.visit_id = v.visit_id AND im.is_deleted = false) AS immunizations_given,
    ( SELECT count(*) > 0
           FROM vitamina va
          WHERE va.visit_id = v.visit_id AND va.is_deleted = false) AS vitamina_given,
    ( SELECT count(*) > 0
           FROM deworming d
          WHERE d.visit_id = v.visit_id AND d.is_deleted = false) AS deworming_given,
    ( SELECT json_agg(json_build_object('temperature', vs.temperature, 'weight', vs.weight, 'height_length', vs.height_length, 'muac', vs.muac)) AS json_agg
           FROM vitalsigns vs
          WHERE vs.visit_id = v.visit_id AND vs.is_deleted = false) AS vital_signs
   FROM visits v
     JOIN patients p ON v.patient_id = p.patient_id
     JOIN users u ON v.recorded_by = u.user_id
  WHERE v.is_deleted = false AND p.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| public | visits_view              | 11      | vital_signs              | json                        |  SELECT v.visit_id,
    v.patient_id,
    concat(p.surname, ', ', p.firstname, ' ', COALESCE(p.middlename, ''::character varying)) AS patient_name,
    v.visit_date,
    v.findings,
    v.service_rendered,
    (u.firstname::text || ' '::text) || u.surname::text AS recorded_by,
    ( SELECT json_agg(json_build_object('antigen', vm.antigen_name, 'dose', im.dose_number, 'brand', vm.brand_name, 'lot', i.lot_number, 'administered_by', (u2.firstname::text || ' '::text) || u2.surname::text)) AS json_agg
           FROM immunizations im
             JOIN vaccinemaster vm ON im.vaccine_id = vm.vaccine_id
             LEFT JOIN inventory i ON im.inventory_id = i.inventory_id
             LEFT JOIN users u2 ON im.administered_by = u2.user_id
          WHERE im.visit_id = v.visit_id AND im.is_deleted = false) AS immunizations_given,
    ( SELECT count(*) > 0
           FROM vitamina va
          WHERE va.visit_id = v.visit_id AND va.is_deleted = false) AS vitamina_given,
    ( SELECT count(*) > 0
           FROM deworming d
          WHERE d.visit_id = v.visit_id AND d.is_deleted = false) AS deworming_given,
    ( SELECT json_agg(json_build_object('temperature', vs.temperature, 'weight', vs.weight, 'height_length', vs.height_length, 'muac', vs.muac)) AS json_agg
           FROM vitalsigns vs
          WHERE vs.visit_id = v.visit_id AND vs.is_deleted = false) AS vital_signs
   FROM visits v
     JOIN patients p ON v.patient_id = p.patient_id
     JOIN users u ON v.recorded_by = u.user_id
  WHERE v.is_deleted = false AND p.is_deleted = false;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| public | worker_progress_view     | 1       | user_id                  | bigint                      |  SELECT u.user_id,
    u.role,
    u.firstname,
    u.surname,
    count(DISTINCT im.immunization_id) AS vaccines_administered,
    count(DISTINCT va.vitamina_id) AS vitamina_administered,
    count(DISTINCT d.deworming_id) AS deworming_administered
   FROM users u
     LEFT JOIN immunizations im ON u.user_id = im.administered_by AND im.is_deleted = false
     LEFT JOIN vitamina va ON u.user_id = va.administered_by AND va.is_deleted = false
     LEFT JOIN deworming d ON u.user_id = d.administered_by AND d.is_deleted = false
  WHERE u.role::text = ANY (ARRAY['HealthWorker'::character varying, 'Nurse'::character varying, 'Nutritionist'::character varying]::text[])
  GROUP BY u.user_id, u.role, u.firstname, u.surname;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| public | worker_progress_view     | 2       | role                     | character varying           |  SELECT u.user_id,
    u.role,
    u.firstname,
    u.surname,
    count(DISTINCT im.immunization_id) AS vaccines_administered,
    count(DISTINCT va.vitamina_id) AS vitamina_administered,
    count(DISTINCT d.deworming_id) AS deworming_administered
   FROM users u
     LEFT JOIN immunizations im ON u.user_id = im.administered_by AND im.is_deleted = false
     LEFT JOIN vitamina va ON u.user_id = va.administered_by AND va.is_deleted = false
     LEFT JOIN deworming d ON u.user_id = d.administered_by AND d.is_deleted = false
  WHERE u.role::text = ANY (ARRAY['HealthWorker'::character varying, 'Nurse'::character varying, 'Nutritionist'::character varying]::text[])
  GROUP BY u.user_id, u.role, u.firstname, u.surname;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| public | worker_progress_view     | 3       | firstname                | character varying           |  SELECT u.user_id,
    u.role,
    u.firstname,
    u.surname,
    count(DISTINCT im.immunization_id) AS vaccines_administered,
    count(DISTINCT va.vitamina_id) AS vitamina_administered,
    count(DISTINCT d.deworming_id) AS deworming_administered
   FROM users u
     LEFT JOIN immunizations im ON u.user_id = im.administered_by AND im.is_deleted = false
     LEFT JOIN vitamina va ON u.user_id = va.administered_by AND va.is_deleted = false
     LEFT JOIN deworming d ON u.user_id = d.administered_by AND d.is_deleted = false
  WHERE u.role::text = ANY (ARRAY['HealthWorker'::character varying, 'Nurse'::character varying, 'Nutritionist'::character varying]::text[])
  GROUP BY u.user_id, u.role, u.firstname, u.surname;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| public | worker_progress_view     | 4       | surname                  | character varying           |  SELECT u.user_id,
    u.role,
    u.firstname,
    u.surname,
    count(DISTINCT im.immunization_id) AS vaccines_administered,
    count(DISTINCT va.vitamina_id) AS vitamina_administered,
    count(DISTINCT d.deworming_id) AS deworming_administered
   FROM users u
     LEFT JOIN immunizations im ON u.user_id = im.administered_by AND im.is_deleted = false
     LEFT JOIN vitamina va ON u.user_id = va.administered_by AND va.is_deleted = false
     LEFT JOIN deworming d ON u.user_id = d.administered_by AND d.is_deleted = false
  WHERE u.role::text = ANY (ARRAY['HealthWorker'::character varying, 'Nurse'::character varying, 'Nutritionist'::character varying]::text[])
  GROUP BY u.user_id, u.role, u.firstname, u.surname;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| public | worker_progress_view     | 5       | vaccines_administered    | bigint                      |  SELECT u.user_id,
    u.role,
    u.firstname,
    u.surname,
    count(DISTINCT im.immunization_id) AS vaccines_administered,
    count(DISTINCT va.vitamina_id) AS vitamina_administered,
    count(DISTINCT d.deworming_id) AS deworming_administered
   FROM users u
     LEFT JOIN immunizations im ON u.user_id = im.administered_by AND im.is_deleted = false
     LEFT JOIN vitamina va ON u.user_id = va.administered_by AND va.is_deleted = false
     LEFT JOIN deworming d ON u.user_id = d.administered_by AND d.is_deleted = false
  WHERE u.role::text = ANY (ARRAY['HealthWorker'::character varying, 'Nurse'::character varying, 'Nutritionist'::character varying]::text[])
  GROUP BY u.user_id, u.role, u.firstname, u.surname;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| public | worker_progress_view     | 6       | vitamina_administered    | bigint                      |  SELECT u.user_id,
    u.role,
    u.firstname,
    u.surname,
    count(DISTINCT im.immunization_id) AS vaccines_administered,
    count(DISTINCT va.vitamina_id) AS vitamina_administered,
    count(DISTINCT d.deworming_id) AS deworming_administered
   FROM users u
     LEFT JOIN immunizations im ON u.user_id = im.administered_by AND im.is_deleted = false
     LEFT JOIN vitamina va ON u.user_id = va.administered_by AND va.is_deleted = false
     LEFT JOIN deworming d ON u.user_id = d.administered_by AND d.is_deleted = false
  WHERE u.role::text = ANY (ARRAY['HealthWorker'::character varying, 'Nurse'::character varying, 'Nutritionist'::character varying]::text[])
  GROUP BY u.user_id, u.role, u.firstname, u.surname;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| public | worker_progress_view     | 7       | deworming_administered   | bigint                      |  SELECT u.user_id,
    u.role,
    u.firstname,
    u.surname,
    count(DISTINCT im.immunization_id) AS vaccines_administered,
    count(DISTINCT va.vitamina_id) AS vitamina_administered,
    count(DISTINCT d.deworming_id) AS deworming_administered
   FROM users u
     LEFT JOIN immunizations im ON u.user_id = im.administered_by AND im.is_deleted = false
     LEFT JOIN vitamina va ON u.user_id = va.administered_by AND va.is_deleted = false
     LEFT JOIN deworming d ON u.user_id = d.administered_by AND d.is_deleted = false
  WHERE u.role::text = ANY (ARRAY['HealthWorker'::character varying, 'Nurse'::character varying, 'Nutritionist'::character varying]::text[])
  GROUP BY u.user_id, u.role, u.firstname, u.surname;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |

  SELECT
  v.view_schema,
  v.view_name,
  string_agg(DISTINCT base_table, ', ' ORDER BY base_table) AS base_tables
FROM (
  SELECT
    n.nspname AS view_schema,
    c.relname AS view_name,
    bn.nspname || '.' || bt.relname AS base_table
  FROM pg_rewrite r
  JOIN pg_class c       ON c.oid = r.ev_class
  JOIN pg_namespace n   ON n.oid = c.relnamespace
  JOIN pg_depend d      ON d.objid = r.oid
  JOIN pg_class bt      ON bt.oid = d.refobjid
  JOIN pg_namespace bn  ON bn.oid = bt.relnamespace
  WHERE c.relkind = 'v'
    AND n.nspname = 'public'
) v
GROUP BY v.view_schema, v.view_name
ORDER BY v.view_name;

| view_schema | view_name                | base_tables                                                                                                                                                                          |
| ----------- | ------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| public      | activitylogs_view        | public.activitylogs, public.activitylogs_view, public.users                                                                                                                          |
| public      | conversations_view       | public.conversationparticipants, public.conversations, public.conversations_view, public.messages                                                                                    |
| public      | dashboard_view           | public.dashboard_view, public.guardians, public.inventory, public.patients, public.patientschedule, public.users                                                                     |
| public      | defaulters_view          | public.defaulters_view, public.guardians, public.patients, public.patientschedule, public.vaccinemaster                                                                              |
| public      | duesoon_view             | public.duesoon_view, public.guardians, public.patients, public.patientschedule, public.vaccinemaster                                                                                 |
| public      | immunizationhistory_view | public.immunizationhistory_view, public.immunizations, public.patients, public.users, public.vaccinemaster, public.visits                                                            |
| public      | inventorylowstock_view   | public.inventory, public.inventorylowstock_view, public.vaccinemaster                                                                                                                |
| public      | monthlyreports_view      | public.deworming, public.immunizations, public.monthlyreports_view, public.patients, public.vaccinemaster, public.visits, public.vitamina                                            |
| public      | notifications_view       | public.notifications, public.notifications_view, public.users                                                                                                                        |
| public      | patients_view            | public.patients, public.patients_view                                                                                                                                                |
| public      | patientschedule_view     | public.patients, public.patientschedule, public.patientschedule_view, public.vaccinemaster                                                                                           |
| public      | tcl_view                 | public.deworming, public.guardians, public.patients, public.patientschedule, public.tcl_view, public.vaccinemaster, public.visits, public.vitamina                                   |
| public      | users_with_uuid          | public.user_mapping, public.users, public.users_with_uuid                                                                                                                            |
| public      | vaccine_report_view      | public.patients, public.patientschedule, public.vaccine_report_view, public.vaccinemaster                                                                                            |
| public      | visits_view              | public.deworming, public.immunizations, public.inventory, public.patients, public.users, public.vaccinemaster, public.visits, public.visits_view, public.vitalsigns, public.vitamina |
| public      | worker_progress_view     | public.deworming, public.immunizations, public.users, public.vitamina, public.worker_progress_view                                                                                   |