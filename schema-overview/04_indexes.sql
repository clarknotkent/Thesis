-- Indexes with definitions, uniqueness, method, predicates, sizes, and usage stats
WITH idx AS (
  SELECT
    n.nspname AS schema,
    t.relname AS table_name,
    i.relname AS index_name,
    pg_get_indexdef(ix.indexrelid) AS index_def,
    ix.indisunique AS is_unique,
    ix.indisprimary AS is_primary,
    am.amname AS method,
    pg_relation_size(i.oid) AS index_bytes,
    pg_size_pretty(pg_relation_size(i.oid)) AS index_size_pretty
  FROM pg_index ix
  JOIN pg_class t ON t.oid = ix.indrelid
  JOIN pg_class i ON i.oid = ix.indexrelid
  JOIN pg_namespace n ON n.oid = t.relnamespace
  JOIN pg_am am ON am.oid = i.relam
  WHERE n.nspname NOT IN ('pg_catalog','information_schema')
    AND n.nspname NOT LIKE 'pg_toast%'
    AND n.nspname NOT LIKE 'pg_temp%'
), usage AS (
  SELECT
    n.nspname AS schema,
    c.relname AS index_name,
    s.idx_scan,
    s.idx_tup_read,
    s.idx_tup_fetch
  FROM pg_stat_user_indexes s
  JOIN pg_class c ON c.oid = s.indexrelid
  JOIN pg_namespace n ON n.oid = c.relnamespace
)
SELECT
  idx.schema,
  idx.table_name,
  idx.index_name,
  idx.method,
  idx.is_primary,
  idx.is_unique,
  idx.index_def,
  idx.index_size_pretty,
  COALESCE(usage.idx_scan,0) AS idx_scan,
  COALESCE(usage.idx_tup_read,0) AS idx_tup_read,
  COALESCE(usage.idx_tup_fetch,0) AS idx_tup_fetch
FROM idx
LEFT JOIN usage ON usage.schema = idx.schema AND usage.index_name = idx.index_name
ORDER BY idx.schema, idx.table_name, idx.index_name;

| schema   | table_name                    | index_name                                                  | method | is_primary | is_unique | index_def                                                                                                                                                                                                                                                                      | index_size_pretty | idx_scan | idx_tup_read | idx_tup_fetch |
| -------- | ----------------------------- | ----------------------------------------------------------- | ------ | ---------- | --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ----------------- | -------- | ------------ | ------------- |
| auth     | audit_log_entries             | audit_log_entries_pkey                                      | btree  | true       | true      | CREATE UNIQUE INDEX audit_log_entries_pkey ON auth.audit_log_entries USING btree (id)                                                                                                                                                                                          | 40 kB             | 0        | 0            | 0             |
| auth     | audit_log_entries             | audit_logs_instance_id_idx                                  | btree  | false      | false     | CREATE INDEX audit_logs_instance_id_idx ON auth.audit_log_entries USING btree (instance_id)                                                                                                                                                                                    | 16 kB             | 0        | 0            | 0             |
| auth     | flow_state                    | flow_state_created_at_idx                                   | btree  | false      | false     | CREATE INDEX flow_state_created_at_idx ON auth.flow_state USING btree (created_at DESC)                                                                                                                                                                                        | 8192 bytes        | 0        | 0            | 0             |
| auth     | flow_state                    | flow_state_pkey                                             | btree  | true       | true      | CREATE UNIQUE INDEX flow_state_pkey ON auth.flow_state USING btree (id)                                                                                                                                                                                                        | 8192 bytes        | 0        | 0            | 0             |
| auth     | flow_state                    | idx_auth_code                                               | btree  | false      | false     | CREATE INDEX idx_auth_code ON auth.flow_state USING btree (auth_code)                                                                                                                                                                                                          | 8192 bytes        | 0        | 0            | 0             |
| auth     | flow_state                    | idx_user_id_auth_method                                     | btree  | false      | false     | CREATE INDEX idx_user_id_auth_method ON auth.flow_state USING btree (user_id, authentication_method)                                                                                                                                                                           | 8192 bytes        | 0        | 0            | 0             |
| auth     | identities                    | identities_email_idx                                        | btree  | false      | false     | CREATE INDEX identities_email_idx ON auth.identities USING btree (email text_pattern_ops)                                                                                                                                                                                      | 16 kB             | 26       | 233          | 0             |
| auth     | identities                    | identities_pkey                                             | btree  | true       | true      | CREATE UNIQUE INDEX identities_pkey ON auth.identities USING btree (id)                                                                                                                                                                                                        | 16 kB             | 0        | 0            | 0             |
| auth     | identities                    | identities_provider_id_provider_unique                      | btree  | false      | true      | CREATE UNIQUE INDEX identities_provider_id_provider_unique ON auth.identities USING btree (provider_id, provider)                                                                                                                                                              | 16 kB             | 0        | 0            | 0             |
| auth     | identities                    | identities_user_id_idx                                      | btree  | false      | false     | CREATE INDEX identities_user_id_idx ON auth.identities USING btree (user_id)                                                                                                                                                                                                   | 16 kB             | 81       | 81           | 0             |
| auth     | instances                     | instances_pkey                                              | btree  | true       | true      | CREATE UNIQUE INDEX instances_pkey ON auth.instances USING btree (id)                                                                                                                                                                                                          | 8192 bytes        | 0        | 0            | 0             |
| auth     | mfa_amr_claims                | amr_id_pk                                                   | btree  | true       | true      | CREATE UNIQUE INDEX amr_id_pk ON auth.mfa_amr_claims USING btree (id)                                                                                                                                                                                                          | 32 kB             | 0        | 0            | 0             |
| auth     | mfa_amr_claims                | mfa_amr_claims_session_id_authentication_method_pkey        | btree  | false      | true      | CREATE UNIQUE INDEX mfa_amr_claims_session_id_authentication_method_pkey ON auth.mfa_amr_claims USING btree (session_id, authentication_method)                                                                                                                                | 40 kB             | 609      | 286          | 235           |
| auth     | mfa_challenges                | mfa_challenge_created_at_idx                                | btree  | false      | false     | CREATE INDEX mfa_challenge_created_at_idx ON auth.mfa_challenges USING btree (created_at DESC)                                                                                                                                                                                 | 8192 bytes        | 0        | 0            | 0             |
| auth     | mfa_challenges                | mfa_challenges_pkey                                         | btree  | true       | true      | CREATE UNIQUE INDEX mfa_challenges_pkey ON auth.mfa_challenges USING btree (id)                                                                                                                                                                                                | 8192 bytes        | 0        | 0            | 0             |
| auth     | mfa_factors                   | factor_id_created_at_idx                                    | btree  | false      | false     | CREATE INDEX factor_id_created_at_idx ON auth.mfa_factors USING btree (user_id, created_at)                                                                                                                                                                                    | 8192 bytes        | 0        | 0            | 0             |
| auth     | mfa_factors                   | mfa_factors_last_challenged_at_key                          | btree  | false      | true      | CREATE UNIQUE INDEX mfa_factors_last_challenged_at_key ON auth.mfa_factors USING btree (last_challenged_at)                                                                                                                                                                    | 8192 bytes        | 0        | 0            | 0             |
| auth     | mfa_factors                   | mfa_factors_pkey                                            | btree  | true       | true      | CREATE UNIQUE INDEX mfa_factors_pkey ON auth.mfa_factors USING btree (id)                                                                                                                                                                                                      | 8192 bytes        | 0        | 0            | 0             |
| auth     | mfa_factors                   | mfa_factors_user_friendly_name_unique                       | btree  | false      | true      | CREATE UNIQUE INDEX mfa_factors_user_friendly_name_unique ON auth.mfa_factors USING btree (friendly_name, user_id) WHERE (TRIM(BOTH FROM friendly_name) <> ''::text)                                                                                                           | 8192 bytes        | 0        | 0            | 0             |
| auth     | mfa_factors                   | mfa_factors_user_id_idx                                     | btree  | false      | false     | CREATE INDEX mfa_factors_user_id_idx ON auth.mfa_factors USING btree (user_id)                                                                                                                                                                                                 | 8192 bytes        | 0        | 0            | 0             |
| auth     | mfa_factors                   | unique_phone_factor_per_user                                | btree  | false      | true      | CREATE UNIQUE INDEX unique_phone_factor_per_user ON auth.mfa_factors USING btree (user_id, phone)                                                                                                                                                                              | 8192 bytes        | 527      | 0            | 0             |
| auth     | oauth_authorizations          | oauth_auth_pending_exp_idx                                  | btree  | false      | false     | CREATE INDEX oauth_auth_pending_exp_idx ON auth.oauth_authorizations USING btree (expires_at) WHERE (status = 'pending'::auth.oauth_authorization_status)                                                                                                                      | 8192 bytes        | 0        | 0            | 0             |
| auth     | oauth_authorizations          | oauth_authorizations_authorization_code_key                 | btree  | false      | true      | CREATE UNIQUE INDEX oauth_authorizations_authorization_code_key ON auth.oauth_authorizations USING btree (authorization_code)                                                                                                                                                  | 8192 bytes        | 0        | 0            | 0             |
| auth     | oauth_authorizations          | oauth_authorizations_authorization_id_key                   | btree  | false      | true      | CREATE UNIQUE INDEX oauth_authorizations_authorization_id_key ON auth.oauth_authorizations USING btree (authorization_id)                                                                                                                                                      | 8192 bytes        | 0        | 0            | 0             |
| auth     | oauth_authorizations          | oauth_authorizations_pkey                                   | btree  | true       | true      | CREATE UNIQUE INDEX oauth_authorizations_pkey ON auth.oauth_authorizations USING btree (id)                                                                                                                                                                                    | 8192 bytes        | 0        | 0            | 0             |
| auth     | oauth_clients                 | oauth_clients_deleted_at_idx                                | btree  | false      | false     | CREATE INDEX oauth_clients_deleted_at_idx ON auth.oauth_clients USING btree (deleted_at)                                                                                                                                                                                       | 8192 bytes        | 0        | 0            | 0             |
| auth     | oauth_clients                 | oauth_clients_pkey                                          | btree  | true       | true      | CREATE UNIQUE INDEX oauth_clients_pkey ON auth.oauth_clients USING btree (id)                                                                                                                                                                                                  | 8192 bytes        | 0        | 0            | 0             |
| auth     | oauth_consents                | oauth_consents_active_client_idx                            | btree  | false      | false     | CREATE INDEX oauth_consents_active_client_idx ON auth.oauth_consents USING btree (client_id) WHERE (revoked_at IS NULL)                                                                                                                                                        | 8192 bytes        | 0        | 0            | 0             |
| auth     | oauth_consents                | oauth_consents_active_user_client_idx                       | btree  | false      | false     | CREATE INDEX oauth_consents_active_user_client_idx ON auth.oauth_consents USING btree (user_id, client_id) WHERE (revoked_at IS NULL)                                                                                                                                          | 8192 bytes        | 0        | 0            | 0             |
| auth     | oauth_consents                | oauth_consents_pkey                                         | btree  | true       | true      | CREATE UNIQUE INDEX oauth_consents_pkey ON auth.oauth_consents USING btree (id)                                                                                                                                                                                                | 8192 bytes        | 0        | 0            | 0             |
| auth     | oauth_consents                | oauth_consents_user_client_unique                           | btree  | false      | true      | CREATE UNIQUE INDEX oauth_consents_user_client_unique ON auth.oauth_consents USING btree (user_id, client_id)                                                                                                                                                                  | 8192 bytes        | 0        | 0            | 0             |
| auth     | oauth_consents                | oauth_consents_user_order_idx                               | btree  | false      | false     | CREATE INDEX oauth_consents_user_order_idx ON auth.oauth_consents USING btree (user_id, granted_at DESC)                                                                                                                                                                       | 8192 bytes        | 3        | 0            | 0             |
| auth     | one_time_tokens               | one_time_tokens_pkey                                        | btree  | true       | true      | CREATE UNIQUE INDEX one_time_tokens_pkey ON auth.one_time_tokens USING btree (id)                                                                                                                                                                                              | 8192 bytes        | 0        | 0            | 0             |
| auth     | one_time_tokens               | one_time_tokens_relates_to_hash_idx                         | hash   | false      | false     | CREATE INDEX one_time_tokens_relates_to_hash_idx ON auth.one_time_tokens USING hash (relates_to)                                                                                                                                                                               | 32 kB             | 0        | 0            | 0             |
| auth     | one_time_tokens               | one_time_tokens_token_hash_hash_idx                         | hash   | false      | false     | CREATE INDEX one_time_tokens_token_hash_hash_idx ON auth.one_time_tokens USING hash (token_hash)                                                                                                                                                                               | 32 kB             | 0        | 0            | 0             |
| auth     | one_time_tokens               | one_time_tokens_user_id_token_type_key                      | btree  | false      | true      | CREATE UNIQUE INDEX one_time_tokens_user_id_token_type_key ON auth.one_time_tokens USING btree (user_id, token_type)                                                                                                                                                           | 8192 bytes        | 205      | 0            | 0             |
| auth     | refresh_tokens                | refresh_tokens_instance_id_idx                              | btree  | false      | false     | CREATE INDEX refresh_tokens_instance_id_idx ON auth.refresh_tokens USING btree (instance_id)                                                                                                                                                                                   | 16 kB             | 0        | 0            | 0             |
| auth     | refresh_tokens                | refresh_tokens_instance_id_user_id_idx                      | btree  | false      | false     | CREATE INDEX refresh_tokens_instance_id_user_id_idx ON auth.refresh_tokens USING btree (instance_id, user_id)                                                                                                                                                                  | 16 kB             | 0        | 0            | 0             |
| auth     | refresh_tokens                | refresh_tokens_parent_idx                                   | btree  | false      | false     | CREATE INDEX refresh_tokens_parent_idx ON auth.refresh_tokens USING btree (parent)                                                                                                                                                                                             | 16 kB             | 0        | 0            | 0             |
| auth     | refresh_tokens                | refresh_tokens_pkey                                         | btree  | true       | true      | CREATE UNIQUE INDEX refresh_tokens_pkey ON auth.refresh_tokens USING btree (id)                                                                                                                                                                                                | 16 kB             | 0        | 0            | 0             |
| auth     | refresh_tokens                | refresh_tokens_session_id_revoked_idx                       | btree  | false      | false     | CREATE INDEX refresh_tokens_session_id_revoked_idx ON auth.refresh_tokens USING btree (session_id, revoked)                                                                                                                                                                    | 40 kB             | 4        | 4            | 4             |
| auth     | refresh_tokens                | refresh_tokens_token_unique                                 | btree  | false      | true      | CREATE UNIQUE INDEX refresh_tokens_token_unique ON auth.refresh_tokens USING btree (token)                                                                                                                                                                                     | 32 kB             | 0        | 0            | 0             |
| auth     | refresh_tokens                | refresh_tokens_updated_at_idx                               | btree  | false      | false     | CREATE INDEX refresh_tokens_updated_at_idx ON auth.refresh_tokens USING btree (updated_at DESC)                                                                                                                                                                                | 16 kB             | 0        | 0            | 0             |
| auth     | saml_providers                | saml_providers_entity_id_key                                | btree  | false      | true      | CREATE UNIQUE INDEX saml_providers_entity_id_key ON auth.saml_providers USING btree (entity_id)                                                                                                                                                                                | 8192 bytes        | 0        | 0            | 0             |
| auth     | saml_providers                | saml_providers_pkey                                         | btree  | true       | true      | CREATE UNIQUE INDEX saml_providers_pkey ON auth.saml_providers USING btree (id)                                                                                                                                                                                                | 8192 bytes        | 0        | 0            | 0             |
| auth     | saml_providers                | saml_providers_sso_provider_id_idx                          | btree  | false      | false     | CREATE INDEX saml_providers_sso_provider_id_idx ON auth.saml_providers USING btree (sso_provider_id)                                                                                                                                                                           | 8192 bytes        | 0        | 0            | 0             |
| auth     | saml_relay_states             | saml_relay_states_created_at_idx                            | btree  | false      | false     | CREATE INDEX saml_relay_states_created_at_idx ON auth.saml_relay_states USING btree (created_at DESC)                                                                                                                                                                          | 8192 bytes        | 0        | 0            | 0             |
| auth     | saml_relay_states             | saml_relay_states_for_email_idx                             | btree  | false      | false     | CREATE INDEX saml_relay_states_for_email_idx ON auth.saml_relay_states USING btree (for_email)                                                                                                                                                                                 | 8192 bytes        | 0        | 0            | 0             |
| auth     | saml_relay_states             | saml_relay_states_pkey                                      | btree  | true       | true      | CREATE UNIQUE INDEX saml_relay_states_pkey ON auth.saml_relay_states USING btree (id)                                                                                                                                                                                          | 8192 bytes        | 0        | 0            | 0             |
| auth     | saml_relay_states             | saml_relay_states_sso_provider_id_idx                       | btree  | false      | false     | CREATE INDEX saml_relay_states_sso_provider_id_idx ON auth.saml_relay_states USING btree (sso_provider_id)                                                                                                                                                                     | 8192 bytes        | 0        | 0            | 0             |
| auth     | schema_migrations             | schema_migrations_pkey                                      | btree  | true       | true      | CREATE UNIQUE INDEX schema_migrations_pkey ON auth.schema_migrations USING btree (version)                                                                                                                                                                                     | 16 kB             | 111      | 55           | 55            |
| auth     | sessions                      | sessions_not_after_idx                                      | btree  | false      | false     | CREATE INDEX sessions_not_after_idx ON auth.sessions USING btree (not_after DESC)                                                                                                                                                                                              | 16 kB             | 0        | 0            | 0             |
| auth     | sessions                      | sessions_oauth_client_id_idx                                | btree  | false      | false     | CREATE INDEX sessions_oauth_client_id_idx ON auth.sessions USING btree (oauth_client_id)                                                                                                                                                                                       | 16 kB             | 0        | 0            | 0             |
| auth     | sessions                      | sessions_pkey                                               | btree  | true       | true      | CREATE UNIQUE INDEX sessions_pkey ON auth.sessions USING btree (id)                                                                                                                                                                                                            | 32 kB             | 867      | 867          | 867           |
| auth     | sessions                      | sessions_user_id_idx                                        | btree  | false      | false     | CREATE INDEX sessions_user_id_idx ON auth.sessions USING btree (user_id)                                                                                                                                                                                                       | 16 kB             | 93       | 4            | 2             |
| auth     | sessions                      | user_id_created_at_idx                                      | btree  | false      | false     | CREATE INDEX user_id_created_at_idx ON auth.sessions USING btree (user_id, created_at)                                                                                                                                                                                         | 40 kB             | 0        | 0            | 0             |
| auth     | sso_domains                   | sso_domains_domain_idx                                      | btree  | false      | true      | CREATE UNIQUE INDEX sso_domains_domain_idx ON auth.sso_domains USING btree (lower(domain))                                                                                                                                                                                     | 8192 bytes        | 0        | 0            | 0             |
| auth     | sso_domains                   | sso_domains_pkey                                            | btree  | true       | true      | CREATE UNIQUE INDEX sso_domains_pkey ON auth.sso_domains USING btree (id)                                                                                                                                                                                                      | 8192 bytes        | 0        | 0            | 0             |
| auth     | sso_domains                   | sso_domains_sso_provider_id_idx                             | btree  | false      | false     | CREATE INDEX sso_domains_sso_provider_id_idx ON auth.sso_domains USING btree (sso_provider_id)                                                                                                                                                                                 | 8192 bytes        | 0        | 0            | 0             |
| auth     | sso_providers                 | sso_providers_pkey                                          | btree  | true       | true      | CREATE UNIQUE INDEX sso_providers_pkey ON auth.sso_providers USING btree (id)                                                                                                                                                                                                  | 8192 bytes        | 0        | 0            | 0             |
| auth     | sso_providers                 | sso_providers_resource_id_idx                               | btree  | false      | true      | CREATE UNIQUE INDEX sso_providers_resource_id_idx ON auth.sso_providers USING btree (lower(resource_id))                                                                                                                                                                       | 8192 bytes        | 0        | 0            | 0             |
| auth     | sso_providers                 | sso_providers_resource_id_pattern_idx                       | btree  | false      | false     | CREATE INDEX sso_providers_resource_id_pattern_idx ON auth.sso_providers USING btree (resource_id text_pattern_ops)                                                                                                                                                            | 8192 bytes        | 0        | 0            | 0             |
| auth     | users                         | confirmation_token_idx                                      | btree  | false      | true      | CREATE UNIQUE INDEX confirmation_token_idx ON auth.users USING btree (confirmation_token) WHERE ((confirmation_token)::text !~ '^[0-9 ]*$'::text)                                                                                                                              | 8192 bytes        | 0        | 0            | 0             |
| auth     | users                         | email_change_token_current_idx                              | btree  | false      | true      | CREATE UNIQUE INDEX email_change_token_current_idx ON auth.users USING btree (email_change_token_current) WHERE ((email_change_token_current)::text !~ '^[0-9 ]*$'::text)                                                                                                      | 8192 bytes        | 0        | 0            | 0             |
| auth     | users                         | email_change_token_new_idx                                  | btree  | false      | true      | CREATE UNIQUE INDEX email_change_token_new_idx ON auth.users USING btree (email_change_token_new) WHERE ((email_change_token_new)::text !~ '^[0-9 ]*$'::text)                                                                                                                  | 8192 bytes        | 0        | 0            | 0             |
| auth     | users                         | reauthentication_token_idx                                  | btree  | false      | true      | CREATE UNIQUE INDEX reauthentication_token_idx ON auth.users USING btree (reauthentication_token) WHERE ((reauthentication_token)::text !~ '^[0-9 ]*$'::text)                                                                                                                  | 8192 bytes        | 0        | 0            | 0             |
| auth     | users                         | recovery_token_idx                                          | btree  | false      | true      | CREATE UNIQUE INDEX recovery_token_idx ON auth.users USING btree (recovery_token) WHERE ((recovery_token)::text !~ '^[0-9 ]*$'::text)                                                                                                                                          | 8192 bytes        | 0        | 0            | 0             |
| auth     | users                         | users_email_partial_key                                     | btree  | false      | true      | CREATE UNIQUE INDEX users_email_partial_key ON auth.users USING btree (email) WHERE (is_sso_user = false)                                                                                                                                                                      | 16 kB             | 0        | 0            | 0             |
| auth     | users                         | users_instance_id_email_idx                                 | btree  | false      | false     | CREATE INDEX users_instance_id_email_idx ON auth.users USING btree (instance_id, lower((email)::text))                                                                                                                                                                         | 16 kB             | 103      | 101          | 93            |
| auth     | users                         | users_instance_id_idx                                       | btree  | false      | false     | CREATE INDEX users_instance_id_idx ON auth.users USING btree (instance_id)                                                                                                                                                                                                     | 16 kB             | 0        | 0            | 0             |
| auth     | users                         | users_is_anonymous_idx                                      | btree  | false      | false     | CREATE INDEX users_is_anonymous_idx ON auth.users USING btree (is_anonymous)                                                                                                                                                                                                   | 16 kB             | 2        | 0            | 0             |
| auth     | users                         | users_phone_key                                             | btree  | false      | true      | CREATE UNIQUE INDEX users_phone_key ON auth.users USING btree (phone)                                                                                                                                                                                                          | 16 kB             | 0        | 0            | 0             |
| auth     | users                         | users_pkey                                                  | btree  | true       | true      | CREATE UNIQUE INDEX users_pkey ON auth.users USING btree (id)                                                                                                                                                                                                                  | 16 kB             | 313      | 309          | 259           |
| cron     | job                           | job_pkey                                                    | btree  | true       | true      | CREATE UNIQUE INDEX job_pkey ON cron.job USING btree (jobid)                                                                                                                                                                                                                   | 16 kB             | 20       | 20           | 20            |
| cron     | job                           | jobname_username_uniq                                       | btree  | false      | true      | CREATE UNIQUE INDEX jobname_username_uniq ON cron.job USING btree (jobname, username)                                                                                                                                                                                          | 16 kB             | 44       | 51           | 18            |
| cron     | job_run_details               | job_run_details_pkey                                        | btree  | true       | true      | CREATE UNIQUE INDEX job_run_details_pkey ON cron.job_run_details USING btree (runid)                                                                                                                                                                                           | 16 kB             | 0        | 0            | 0             |
| public   | activity_action_types         | activity_action_types_pkey                                  | btree  | true       | true      | CREATE UNIQUE INDEX activity_action_types_pkey ON public.activity_action_types USING btree (action_type)                                                                                                                                                                       | 16 kB             | 139      | 936          | 925           |
| public   | activitylogs                  | activitylogs_pkey                                           | btree  | true       | true      | CREATE UNIQUE INDEX activitylogs_pkey ON public.activitylogs USING btree (log_id)                                                                                                                                                                                              | 32 kB             | 520      | 83992        | 83043         |
| public   | activitylogs                  | idx_activitylogs_action_time                                | btree  | false      | false     | CREATE INDEX idx_activitylogs_action_time ON public.activitylogs USING btree (action_type, "timestamp" DESC)                                                                                                                                                                   | 40 kB             | 116      | 12201        | 3062          |
| public   | activitylogs                  | idx_activitylogs_user_login                                 | btree  | false      | false     | CREATE INDEX idx_activitylogs_user_login ON public.activitylogs USING btree (user_id, action_type, "timestamp" DESC)                                                                                                                                                           | 40 kB             | 6250     | 118849       | 25311         |
| public   | birthhistory                  | birthhistory_pkey                                           | btree  | true       | true      | CREATE UNIQUE INDEX birthhistory_pkey ON public.birthhistory USING btree (birthhistory_id)                                                                                                                                                                                     | 16 kB             | 81       | 13           | 9             |
| public   | birthhistory                  | uq_birthhistory_patient                                     | btree  | false      | true      | CREATE UNIQUE INDEX uq_birthhistory_patient ON public.birthhistory USING btree (patient_id) WHERE (is_deleted = false)                                                                                                                                                         | 16 kB             | 3921     | 3737         | 3734          |
| public   | conversationparticipants      | conversationparticipants_pkey                               | btree  | true       | true      | CREATE UNIQUE INDEX conversationparticipants_pkey ON public.conversationparticipants USING btree (conversation_participant_id)                                                                                                                                                 | 16 kB             | 171      | 164          | 156           |
| public   | conversationparticipants      | idx_conversationparticipants_user_active                    | btree  | false      | false     | CREATE INDEX idx_conversationparticipants_user_active ON public.conversationparticipants USING btree (user_id) WHERE (is_deleted = false)                                                                                                                                      | 16 kB             | 0        | 0            | 0             |
| public   | conversations                 | conversations_pkey                                          | btree  | true       | true      | CREATE UNIQUE INDEX conversations_pkey ON public.conversations USING btree (conversation_id)                                                                                                                                                                                   | 16 kB             | 450      | 446          | 146           |
| public   | defaulters_mv                 | idx_defaulters_overdue_count                                | btree  | false      | false     | CREATE INDEX idx_defaulters_overdue_count ON public.defaulters_mv USING btree (overdue_count DESC)                                                                                                                                                                             | 8192 bytes        | 0        | 0            | 0             |
| public   | deworming                     | deworming_pkey                                              | btree  | true       | true      | CREATE UNIQUE INDEX deworming_pkey ON public.deworming USING btree (deworming_id)                                                                                                                                                                                              | 8192 bytes        | 107      | 6            | 6             |
| public   | deworming                     | idx_deworming_inventory_active                              | btree  | false      | false     | CREATE INDEX idx_deworming_inventory_active ON public.deworming USING btree (inventory_id) WHERE (is_deleted = false)                                                                                                                                                          | 8192 bytes        | 0        | 0            | 0             |
| public   | deworming                     | idx_deworming_outside_flag                                  | btree  | false      | false     | CREATE INDEX idx_deworming_outside_flag ON public.deworming USING btree (outside) WHERE (is_deleted = false)                                                                                                                                                                   | 8192 bytes        | 0        | 0            | 0             |
| public   | deworming                     | idx_deworming_patient_active                                | btree  | false      | false     | CREATE INDEX idx_deworming_patient_active ON public.deworming USING btree (patient_id) WHERE (is_deleted = false)                                                                                                                                                              | 8192 bytes        | 0        | 0            | 0             |
| public   | deworming                     | idx_deworming_vaccine_active                                | btree  | false      | false     | CREATE INDEX idx_deworming_vaccine_active ON public.deworming USING btree (vaccine_id) WHERE (is_deleted = false)                                                                                                                                                              | 8192 bytes        | 0        | 0            | 0             |
| public   | deworming                     | idx_deworming_visit_active                                  | btree  | false      | false     | CREATE INDEX idx_deworming_visit_active ON public.deworming USING btree (visit_id) WHERE (is_deleted = false)                                                                                                                                                                  | 8192 bytes        | 0        | 0            | 0             |
| public   | deworming                     | idx_deworming_vital_active                                  | btree  | false      | false     | CREATE INDEX idx_deworming_vital_active ON public.deworming USING btree (vital_id) WHERE (is_deleted = false)                                                                                                                                                                  | 8192 bytes        | 0        | 0            | 0             |
| public   | deworming_history             | deworming_history_deworming_id_version_no_idx               | btree  | false      | false     | CREATE INDEX deworming_history_deworming_id_version_no_idx ON public.deworming_history USING btree (deworming_id, version_no DESC)                                                                                                                                             | 8192 bytes        | 0        | 0            | 0             |
| public   | deworming_history             | deworming_history_pkey                                      | btree  | true       | true      | CREATE UNIQUE INDEX deworming_history_pkey ON public.deworming_history USING btree (history_id)                                                                                                                                                                                | 8192 bytes        | 87       | 0            | 0             |
| public   | faqs                          | faqs_pkey                                                   | btree  | true       | true      | CREATE UNIQUE INDEX faqs_pkey ON public.faqs USING btree (faq_id)                                                                                                                                                                                                              | 16 kB             | 11       | 18           | 18            |
| public   | guardians                     | guardians_contact_number_key                                | btree  | false      | true      | CREATE UNIQUE INDEX guardians_contact_number_key ON public.guardians USING btree (contact_number)                                                                                                                                                                              | 16 kB             | 0        | 0            | 0             |
| public   | guardians                     | guardians_pkey                                              | btree  | true       | true      | CREATE UNIQUE INDEX guardians_pkey ON public.guardians USING btree (guardian_id)                                                                                                                                                                                               | 16 kB             | 15784    | 15760        | 15733         |
| public   | guardians                     | guardians_user_id_uniq                                      | btree  | false      | true      | CREATE UNIQUE INDEX guardians_user_id_uniq ON public.guardians USING btree (user_id) WHERE (COALESCE(is_deleted, false) = false)                                                                                                                                               | 16 kB             | 0        | 0            | 0             |
| public   | health_staff_types            | health_staff_types_pkey                                     | btree  | true       | true      | CREATE UNIQUE INDEX health_staff_types_pkey ON public.health_staff_types USING btree (code)                                                                                                                                                                                    | 16 kB             | 90       | 258          | 257           |
| public   | immunizations                 | idx_immunizations_inventory_active                          | btree  | false      | false     | CREATE INDEX idx_immunizations_inventory_active ON public.immunizations USING btree (inventory_id) WHERE (is_deleted = false)                                                                                                                                                  | 16 kB             | 0        | 0            | 0             |
| public   | immunizations                 | idx_immunizations_outside_flag                              | btree  | false      | false     | CREATE INDEX idx_immunizations_outside_flag ON public.immunizations USING btree (outside) WHERE (is_deleted = false)                                                                                                                                                           | 16 kB             | 0        | 0            | 0             |
| public   | immunizations                 | idx_immunizations_patient_active                            | btree  | false      | false     | CREATE INDEX idx_immunizations_patient_active ON public.immunizations USING btree (patient_id) WHERE (is_deleted = false)                                                                                                                                                      | 16 kB             | 37       | 64           | 4             |
| public   | immunizations                 | idx_immunizations_vaccine_active                            | btree  | false      | false     | CREATE INDEX idx_immunizations_vaccine_active ON public.immunizations USING btree (vaccine_id) WHERE (is_deleted = false)                                                                                                                                                      | 16 kB             | 13       | 35           | 0             |
| public   | immunizations                 | idx_immunizations_vaccine_dose                              | btree  | false      | false     | CREATE INDEX idx_immunizations_vaccine_dose ON public.immunizations USING btree (vaccine_id, dose_number)                                                                                                                                                                      | 16 kB             | 37       | 24           | 0             |
| public   | immunizations                 | idx_immunizations_visit_active                              | btree  | false      | false     | CREATE INDEX idx_immunizations_visit_active ON public.immunizations USING btree (visit_id) WHERE (is_deleted = false)                                                                                                                                                          | 16 kB             | 0        | 0            | 0             |
| public   | immunizations                 | idx_immunizations_visit_vaccine                             | btree  | false      | false     | CREATE INDEX idx_immunizations_visit_vaccine ON public.immunizations USING btree (visit_id, vaccine_id)                                                                                                                                                                        | 16 kB             | 5197     | 5902         | 5638          |
| public   | immunizations                 | idx_immunizations_vital_active                              | btree  | false      | false     | CREATE INDEX idx_immunizations_vital_active ON public.immunizations USING btree (vital_id) WHERE (is_deleted = false)                                                                                                                                                          | 16 kB             | 0        | 0            | 0             |
| public   | immunizations                 | immunizations_pkey                                          | btree  | true       | true      | CREATE UNIQUE INDEX immunizations_pkey ON public.immunizations USING btree (immunization_id)                                                                                                                                                                                   | 16 kB             | 170      | 1947         | 1943          |
| public   | immunizations_history         | idx_immunizations_history_changed_fields                    | gin    | false      | false     | CREATE INDEX idx_immunizations_history_changed_fields ON public.immunizations_history USING gin (changed_fields)                                                                                                                                                               | 16 kB             | 0        | 0            | 0             |
| public   | immunizations_history         | idx_immunizations_history_im                                | btree  | false      | false     | CREATE INDEX idx_immunizations_history_im ON public.immunizations_history USING btree (immunization_id, version_no DESC)                                                                                                                                                       | 8192 bytes        | 4        | 3            | 1             |
| public   | immunizations_history         | immunizations_history_pkey                                  | btree  | true       | true      | CREATE UNIQUE INDEX immunizations_history_pkey ON public.immunizations_history USING btree (history_id)                                                                                                                                                                        | 8192 bytes        | 158      | 30           | 22            |
| public   | inventory                     | idx_inventory_vaccine                                       | btree  | false      | false     | CREATE INDEX idx_inventory_vaccine ON public.inventory USING btree (vaccine_id) WHERE (is_deleted = false)                                                                                                                                                                     | 16 kB             | 34       | 0            | 0             |
| public   | inventory                     | idx_inventory_vaccine_expiration                            | btree  | false      | false     | CREATE INDEX idx_inventory_vaccine_expiration ON public.inventory USING btree (vaccine_id, expiration_date)                                                                                                                                                                    | 16 kB             | 14       | 55           | 0             |
| public   | inventory                     | idx_inventory_vaccine_lot                                   | btree  | false      | false     | CREATE INDEX idx_inventory_vaccine_lot ON public.inventory USING btree (vaccine_id, lot_number)                                                                                                                                                                                | 16 kB             | 384      | 384          | 384           |
| public   | inventory                     | inventory_pkey                                              | btree  | true       | true      | CREATE UNIQUE INDEX inventory_pkey ON public.inventory USING btree (inventory_id)                                                                                                                                                                                              | 16 kB             | 254      | 518          | 474           |
| public   | inventory                     | ux_inventory_identity_active                                | btree  | false      | true      | CREATE UNIQUE INDEX ux_inventory_identity_active ON public.inventory USING btree (vaccine_id, lot_number, expiration_date, COALESCE(storage_location, ''::text)) WHERE (is_deleted = false)                                                                                    | 16 kB             | 0        | 0            | 0             |
| public   | inventory_history             | idx_inventory_history_inv                                   | btree  | false      | false     | CREATE INDEX idx_inventory_history_inv ON public.inventory_history USING btree (inventory_id, version_no DESC)                                                                                                                                                                 | 16 kB             | 166      | 198          | 112           |
| public   | inventory_history             | inventory_history_pkey                                      | btree  | true       | true      | CREATE UNIQUE INDEX inventory_history_pkey ON public.inventory_history USING btree (history_id)                                                                                                                                                                                | 16 kB             | 135      | 877          | 787           |
| public   | inventory_requests            | idx_inventory_requests_status                               | btree  | false      | false     | CREATE INDEX idx_inventory_requests_status ON public.inventory_requests USING btree (status, requested_at)                                                                                                                                                                     | 8192 bytes        | 0        | 0            | 0             |
| public   | inventory_requests            | inventory_requests_pkey                                     | btree  | true       | true      | CREATE UNIQUE INDEX inventory_requests_pkey ON public.inventory_requests USING btree (request_id)                                                                                                                                                                              | 8192 bytes        | 144      | 0            | 0             |
| public   | inventory_requests_history    | inventory_requests_history_pkey                             | btree  | true       | true      | CREATE UNIQUE INDEX inventory_requests_history_pkey ON public.inventory_requests_history USING btree (history_id)                                                                                                                                                              | 8192 bytes        | 131      | 0            | 0             |
| public   | inventory_requests_history    | inventory_requests_history_request_id_version_no_idx        | btree  | false      | false     | CREATE INDEX inventory_requests_history_request_id_version_no_idx ON public.inventory_requests_history USING btree (request_id, version_no DESC)                                                                                                                               | 8192 bytes        | 0        | 0            | 0             |
| public   | inventorytransactions         | inventorytransactions_pkey                                  | btree  | true       | true      | CREATE UNIQUE INDEX inventorytransactions_pkey ON public.inventorytransactions USING btree (transaction_id)                                                                                                                                                                    | 16 kB             | 97       | 270          | 238           |
| public   | inventorytransactions_history | inventorytransactions_history_pkey                          | btree  | true       | true      | CREATE UNIQUE INDEX inventorytransactions_history_pkey ON public.inventorytransactions_history USING btree (history_id)                                                                                                                                                        | 16 kB             | 54       | 158          | 105           |
| public   | inventorytransactions_history | inventorytransactions_history_transaction_id_version_no_idx | btree  | false      | false     | CREATE INDEX inventorytransactions_history_transaction_id_version_no_idx ON public.inventorytransactions_history USING btree (transaction_id, version_no DESC)                                                                                                                 | 16 kB             | 243      | 950          | 555           |
| public   | message_receipts              | idx_message_receipts_user_unread                            | btree  | false      | false     | CREATE INDEX idx_message_receipts_user_unread ON public.message_receipts USING btree (user_id, read_at) WHERE (read_at IS NULL)                                                                                                                                                | 16 kB             | 153      | 330          | 330           |
| public   | message_receipts              | message_receipts_message_id_user_id_key                     | btree  | false      | true      | CREATE UNIQUE INDEX message_receipts_message_id_user_id_key ON public.message_receipts USING btree (message_id, user_id)                                                                                                                                                       | 16 kB             | 2971     | 11312        | 2948          |
| public   | message_receipts              | message_receipts_pkey                                       | btree  | true       | true      | CREATE UNIQUE INDEX message_receipts_pkey ON public.message_receipts USING btree (receipt_id)                                                                                                                                                                                  | 16 kB             | 20       | 42           | 42            |
| public   | messages                      | idx_messages_conversation_created                           | btree  | false      | false     | CREATE INDEX idx_messages_conversation_created ON public.messages USING btree (conversation_id, created_at DESC NULLS LAST)                                                                                                                                                    | 16 kB             | 0        | 0            | 0             |
| public   | messages                      | idx_messages_conversation_created_at                        | btree  | false      | false     | CREATE INDEX idx_messages_conversation_created_at ON public.messages USING btree (conversation_id, created_at DESC)                                                                                                                                                            | 16 kB             | 3468     | 17986        | 209           |
| public   | messages                      | idx_messages_conversation_time                              | btree  | false      | false     | CREATE INDEX idx_messages_conversation_time ON public.messages USING btree (conversation_id, created_at DESC) WHERE (is_deleted = false)                                                                                                                                       | 16 kB             | 0        | 0            | 0             |
| public   | messages                      | idx_messages_conversation_ts                                | btree  | false      | false     | CREATE INDEX idx_messages_conversation_ts ON public.messages USING btree (conversation_id, created_at DESC)                                                                                                                                                                    | 16 kB             | 0        | 0            | 0             |
| public   | messages                      | idx_messages_conversation_unread                            | btree  | false      | false     | CREATE INDEX idx_messages_conversation_unread ON public.messages USING btree (conversation_id) WHERE ((read_at IS NULL) AND (is_deleted = false))                                                                                                                              | 16 kB             | 0        | 0            | 0             |
| public   | messages                      | idx_messages_sender_created                                 | btree  | false      | false     | CREATE INDEX idx_messages_sender_created ON public.messages USING btree (sender_id, created_at DESC NULLS LAST)                                                                                                                                                                | 16 kB             | 52       | 0            | 0             |
| public   | messages                      | idx_messages_sender_ts                                      | btree  | false      | false     | CREATE INDEX idx_messages_sender_ts ON public.messages USING btree (sender_id, created_at DESC)                                                                                                                                                                                | 16 kB             | 0        | 0            | 0             |
| public   | messages                      | messages_pkey                                               | btree  | true       | true      | CREATE UNIQUE INDEX messages_pkey ON public.messages USING btree (message_id)                                                                                                                                                                                                  | 16 kB             | 1700     | 7258         | 140           |
| public   | notifications                 | idx_notifications_channel                                   | btree  | false      | false     | CREATE INDEX idx_notifications_channel ON public.notifications USING btree (channel)                                                                                                                                                                                           | 16 kB             | 0        | 0            | 0             |
| public   | notifications                 | idx_notifications_created_at                                | btree  | false      | false     | CREATE INDEX idx_notifications_created_at ON public.notifications USING btree (created_at)                                                                                                                                                                                     | 16 kB             | 0        | 0            | 0             |
| public   | notifications                 | idx_notifications_recipient_status_created                  | btree  | false      | false     | CREATE INDEX idx_notifications_recipient_status_created ON public.notifications USING btree (recipient_user_id, status, created_at DESC NULLS LAST)                                                                                                                            | 16 kB             | 52       | 0            | 0             |
| public   | notifications                 | idx_notifications_recipient_user_id                         | btree  | false      | false     | CREATE INDEX idx_notifications_recipient_user_id ON public.notifications USING btree (recipient_user_id)                                                                                                                                                                       | 16 kB             | 0        | 0            | 0             |
| public   | notifications                 | idx_notifications_scheduled_at                              | btree  | false      | false     | CREATE INDEX idx_notifications_scheduled_at ON public.notifications USING btree (scheduled_at)                                                                                                                                                                                 | 16 kB             | 0        | 0            | 0             |
| public   | notifications                 | idx_notifications_status                                    | btree  | false      | false     | CREATE INDEX idx_notifications_status ON public.notifications USING btree (status)                                                                                                                                                                                             | 16 kB             | 0        | 0            | 0             |
| public   | notifications                 | idx_notifications_status_time                               | btree  | false      | false     | CREATE INDEX idx_notifications_status_time ON public.notifications USING btree (status, scheduled_at) WHERE (is_deleted = false)                                                                                                                                               | 16 kB             | 0        | 0            | 0             |
| public   | notifications                 | idx_notifications_status_ts                                 | btree  | false      | false     | CREATE INDEX idx_notifications_status_ts ON public.notifications USING btree (status, created_at DESC)                                                                                                                                                                         | 16 kB             | 0        | 0            | 0             |
| public   | notifications                 | idx_notifications_unread                                    | btree  | false      | false     | CREATE INDEX idx_notifications_unread ON public.notifications USING btree (recipient_user_id) WHERE ((read_at IS NULL) AND (is_deleted = false))                                                                                                                               | 16 kB             | 0        | 0            | 0             |
| public   | notifications                 | idx_notifications_user_ts                                   | btree  | false      | false     | CREATE INDEX idx_notifications_user_ts ON public.notifications USING btree (recipient_user_id, created_at DESC)                                                                                                                                                                | 16 kB             | 998      | 0            | 0             |
| public   | notifications                 | notifications_pkey                                          | btree  | true       | true      | CREATE UNIQUE INDEX notifications_pkey ON public.notifications USING btree (notification_id)                                                                                                                                                                                   | 16 kB             | 114      | 0            | 0             |
| public   | patients                      | idx_patients_active_name                                    | btree  | false      | false     | CREATE INDEX idx_patients_active_name ON public.patients USING btree (firstname, middlename, surname) WHERE (is_deleted = false)                                                                                                                                               | 16 kB             | 0        | 0            | 0             |
| public   | patients                      | idx_patients_dob                                            | btree  | false      | false     | CREATE INDEX idx_patients_dob ON public.patients USING btree (date_of_birth)                                                                                                                                                                                                   | 16 kB             | 11       | 43           | 17            |
| public   | patients                      | idx_patients_full_name_trgm                                 | gin    | false      | false     | CREATE INDEX idx_patients_full_name_trgm ON public.patients USING gin (full_name gin_trgm_ops) WHERE (is_deleted = false)                                                                                                                                                      | 24 kB             | 0        | 0            | 0             |
| public   | patients                      | idx_patients_guardian_active                                | btree  | false      | false     | CREATE INDEX idx_patients_guardian_active ON public.patients USING btree (guardian_id) WHERE (is_deleted = false)                                                                                                                                                              | 16 kB             | 16       | 449          | 3             |
| public   | patients                      | idx_patients_qr_nonce                                       | btree  | false      | false     | CREATE INDEX idx_patients_qr_nonce ON public.patients USING btree (qr_nonce)                                                                                                                                                                                                   | 16 kB             | 0        | 0            | 0             |
| public   | patients                      | patients_pkey                                               | btree  | true       | true      | CREATE UNIQUE INDEX patients_pkey ON public.patients USING btree (patient_id)                                                                                                                                                                                                  | 16 kB             | 41609    | 48236        | 46362         |
| public   | patients_history              | idx_patients_history_changed_fields                         | gin    | false      | false     | CREATE INDEX idx_patients_history_changed_fields ON public.patients_history USING gin (changed_fields)                                                                                                                                                                         | 56 kB             | 0        | 0            | 0             |
| public   | patients_history              | idx_patients_history_patient                                | btree  | false      | false     | CREATE INDEX idx_patients_history_patient ON public.patients_history USING btree (patient_id, version_no DESC)                                                                                                                                                                 | 16 kB             | 691      | 780          | 648           |
| public   | patients_history              | patients_history_pkey                                       | btree  | true       | true      | CREATE UNIQUE INDEX patients_history_pkey ON public.patients_history USING btree (history_id)                                                                                                                                                                                  | 16 kB             | 111      | 3760         | 3651          |
| public   | patientschedule               | idx_patientschedule_overdue                                 | btree  | false      | false     | CREATE INDEX idx_patientschedule_overdue ON public.patientschedule USING btree (patient_id, scheduled_date) WHERE (((status)::text = ANY ((ARRAY['Scheduled'::character varying, 'Due'::character varying, 'Overdue'::character varying])::text[])) AND (actual_date IS NULL)) | 16 kB             | 0        | 0            | 0             |
| public   | patientschedule               | idx_patientschedule_patient                                 | btree  | false      | false     | CREATE INDEX idx_patientschedule_patient ON public.patientschedule USING btree (patient_id)                                                                                                                                                                                    | 16 kB             | 4979     | 90904        | 72078         |
| public   | patientschedule               | idx_patientschedule_patient_status                          | btree  | false      | false     | CREATE INDEX idx_patientschedule_patient_status ON public.patientschedule USING btree (patient_id, status)                                                                                                                                                                     | 16 kB             | 4016     | 13444        | 5313          |
| public   | patientschedule               | idx_patientschedule_status_date                             | btree  | false      | false     | CREATE INDEX idx_patientschedule_status_date ON public.patientschedule USING btree (status, scheduled_date)                                                                                                                                                                    | 16 kB             | 190      | 547          | 535           |
| public   | patientschedule               | idx_patientschedule_status_patient                          | btree  | false      | false     | CREATE INDEX idx_patientschedule_status_patient ON public.patientschedule USING btree (status, patient_id)                                                                                                                                                                     | 16 kB             | 1097     | 611          | 610           |
| public   | patientschedule               | idx_patientschedule_vaccine_patient                         | btree  | false      | false     | CREATE INDEX idx_patientschedule_vaccine_patient ON public.patientschedule USING btree (vaccine_id, patient_id)                                                                                                                                                                | 16 kB             | 6091     | 29982        | 16085         |
| public   | patientschedule               | patientschedule_pkey                                        | btree  | true       | true      | CREATE UNIQUE INDEX patientschedule_pkey ON public.patientschedule USING btree (patient_schedule_id)                                                                                                                                                                           | 16 kB             | 13951    | 36077        | 27065         |
| public   | patientschedule               | uq_patientschedule_patient_vax_dose                         | btree  | false      | true      | CREATE UNIQUE INDEX uq_patientschedule_patient_vax_dose ON public.patientschedule USING btree (patient_id, vaccine_id, dose_number)                                                                                                                                            | 16 kB             | 8290     | 17517        | 14175         |
| public   | patientschedule               | uq_patientschedule_unique                                   | btree  | false      | true      | CREATE UNIQUE INDEX uq_patientschedule_unique ON public.patientschedule USING btree (patient_id, vaccine_id, dose_number)                                                                                                                                                      | 16 kB             | 505      | 108          | 43            |
| public   | patientschedule_history       | idx_patientschedule_history_ps                              | btree  | false      | false     | CREATE INDEX idx_patientschedule_history_ps ON public.patientschedule_history USING btree (patient_schedule_id, version_no DESC)                                                                                                                                               | 32 kB             | 2246     | 2291         | 1822          |
| public   | patientschedule_history       | idx_ps_history_changed_fields                               | gin    | false      | false     | CREATE INDEX idx_ps_history_changed_fields ON public.patientschedule_history USING gin (changed_fields)                                                                                                                                                                        | 72 kB             | 0        | 0            | 0             |
| public   | patientschedule_history       | patientschedule_history_pkey                                | btree  | true       | true      | CREATE UNIQUE INDEX patientschedule_history_pkey ON public.patientschedule_history USING btree (history_id)                                                                                                                                                                    | 16 kB             | 117      | 14863        | 13983         |
| public   | receiving_report_items        | idx_receiving_report_items_inventory_id                     | btree  | false      | false     | CREATE INDEX idx_receiving_report_items_inventory_id ON public.receiving_report_items USING btree (inventory_id)                                                                                                                                                               | 16 kB             | 0        | 0            | 0             |
| public   | receiving_report_items        | idx_receiving_report_items_report_id                        | btree  | false      | false     | CREATE INDEX idx_receiving_report_items_report_id ON public.receiving_report_items USING btree (report_id)                                                                                                                                                                     | 16 kB             | 171      | 403          | 375           |
| public   | receiving_report_items        | idx_receiving_report_items_vaccine_id                       | btree  | false      | false     | CREATE INDEX idx_receiving_report_items_vaccine_id ON public.receiving_report_items USING btree (vaccine_id)                                                                                                                                                                   | 16 kB             | 0        | 0            | 0             |
| public   | receiving_report_items        | receiving_report_items_pkey                                 | btree  | true       | true      | CREATE UNIQUE INDEX receiving_report_items_pkey ON public.receiving_report_items USING btree (item_id)                                                                                                                                                                         | 16 kB             | 78       | 332          | 309           |
| public   | receiving_reports             | idx_receiving_reports_created_at                            | btree  | false      | false     | CREATE INDEX idx_receiving_reports_created_at ON public.receiving_reports USING btree (created_at)                                                                                                                                                                             | 16 kB             | 71       | 160          | 148           |
| public   | receiving_reports             | idx_receiving_reports_report_number                         | btree  | false      | false     | CREATE INDEX idx_receiving_reports_report_number ON public.receiving_reports USING btree (report_number)                                                                                                                                                                       | 16 kB             | 6        | 4            | 2             |
| public   | receiving_reports             | idx_receiving_reports_status                                | btree  | false      | false     | CREATE INDEX idx_receiving_reports_status ON public.receiving_reports USING btree (status)                                                                                                                                                                                     | 16 kB             | 0        | 0            | 0             |
| public   | receiving_reports             | receiving_reports_pkey                                      | btree  | true       | true      | CREATE UNIQUE INDEX receiving_reports_pkey ON public.receiving_reports USING btree (report_id)                                                                                                                                                                                 | 16 kB             | 191      | 225          | 212           |
| public   | receiving_reports             | receiving_reports_report_number_key                         | btree  | false      | true      | CREATE UNIQUE INDEX receiving_reports_report_number_key ON public.receiving_reports USING btree (report_number)                                                                                                                                                                | 16 kB             | 0        | 0            | 0             |
| public   | schedule_doses                | idx_schedule_doses_schedule                                 | btree  | false      | false     | CREATE INDEX idx_schedule_doses_schedule ON public.schedule_doses USING btree (schedule_id)                                                                                                                                                                                    | 16 kB             | 2910     | 6218         | 6207          |
| public   | schedule_doses                | schedule_doses_pkey                                         | btree  | true       | true      | CREATE UNIQUE INDEX schedule_doses_pkey ON public.schedule_doses USING btree (id)                                                                                                                                                                                              | 16 kB             | 115      | 638          | 607           |
| public   | schedule_doses                | schedule_doses_schedule_id_dose_number_key                  | btree  | false      | true      | CREATE UNIQUE INDEX schedule_doses_schedule_id_dose_number_key ON public.schedule_doses USING btree (schedule_id, dose_number)                                                                                                                                                 | 16 kB             | 0        | 0            | 0             |
| public   | schedule_doses                | uq_schedule_doses_schedule_dose                             | btree  | false      | true      | CREATE UNIQUE INDEX uq_schedule_doses_schedule_dose ON public.schedule_doses USING btree (schedule_id, dose_number)                                                                                                                                                            | 16 kB             | 12624    | 16099        | 15040         |
| public   | schedule_master               | idx_schedule_master_vaccine                                 | btree  | false      | false     | CREATE INDEX idx_schedule_master_vaccine ON public.schedule_master USING btree (vaccine_id)                                                                                                                                                                                    | 16 kB             | 0        | 0            | 0             |
| public   | schedule_master               | schedule_master_pkey                                        | btree  | true       | true      | CREATE UNIQUE INDEX schedule_master_pkey ON public.schedule_master USING btree (id)                                                                                                                                                                                            | 16 kB             | 413      | 759          | 751           |
| public   | schedule_master               | unique_vaccine_schedule                                     | btree  | false      | true      | CREATE UNIQUE INDEX unique_vaccine_schedule ON public.schedule_master USING btree (vaccine_id)                                                                                                                                                                                 | 16 kB             | 6991     | 6360         | 6360          |
| public   | schedule_master               | uq_schedule_master_vaccine                                  | btree  | false      | true      | CREATE UNIQUE INDEX uq_schedule_master_vaccine ON public.schedule_master USING btree (vaccine_id)                                                                                                                                                                              | 16 kB             | 7223     | 7182         | 7178          |
| public   | timestamp_normalization_audit | timestamp_normalization_audit_pkey                          | btree  | true       | true      | CREATE UNIQUE INDEX timestamp_normalization_audit_pkey ON public.timestamp_normalization_audit USING btree (table_name)                                                                                                                                                        | 8192 bytes        | 88       | 0            | 0             |
| public   | user_mapping                  | user_mapping_pkey                                           | btree  | true       | true      | CREATE UNIQUE INDEX user_mapping_pkey ON public.user_mapping USING btree (uuid)                                                                                                                                                                                                | 16 kB             | 550      | 904          | 860           |
| public   | user_mapping                  | user_mapping_user_id_key                                    | btree  | false      | true      | CREATE UNIQUE INDEX user_mapping_user_id_key ON public.user_mapping USING btree (user_id)                                                                                                                                                                                      | 16 kB             | 4955     | 5439         | 5409          |
| public   | users                         | idx_users_contact_number                                    | btree  | false      | false     | CREATE INDEX idx_users_contact_number ON public.users USING btree (contact_number)                                                                                                                                                                                             | 16 kB             | 0        | 0            | 0             |
| public   | users                         | idx_users_email_lower                                       | btree  | false      | false     | CREATE INDEX idx_users_email_lower ON public.users USING btree (lower((email)::text))                                                                                                                                                                                          | 16 kB             | 0        | 0            | 0             |
| public   | users                         | idx_users_full_name_trgm                                    | gin    | false      | false     | CREATE INDEX idx_users_full_name_trgm ON public.users USING gin (full_name gin_trgm_ops) WHERE (is_deleted = false)                                                                                                                                                            | 48 kB             | 0        | 0            | 0             |
| public   | users                         | idx_users_role_hwtype                                       | btree  | false      | false     | CREATE INDEX idx_users_role_hwtype ON public.users USING btree (role, hs_type)                                                                                                                                                                                                 | 16 kB             | 766      | 3782         | 3774          |
| public   | users                         | idx_users_role_status                                       | btree  | false      | false     | CREATE INDEX idx_users_role_status ON public.users USING btree (role, user_status) WHERE (is_deleted = false)                                                                                                                                                                  | 16 kB             | 0        | 0            | 0             |
| public   | users                         | idx_users_status                                            | btree  | false      | false     | CREATE INDEX idx_users_status ON public.users USING btree (user_status) WHERE (is_deleted = false)                                                                                                                                                                             | 16 kB             | 0        | 0            | 0             |
| public   | users                         | idx_users_username_lower                                    | btree  | false      | false     | CREATE INDEX idx_users_username_lower ON public.users USING btree (lower((username)::text))                                                                                                                                                                                    | 16 kB             | 0        | 0            | 0             |
| public   | users                         | users_contact_number_key                                    | btree  | false      | true      | CREATE UNIQUE INDEX users_contact_number_key ON public.users USING btree (contact_number)                                                                                                                                                                                      | 16 kB             | 20       | 12           | 0             |
| public   | users                         | users_email_key                                             | btree  | false      | true      | CREATE UNIQUE INDEX users_email_key ON public.users USING btree (email)                                                                                                                                                                                                        | 16 kB             | 41       | 20           | 0             |
| public   | users                         | users_pkey                                                  | btree  | true       | true      | CREATE UNIQUE INDEX users_pkey ON public.users USING btree (user_id)                                                                                                                                                                                                           | 16 kB             | 7495     | 12605        | 12259         |
| public   | users                         | users_username_key                                          | btree  | false      | true      | CREATE UNIQUE INDEX users_username_key ON public.users USING btree (username)                                                                                                                                                                                                  | 16 kB             | 55       | 0            | 0             |
| public   | users_history                 | idx_users_history_changed_fields                            | gin    | false      | false     | CREATE INDEX idx_users_history_changed_fields ON public.users_history USING gin (changed_fields)                                                                                                                                                                               | 56 kB             | 0        | 0            | 0             |
| public   | users_history                 | idx_users_history_user                                      | btree  | false      | false     | CREATE INDEX idx_users_history_user ON public.users_history USING btree (user_id, version_no DESC)                                                                                                                                                                             | 16 kB             | 385      | 354          | 343           |
| public   | users_history                 | users_history_pkey                                          | btree  | true       | true      | CREATE UNIQUE INDEX users_history_pkey ON public.users_history USING btree (history_id)                                                                                                                                                                                        | 16 kB             | 94       | 4330         | 4138          |
| public   | vaccinemaster                 | uniq_vaccinemaster_antigen_brand_mfr                        | btree  | false      | true      | CREATE UNIQUE INDEX uniq_vaccinemaster_antigen_brand_mfr ON public.vaccinemaster USING btree (lower((antigen_name)::text), lower((brand_name)::text), lower((COALESCE(manufacturer, ''::character varying))::text))                                                            | 16 kB             | 11       | 0            | 0             |
| public   | vaccinemaster                 | uq_vaccinemaster_antigen_brand                              | btree  | false      | true      | CREATE UNIQUE INDEX uq_vaccinemaster_antigen_brand ON public.vaccinemaster USING btree (antigen_name, brand_name) WHERE (is_deleted = false)                                                                                                                                   | 16 kB             | 0        | 0            | 0             |
| public   | vaccinemaster                 | uq_vaccinemaster_antigen_brand_active                       | btree  | false      | true      | CREATE UNIQUE INDEX uq_vaccinemaster_antigen_brand_active ON public.vaccinemaster USING btree (lower((antigen_name)::text), lower((COALESCE(brand_name, ''::character varying))::text)) WHERE (is_deleted = false)                                                             | 16 kB             | 0        | 0            | 0             |
| public   | vaccinemaster                 | vaccinemaster_pkey                                          | btree  | true       | true      | CREATE UNIQUE INDEX vaccinemaster_pkey ON public.vaccinemaster USING btree (vaccine_id)                                                                                                                                                                                        | 16 kB             | 23049    | 23756        | 23632         |
| public   | visits                        | idx_visits_patient_active                                   | btree  | false      | false     | CREATE INDEX idx_visits_patient_active ON public.visits USING btree (patient_id) WHERE (is_deleted = false)                                                                                                                                                                    | 16 kB             | 0        | 0            | 0             |
| public   | visits                        | visits_pkey                                                 | btree  | true       | true      | CREATE UNIQUE INDEX visits_pkey ON public.visits USING btree (visit_id)                                                                                                                                                                                                        | 16 kB             | 18946    | 18692        | 18647         |
| public   | visits_history                | visits_history_pkey                                         | btree  | true       | true      | CREATE UNIQUE INDEX visits_history_pkey ON public.visits_history USING btree (history_id)                                                                                                                                                                                      | 16 kB             | 119      | 120          | 90            |
| public   | visits_history                | visits_history_visit_id_version_no_idx                      | btree  | false      | false     | CREATE INDEX visits_history_visit_id_version_no_idx ON public.visits_history USING btree (visit_id, version_no DESC)                                                                                                                                                           | 16 kB             | 48       | 32           | 12            |
| public   | vitalsigns                    | idx_vitalsigns_visit_active                                 | btree  | false      | false     | CREATE INDEX idx_vitalsigns_visit_active ON public.vitalsigns USING btree (visit_id) WHERE (is_deleted = false)                                                                                                                                                                | 16 kB             | 0        | 0            | 0             |
| public   | vitalsigns                    | vitalsigns_pkey                                             | btree  | true       | true      | CREATE UNIQUE INDEX vitalsigns_pkey ON public.vitalsigns USING btree (vital_id)                                                                                                                                                                                                | 16 kB             | 100      | 74           | 69            |
| public   | vitamina                      | idx_vitamina_inventory_active                               | btree  | false      | false     | CREATE INDEX idx_vitamina_inventory_active ON public.vitamina USING btree (inventory_id) WHERE (is_deleted = false)                                                                                                                                                            | 8192 bytes        | 0        | 0            | 0             |
| public   | vitamina                      | idx_vitamina_outside_flag                                   | btree  | false      | false     | CREATE INDEX idx_vitamina_outside_flag ON public.vitamina USING btree (outside) WHERE (is_deleted = false)                                                                                                                                                                     | 8192 bytes        | 0        | 0            | 0             |
| public   | vitamina                      | idx_vitamina_patient_active                                 | btree  | false      | false     | CREATE INDEX idx_vitamina_patient_active ON public.vitamina USING btree (patient_id) WHERE (is_deleted = false)                                                                                                                                                                | 8192 bytes        | 0        | 0            | 0             |
| public   | vitamina                      | idx_vitamina_vaccine_active                                 | btree  | false      | false     | CREATE INDEX idx_vitamina_vaccine_active ON public.vitamina USING btree (vaccine_id) WHERE (is_deleted = false)                                                                                                                                                                | 8192 bytes        | 0        | 0            | 0             |
| public   | vitamina                      | idx_vitamina_visit_active                                   | btree  | false      | false     | CREATE INDEX idx_vitamina_visit_active ON public.vitamina USING btree (visit_id) WHERE (is_deleted = false)                                                                                                                                                                    | 8192 bytes        | 0        | 0            | 0             |
| public   | vitamina                      | idx_vitamina_vital_active                                   | btree  | false      | false     | CREATE INDEX idx_vitamina_vital_active ON public.vitamina USING btree (vital_id) WHERE (is_deleted = false)                                                                                                                                                                    | 8192 bytes        | 0        | 0            | 0             |
| public   | vitamina                      | vitamina_pkey                                               | btree  | true       | true      | CREATE UNIQUE INDEX vitamina_pkey ON public.vitamina USING btree (vitamina_id)                                                                                                                                                                                                 | 8192 bytes        | 53       | 3            | 3             |
| public   | vitamina_history              | vitamina_history_pkey                                       | btree  | true       | true      | CREATE UNIQUE INDEX vitamina_history_pkey ON public.vitamina_history USING btree (history_id)                                                                                                                                                                                  | 8192 bytes        | 22       | 0            | 0             |
| public   | vitamina_history              | vitamina_history_vitamina_id_version_no_idx                 | btree  | false      | false     | CREATE INDEX vitamina_history_vitamina_id_version_no_idx ON public.vitamina_history USING btree (vitamina_id, version_no DESC)                                                                                                                                                 | 8192 bytes        | 0        | 0            | 0             |
| realtime | messages                      | messages_inserted_at_topic_index                            | btree  | false      | false     | CREATE INDEX messages_inserted_at_topic_index ON ONLY realtime.messages USING btree (inserted_at DESC, topic) WHERE ((extension = 'broadcast'::text) AND (private IS TRUE))                                                                                                    | 0 bytes           | 0        | 0            | 0             |
| realtime | messages                      | messages_pkey                                               | btree  | true       | true      | CREATE UNIQUE INDEX messages_pkey ON ONLY realtime.messages USING btree (id, inserted_at)                                                                                                                                                                                      | 0 bytes           | 0        | 0            | 0             |
| realtime | schema_migrations             | schema_migrations_pkey                                      | btree  | true       | true      | CREATE UNIQUE INDEX schema_migrations_pkey ON realtime.schema_migrations USING btree (version)                                                                                                                                                                                 | 16 kB             | 0        | 0            | 0             |
| realtime | subscription                  | ix_realtime_subscription_entity                             | btree  | false      | false     | CREATE INDEX ix_realtime_subscription_entity ON realtime.subscription USING btree (entity)                                                                                                                                                                                     | 8192 bytes        | 0        | 0            | 0             |
| realtime | subscription                  | pk_subscription                                             | btree  | true       | true      | CREATE UNIQUE INDEX pk_subscription ON realtime.subscription USING btree (id)                                                                                                                                                                                                  | 8192 bytes        | 0        | 0            | 0             |
| realtime | subscription                  | subscription_subscription_id_entity_filters_key             | btree  | false      | true      | CREATE UNIQUE INDEX subscription_subscription_id_entity_filters_key ON realtime.subscription USING btree (subscription_id, entity, filters)                                                                                                                                    | 8192 bytes        | 42036    | 0            | 0             |
| storage  | buckets                       | bname                                                       | btree  | false      | true      | CREATE UNIQUE INDEX bname ON storage.buckets USING btree (name)                                                                                                                                                                                                                | 8192 bytes        | 0        | 0            | 0             |
| storage  | buckets                       | buckets_pkey                                                | btree  | true       | true      | CREATE UNIQUE INDEX buckets_pkey ON storage.buckets USING btree (id)                                                                                                                                                                                                           | 8192 bytes        | 0        | 0            | 0             |
| storage  | buckets_analytics             | buckets_analytics_pkey                                      | btree  | true       | true      | CREATE UNIQUE INDEX buckets_analytics_pkey ON storage.buckets_analytics USING btree (id)                                                                                                                                                                                       | 8192 bytes        | 0        | 0            | 0             |
| storage  | migrations                    | migrations_name_key                                         | btree  | false      | true      | CREATE UNIQUE INDEX migrations_name_key ON storage.migrations USING btree (name)                                                                                                                                                                                               | 16 kB             | 1        | 1            | 1             |
| storage  | migrations                    | migrations_pkey                                             | btree  | true       | true      | CREATE UNIQUE INDEX migrations_pkey ON storage.migrations USING btree (id)                                                                                                                                                                                                     | 16 kB             | 0        | 0            | 0             |
| storage  | objects                       | bucketid_objname                                            | btree  | false      | true      | CREATE UNIQUE INDEX bucketid_objname ON storage.objects USING btree (bucket_id, name)                                                                                                                                                                                          | 8192 bytes        | 0        | 0            | 0             |
| storage  | objects                       | idx_name_bucket_level_unique                                | btree  | false      | true      | CREATE UNIQUE INDEX idx_name_bucket_level_unique ON storage.objects USING btree (name COLLATE "C", bucket_id, level)                                                                                                                                                           | 8192 bytes        | 2        | 0            | 0             |
| storage  | objects                       | idx_objects_bucket_id_name                                  | btree  | false      | false     | CREATE INDEX idx_objects_bucket_id_name ON storage.objects USING btree (bucket_id, name COLLATE "C")                                                                                                                                                                           | 8192 bytes        | 0        | 0            | 0             |
| storage  | objects                       | idx_objects_lower_name                                      | btree  | false      | false     | CREATE INDEX idx_objects_lower_name ON storage.objects USING btree ((path_tokens[level]), lower(name) text_pattern_ops, bucket_id, level)                                                                                                                                      | 8192 bytes        | 0        | 0            | 0             |
| storage  | objects                       | name_prefix_search                                          | btree  | false      | false     | CREATE INDEX name_prefix_search ON storage.objects USING btree (name text_pattern_ops)                                                                                                                                                                                         | 8192 bytes        | 0        | 0            | 0             |
| storage  | objects                       | objects_bucket_id_level_idx                                 | btree  | false      | true      | CREATE UNIQUE INDEX objects_bucket_id_level_idx ON storage.objects USING btree (bucket_id, level, name COLLATE "C")                                                                                                                                                            | 8192 bytes        | 0        | 0            | 0             |
| storage  | objects                       | objects_pkey                                                | btree  | true       | true      | CREATE UNIQUE INDEX objects_pkey ON storage.objects USING btree (id)                                                                                                                                                                                                           | 8192 bytes        | 0        | 0            | 0             |
| storage  | prefixes                      | idx_prefixes_lower_name                                     | btree  | false      | false     | CREATE INDEX idx_prefixes_lower_name ON storage.prefixes USING btree (bucket_id, level, ((string_to_array(name, '/'::text))[level]), lower(name) text_pattern_ops)                                                                                                             | 8192 bytes        | 0        | 0            | 0             |
| storage  | prefixes                      | prefixes_pkey                                               | btree  | true       | true      | CREATE UNIQUE INDEX prefixes_pkey ON storage.prefixes USING btree (bucket_id, level, name)                                                                                                                                                                                     | 8192 bytes        | 0        | 0            | 0             |
| storage  | s3_multipart_uploads          | idx_multipart_uploads_list                                  | btree  | false      | false     | CREATE INDEX idx_multipart_uploads_list ON storage.s3_multipart_uploads USING btree (bucket_id, key, created_at)                                                                                                                                                               | 8192 bytes        | 0        | 0            | 0             |
| storage  | s3_multipart_uploads          | s3_multipart_uploads_pkey                                   | btree  | true       | true      | CREATE UNIQUE INDEX s3_multipart_uploads_pkey ON storage.s3_multipart_uploads USING btree (id)                                                                                                                                                                                 | 8192 bytes        | 0        | 0            | 0             |
| storage  | s3_multipart_uploads_parts    | s3_multipart_uploads_parts_pkey                             | btree  | true       | true      | CREATE UNIQUE INDEX s3_multipart_uploads_parts_pkey ON storage.s3_multipart_uploads_parts USING btree (id)                                                                                                                                                                     | 8192 bytes        | 0        | 0            | 0             |
| vault    | secrets                       | secrets_name_idx                                            | btree  | false      | true      | CREATE UNIQUE INDEX secrets_name_idx ON vault.secrets USING btree (name) WHERE (name IS NOT NULL)                                                                                                                                                                              | 8192 bytes        | 0        | 0            | 0             |
| vault    | secrets                       | secrets_pkey                                                | btree  | true       | true      | CREATE UNIQUE INDEX secrets_pkey ON vault.secrets USING btree (id)                                                                                                                                                                                                             | 8192 bytes        | 0        | 0            | 0             |